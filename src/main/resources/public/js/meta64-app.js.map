{"version":3,"file":"meta64-app.js","sourceRoot":"","sources":["../ts/Interfaces.ts","../ts/Constants.ts","../ts/DialogBase.ts","../ts/MessageDlg.ts","../ts/ProgressDlg.ts","../ts/Factory.ts","../ts/Util.ts","../ts/View.ts","../ts/Props.ts","../ts/Render.ts","../ts/SearchContentDlg.ts","../ts/TimelineResultsPanel.ts","../ts/SearchResultsPanel.ts","../ts/Search.ts","../ts/LoginDlg.ts","../ts/SignupDlg.ts","../ts/User.ts","../ts/PrefsDlg.ts","../ts/SearchTagsDlg.ts","../ts/SearchFilesDlg.ts","../ts/Nav.ts","../ts/EditNodeDlg.ts","../ts/ConfirmDlg.ts","../ts/CreateNodeDlg.ts","../ts/RenameNodeDlg.ts","../ts/ImportDlg.ts","../ts/ExportDlg.ts","../ts/ChangePasswordDlg.ts","../ts/ManageAccountDlg.ts","../ts/Edit.ts","../ts/Prefs.ts","../ts/SharingDlg.ts","../ts/Share.ts","../ts/AudioPlayerDlg.ts","../ts/Podcast.ts","../ts/BindClick.ts","../ts/MenuPanel.ts","../ts/SystemFolder.ts","../ts/Meta64.ts","../ts/UploadFromFileDropzoneDlg.ts","../ts/UploadFromUrlDlg.ts","../ts/Attachment.ts","../ts/DialogBaseImpl.ts","../ts/AudioPlayerDlgImpl.ts","../ts/ChangePasswordDlgImpl.ts","../ts/ConfirmDlgImpl.ts","../ts/CreateNodeDlgImpl.ts","../ts/EditPropertyDlg.ts","../ts/EditNodeDlgImpl.ts","../ts/EditPropertyDlgImpl.ts","../ts/EditSystemFileDlg.ts","../ts/EditSystemFileDlgImpl.ts","../ts/ExportDlgImpl.ts","../ts/ImportDlgImpl.ts","../ts/ResetPasswordDlg.ts","../ts/LoginDlgImpl.ts","../ts/ManageAccountDlgImpl.ts","../ts/MessageDlgImpl.ts","../ts/PrefsDlgImpl.ts","../ts/ProgressDlgImpl.ts","../ts/RenameNodeDlgImpl.ts","../ts/ResetPasswordDlgImpl.ts","../ts/SearchContentDlgImpl.ts","../ts/SearchFilesDlgImpl.ts","../ts/SearchTagsDlgImpl.ts","../ts/ShareToPersonDlg.ts","../ts/ShareToPersonDlgImpl.ts","../ts/SharingDlgImpl.ts","../ts/SignupDlgImpl.ts","../ts/UploadFromFileDlg.ts","../ts/UploadFromFileDlgImpl.ts","../ts/UploadFromFileDropzoneDlgImpl.ts","../ts/UploadFromUrlDlgImpl.ts"],"names":[],"mappings":"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","sourcesContent":["console.log(\"Interfaces.ts\");\n\n/* These are Client-side only models, and are not seen on the server side ever */\n\n/* Models a time-range in some media where an AD starts and stops */\nexport class AdSegment {\n    constructor(public beginTime: number,//\n        public endTime: number) {\n    }\n}\n\nexport class PropEntry {\n    constructor(public id: string, //\n        public property: PropertyInfo, //\n        public multi: boolean, //\n        public readOnly: boolean, //\n        public binary: boolean, //\n        public subProps: SubProp[]) {\n    }\n}\n\nexport class SubProp {\n    constructor(public id: string, //\n        public val: string) {\n    }\n}\n\n\nexport interface AccessControlEntryInfo {\n    principalName: string;\n    privileges: PrivilegeInfo[];\n}\n\nexport interface NodeInfo {\n    id: string;\n    path: string;\n    name: string;\n    primaryTypeName: string;\n    properties: PropertyInfo[];\n    hasChildren: boolean;\n    hasBinary: boolean;\n    binaryIsImage: boolean;\n    binVer: number;\n    width: number;\n    height: number;\n    childrenOrdered: boolean;\n    uid: string;\n    createdBy: string;\n    lastModified: Date;\n    imgId: string;\n    owner: string;\n}\n\nexport interface PrivilegeInfo {\n    privilegeName: string;\n}\n\nexport interface PropertyInfo {\n    type: number;\n    name: string;\n    value: string;\n    values: string[];\n    abbreviated: boolean;\n}\n\nexport interface RefInfo {\n    id: string;\n    path: string;\n}\n\nexport interface UserPreferences {\n    editMode: boolean;\n    advancedMode: boolean;\n    lastNode: string;\n    importAllowed: boolean;\n    exportAllowed: boolean;\n    showMetaData: boolean;\n}\n\nexport interface AddPrivilegeRequest {\n    nodeId: string;\n    privileges: string[];\n    principal: string;\n    publicAppend: boolean;\n}\n\nexport interface AnonPageLoadRequest {\n    ignoreUrl: boolean;\n}\n\nexport interface ChangePasswordRequest {\n    newPassword: string;\n    passCode: string;\n}\n\nexport interface CloseAccountRequest {\n}\n\nexport interface GenerateRSSRequest {\n}\n\nexport interface SetPlayerInfoRequest {\n    url: string;\n    timeOffset: number;\n    //nodePath: string;\n}\n\nexport interface GetPlayerInfoRequest {\n    url: string;\n}\n\nexport interface CreateSubNodeRequest {\n    nodeId: string;\n    newNodeName: string;\n    typeName: string;\n    createAtTop: boolean;\n}\n\nexport interface DeleteAttachmentRequest {\n    nodeId: string;\n}\n\nexport interface DeleteNodesRequest {\n    nodeIds: string[];\n}\n\nexport interface DeletePropertyRequest {\n    nodeId: string;\n    propName: string;\n}\n\nexport interface ExpandAbbreviatedNodeRequest {\n    nodeId: string;\n}\n\nexport interface ExportRequest {\n    nodeId: string;\n    targetFileName: string;\n}\n\nexport interface GetNodePrivilegesRequest {\n    nodeId: string;\n    includeAcl: boolean;\n    includeOwners: boolean;\n}\n\nexport interface GetServerInfoRequest {\n}\n\nexport interface GetSharedNodesRequest {\n    nodeId: string;\n}\n\nexport interface ImportRequest {\n    nodeId: string;\n    sourceFileName: string;\n}\n\nexport interface InitNodeEditRequest {\n    nodeId: string;\n}\n\nexport interface InsertBookRequest {\n    nodeId: string;\n    bookName: string;\n    truncated: boolean;\n}\n\nexport interface InsertNodeRequest {\n    parentId: string;\n    targetName: string;\n    newNodeName: string;\n    typeName: string;\n}\n\nexport interface LoginRequest {\n    userName: string;\n    password: string;\n    tzOffset: number;\n    dst: boolean;\n}\n\nexport interface LogoutRequest {\n}\n\nexport interface MoveNodesRequest {\n    targetNodeId: string;\n    targetChildId: string;\n    nodeIds: string[];\n}\n\nexport interface NodeSearchRequest {\n    sortDir: string;\n    sortField: string;\n    nodeId: string;\n    searchText: string;\n    searchProp: string;\n}\n\nexport interface FileSearchRequest {\n    nodeId: string;\n    searchText: string;\n    reindex: boolean\n}\n\nexport interface RemovePrivilegeRequest {\n    nodeId: string;\n    principal: string;\n    privilege: string;\n}\n\nexport interface RenameNodeRequest {\n    nodeId: string;\n    newName: string;\n}\n\nexport interface RenderNodeRequest {\n    nodeId: string;\n    upLevel: number;\n    offset: number;\n    renderParentIfLeaf: boolean;\n    goToLastPage: boolean;\n}\n\nexport interface ResetPasswordRequest {\n    user: string;\n    email: string;\n}\n\nexport interface SaveNodeRequest {\n    nodeId: string;\n    properties: PropertyInfo[];\n    sendNotification: boolean;\n}\n\nexport interface SavePropertyRequest {\n    nodeId: string;\n    propertyName: string;\n    propertyValue: string;\n}\n\nexport interface SaveUserPreferencesRequest {\n    userPreferences: UserPreferences;\n}\n\nexport interface OpenSystemFileRequest {\n    fileName: string;\n}\n\nexport interface SetNodePositionRequest {\n    parentNodeId: string;\n    nodeId: string;\n    siblingId: string;\n}\n\nexport interface SignupRequest {\n    userName: string;\n    password: string;\n    email: string;\n    captcha: string;\n}\n\nexport interface SplitNodeRequest {\n    nodeId: string;\n    nodeBelowId: string;\n    delimiter: string;\n}\n\nexport interface UploadFromUrlRequest {\n    nodeId: string;\n    sourceUrl: string;\n}\n\nexport interface BrowseFolderRequest {\n    nodeId: string;\n}\n\nexport interface AddPrivilegeResponse extends OakResponseBase {\n}\n\nexport interface AnonPageLoadResponse extends OakResponseBase {\n    content: string;\n    renderNodeResponse: RenderNodeResponse;\n}\n\nexport interface ChangePasswordResponse extends OakResponseBase {\n    user: string;\n}\n\nexport interface CloseAccountResponse extends OakResponseBase {\n}\n\nexport interface GenerateRSSResponse extends OakResponseBase {\n}\n\nexport interface SetPlayerInfoResponse extends OakResponseBase {\n}\n\nexport interface GetPlayerInfoResponse extends OakResponseBase {\n    timeOffset: number;\n}\n\nexport interface CreateSubNodeResponse extends OakResponseBase {\n    newNode: NodeInfo;\n}\n\nexport interface DeleteAttachmentResponse extends OakResponseBase {\n}\n\nexport interface DeleteNodesResponse extends OakResponseBase {\n}\n\nexport interface DeletePropertyResponse extends OakResponseBase {\n}\n\nexport interface ExpandAbbreviatedNodeResponse extends OakResponseBase {\n    nodeInfo: NodeInfo;\n}\n\nexport interface ExportResponse extends OakResponseBase {\n}\n\nexport interface GetNodePrivilegesResponse extends OakResponseBase {\n    aclEntries: AccessControlEntryInfo[];\n    owners: string[];\n    publicAppend: boolean;\n}\n\nexport interface GetServerInfoResponse extends OakResponseBase {\n    serverInfo: string;\n}\n\nexport interface GetSharedNodesResponse extends OakResponseBase {\n    searchResults: NodeInfo[];\n}\n\nexport interface ImportResponse extends OakResponseBase {\n}\n\nexport interface InitNodeEditResponse extends OakResponseBase {\n    nodeInfo: NodeInfo;\n}\n\nexport interface InsertBookResponse extends OakResponseBase {\n    newNode: NodeInfo;\n}\n\nexport interface InsertNodeResponse extends OakResponseBase {\n    newNode: NodeInfo;\n}\n\nexport interface LoginResponse extends OakResponseBase {\n    rootNode: RefInfo;\n    userName: string;\n    anonUserLandingPageNode: string;\n    homeNodeOverride: string;\n    userPreferences: UserPreferences;\n    allowFileSystemSearch: boolean;\n}\n\nexport interface LogoutResponse extends OakResponseBase {\n}\n\nexport interface MoveNodesResponse extends OakResponseBase {\n}\n\nexport interface NodeSearchResponse extends OakResponseBase {\n    searchResults: NodeInfo[];\n}\n\nexport interface FileSearchResponse extends OakResponseBase {\n    searchResultNodeId: string;\n}\n\nexport interface RemovePrivilegeResponse extends OakResponseBase {\n}\n\nexport interface RenameNodeResponse extends OakResponseBase {\n    newId: string;\n}\n\nexport interface RenderNodeResponse extends OakResponseBase {\n    node: NodeInfo;\n    children: NodeInfo[];\n    offsetOfNodeFound: number;\n\n    /* holds true if we hit the end of the list of child nodes */\n    endReached: boolean;\n\n    displayedParent: boolean;\n}\n\nexport interface ResetPasswordResponse extends OakResponseBase {\n}\n\nexport interface SaveNodeResponse extends OakResponseBase {\n    node: NodeInfo;\n}\n\nexport interface SavePropertyResponse extends OakResponseBase {\n    propertySaved: PropertyInfo;\n}\n\nexport interface SaveUserPreferencesResponse extends OakResponseBase {\n}\n\nexport interface OpenSystemFileResponse extends OakResponseBase {\n}\n\nexport interface SetNodePositionResponse extends OakResponseBase {\n}\n\nexport interface SignupResponse extends OakResponseBase {\n}\n\nexport interface SplitNodeResponse extends OakResponseBase {\n}\n\nexport interface UploadFromUrlResponse extends OakResponseBase {\n}\n\nexport interface BrowseFolderResponse extends OakResponseBase {\n    listingJson: string;\n}\n\nexport interface OakResponseBase {\n    success: boolean;\n    message: string;\n}\n","console.log(\"Constants.ts\");\n\ndeclare var cookiePrefix;\n\nclass Constants {\n\n    ANON: string = \"anonymous\";\n    COOKIE_LOGIN_USR: string = cookiePrefix + \"loginUsr\";\n    COOKIE_LOGIN_PWD: string = cookiePrefix + \"loginPwd\";\n    /*\n     * loginState=\"0\" if user logged out intentionally. loginState=\"1\" if last known state of user was 'logged in'\n     */\n    COOKIE_LOGIN_STATE: string = cookiePrefix + \"loginState\";\n    BR: \"<div class='vert-space'></div>\";\n    INSERT_ATTACHMENT: string = \"{{insert-attachment}}\";\n    NEW_ON_TOOLBAR: boolean = false;\n    INS_ON_TOOLBAR: boolean = false;\n    MOVE_UPDOWN_ON_TOOLBAR: boolean = true;\n\n    /*\n     * This works, but I'm not sure I want it for ALL editing. Still thinking about design here, before I turn this\n     * on.\n     */\n    USE_ACE_EDITOR: boolean = false;\n\n    /* showing path on rows just wastes space for ordinary users. Not really needed */\n    SHOW_PATH_ON_ROWS: boolean = true;\n    SHOW_PATH_IN_DLGS: boolean = true;\n\n    SHOW_CLEAR_BUTTON_IN_EDITOR: boolean = false;\n}\nexport let cnst: Constants = new Constants();\n(<any>window).cnst = cnst;\n\nclass JCRConstants {\n\n    COMMENT_BY: string = \"commentBy\";\n    PUBLIC_APPEND: string = \"publicAppend\";\n    PRIMARY_TYPE: string = \"jcr:primaryType\";\n    POLICY: string = \"rep:policy\";\n\n    MIXIN_TYPES: string = \"jcr:mixinTypes\";\n\n    EMAIL_CONTENT: string = \"jcr:content\";\n    EMAIL_RECIP: string = \"recip\";\n    EMAIL_SUBJECT: string = \"subject\";\n\n    CREATED: string = \"jcr:created\";\n    CREATED_BY: string = \"jcr:createdBy\";\n    CONTENT: string = \"jcr:content\";\n    TAGS: string = \"tags\";\n    UUID: string = \"jcr:uuid\";\n    LAST_MODIFIED: string = \"jcr:lastModified\";\n    LAST_MODIFIED_BY: string = \"jcr:lastModifiedBy\";\n    JSON_FILE_SEARCH_RESULT: string = \"meta64:json\";\n\n    DISABLE_INSERT: string = \"disableInsert\";\n\n    USER: string = \"user\";\n    PWD: string = \"pwd\";\n    EMAIL: string = \"email\";\n    CODE: string = \"code\";\n\n    BIN_VER: string = \"binVer\";\n    BIN_DATA: string = \"jcrData\";\n    BIN_MIME: string = \"jcr:mimeType\";\n\n    IMG_WIDTH: string = \"imgWidth\";\n    IMG_HEIGHT: string = \"imgHeight\";\n}\nexport let jcrCnst: JCRConstants = new JCRConstants();\n","console.log(\"DialogBase.ts\");\n\nexport interface DialogBase {\n    init(): void;\n    closeEvent(): void;\n    build(): string;\n    open(): void;\n    cancel();\n    id(id): string;\n    el(id): any;\n    makePasswordField(text: string, id: string): string;\n    makeEditField(fieldName: string, id: string);\n    makeMessageArea(message: string, id?: string): string;\n    makeButton(text: string, id: string, callback: any, ctx?: any): string;\n    makeCloseButton(text: string, id: string, callback?: any, ctx?: any, initiallyVisible?: boolean, delayCloseCallback?: number): string;\n    bindEnterKey(id: string, callback: any): void;\n    setInputVal(id: string, val: string): void;\n    getInputVal(id: string): string;\n    setHtml(text: string, id: string): void;\n    makeRadioButton(label: string, id: string): string;\n    makeCheckBox(label: string, id: string, initialState: boolean): string;\n    makeHeader(text: string, id?: string, centered?: boolean): string;\n    focus(id: string): void;\n}\n","console.log(\"MessageDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface MessageDlg extends DialogBase {\n    build(): string;\n}\n","console.log(\"MessageDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface ProgressDlg extends DialogBase {\n}\n","console.log(\"Factory.ts\");\n\ndeclare const System: any;\n\nexport class Factory {\n\n    /* Note that for running as un-bundles (individual files) afaik the filePrefix might need to be \"/js/\" which is the path where all the modules are located,\n    but when running in single large bundle file the className along is suffixient without a path */\n    private static filePrefix: string = \"\";\n\n    /* Creates an instance of an object exported as 'default' */\n    static createDefault = function(className: string, callback?: any, args?: Object): void {\n        System.import(Factory.filePrefix + className).then(function(mod) {\n            let obj = new (<any>mod).default(args || {});\n            if (callback) {\n                callback(obj);\n            }\n        });\n    }\n\n    /* Create an instance of an object assuming the naming convention is followed by having the module name be the same as the class name. */\n    static create = function(className: string, callback?: any, args?: Object): void {\n        System.import(Factory.filePrefix + className).then(function(mod) {\n            let obj = new (<any>mod)[className](args || {});\n            if (callback) {\n                callback(obj);\n            }\n        });\n    }\n}\n","console.log(\"Util.ts\");\n\n\n\n/// <reference path=\"./tyepdefs/jquery/jquery.d.ts\" />\n/// <reference path=\"./tyepdefs/jquery.cookie/jquery.cookie.d.ts\" />\n\ndeclare var Polymer;\ndeclare var Dropzone;\ndeclare var ace;\ndeclare var cookiePrefix;\ndeclare var postTargetUrl;\ndeclare var prettyPrint;\ndeclare var BRANDING_TITLE;\ndeclare var BRANDING_TITLE_SHORT;\n\nimport { meta64 } from \"./Meta64\";\nimport { MessageDlg } from \"./MessageDlg\";\nimport { ProgressDlg } from \"./ProgressDlg\";\nimport { Factory } from \"./Factory\";\nimport * as I from \"./Interfaces\";\n\nclass Util {\n\n    logAjax: boolean = false;\n    timeoutMessageShown: boolean = false;\n    offline: boolean = false;\n\n    waitCounter: number = 0;\n    pgrsDlg: any = null;\n\n    escapeRegExp = function(_) {\n        return _.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    }\n\n    escapeForAttrib = function(_) {\n        return util.replaceAll(_, \"\\\"\", \"&quot;\");\n    }\n\n    unencodeHtml = function(_) {\n        if (!util.contains(_, \"&\"))\n            return _;\n\n        var ret = _;\n        ret = util.replaceAll(ret, '&amp;', '&');\n        ret = util.replaceAll(ret, '&gt;', '>');\n        ret = util.replaceAll(ret, '&lt;', '<');\n        ret = util.replaceAll(ret, '&quot;', '\"');\n        ret = util.replaceAll(ret, '&#39;', \"'\");\n\n        return ret;\n    }\n\n    replaceAll = function(_, find, replace) {\n        return _.replace(new RegExp(util.escapeRegExp(find), 'g'), replace);\n    }\n\n    contains = function(_, str) {\n        return _.indexOf(str) != -1;\n    }\n\n    startsWith = function(_, str) {\n        return _.indexOf(str) === 0;\n    }\n\n    stripIfStartsWith = function(_, str) {\n        if (_.startsWith(str)) {\n            return _.substring(str.length);\n        }\n        return _;\n    }\n\n    arrayClone = function(_: any[]) {\n        return _.slice(0);\n    };\n\n    arrayIndexOfItemByProp = function(_: any[], propName, propVal) {\n        var len = _.length;\n        for (var i = 0; i < len; i++) {\n            if (_[i][propName] === propVal) {\n                return i;\n            }\n        }\n        return -1;\n    };\n\n    /* need to test all calls to this method because i noticed during TypeScript conversion i wasn't even returning\n    a value from this function! todo-0\n    */\n    arrayMoveItem = function(_: any[], fromIndex, toIndex) {\n        _.splice(toIndex, 0, _.splice(fromIndex, 1)[0]);\n    };\n\n    static stdTimezoneOffset = function(_: Date) {\n        var jan = new Date(_.getFullYear(), 0, 1);\n        var jul = new Date(_.getFullYear(), 6, 1);\n        return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());\n    }\n\n    static dst = function(_: Date) {\n        return _.getTimezoneOffset() < Util.stdTimezoneOffset(_);\n    }\n\n    indexOfObject = function(_: any[], obj) {\n        for (var i = 0; i < _.length; i++) {\n            if (_[i] === obj) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    assertNotNull = function(varName) {\n        if (typeof eval(varName) === 'undefined') {\n            util.showMessage(\"Variable not found: \" + varName);\n        }\n    }\n\n    /*\n     * We use this variable to determine if we are waiting for an ajax call, but the server also enforces that each\n     * session is only allowed one concurrent call and simultaneous calls would just \"queue up\".\n     */\n    private _ajaxCounter: number = 0;\n\n    daylightSavingsTime: boolean = (Util.dst(new Date())) ? true : false;\n\n    toJson = function(obj) {\n        return JSON.stringify(obj, null, 4);\n    }\n\n    /*\n     * This came from here:\n     * http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\n     */\n    getParameterByName = function(name?: any, url?: any): string {\n        if (!url)\n            url = window.location.href;\n        name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n        var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"), results = regex.exec(url);\n        if (!results)\n            return null;\n        if (!results[2])\n            return '';\n        return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n    }\n    //\n    // /*\n    //  * Sets up an inheritance relationship so that child inherits from parent, and then returns the prototype of the\n    //  * child so that methods can be added to it, which will behave like member functions in classic OOP with\n    //  * inheritance hierarchies.\n    //  */\n    // inherit = function(parent, child): any {\n    //     child.prototype.constructor = child;\n    //     child.prototype = Object.create(parent.prototype);\n    //     return child.prototype;\n    // }\n    //\n    initProgressMonitor = function(): void {\n        setInterval(util.progressInterval, 1000);\n    }\n\n    progressInterval = function(): void {\n        var isWaiting = util.isAjaxWaiting();\n        if (isWaiting) {\n            util.waitCounter++;\n            if (util.waitCounter >= 3) {\n                if (!util.pgrsDlg) {\n                    Factory.createDefault(\"ProgressDlgImpl\", (dlg: ProgressDlg) => {\n                        util.pgrsDlg = dlg;\n                        util.pgrsDlg.open();\n                    })\n                }\n            }\n        } else {\n            util.waitCounter = 0;\n            if (util.pgrsDlg) {\n                util.pgrsDlg.cancel();\n                util.pgrsDlg = null;\n            }\n        }\n    }\n\n    json = function <RequestType, ResponseType>(postName: any, postData: RequestType, //\n        callback?: (response: ResponseType, payload?: any) => any, callbackThis?: any, callbackPayload?: any) {\n\n        if (callbackThis === window) {\n            console.log(\"PROBABLE BUG: json call for \" + postName + \" used global 'window' as 'this', which is almost never going to be correct.\");\n        }\n\n        var ironAjax;\n        var ironRequest;\n\n        try {\n            if (util.offline) {\n                console.log(\"offline: ignoring call for \" + postName);\n                return;\n            }\n\n            if (util.logAjax) {\n                console.log(\"JSON-POST[gen]: [\" + postName + \"]\" + JSON.stringify(postData));\n            }\n\n            //not w-pack\n            /* Do not delete, research this way... */\n            // var ironAjax = this.$$(\"#myIronAjax\");\n            //ironAjax = Polymer.dom((<_HasRoot>)window.document.root).querySelector(\"#ironAjax\");\n\n            ironAjax = util.polyElmNode(\"ironAjax\");\n\n            ironAjax.url = postTargetUrl + postName;\n            ironAjax.verbose = true;\n            ironAjax.body = JSON.stringify(postData);\n            ironAjax.method = \"POST\";\n            ironAjax.contentType = \"application/json\";\n\n            //not w-pack\n            // specify any url params this way:\n            // ironAjax.params='{\"alt\":\"json\", \"q\":\"chrome\"}';\n\n            ironAjax.handleAs = \"json\"; // handle-as (is prop)\n\n            //not w-pack\n            /* This not a required property */\n            // ironAjax.onResponse = \"util.ironAjaxResponse\"; // on-response\n            // (is\n            // prop)\n            ironAjax.debounceDuration = \"300\"; // debounce-duration (is\n            // prop)\n\n            util._ajaxCounter++;\n            ironRequest = ironAjax.generateRequest();\n        } catch (ex) {\n            util.logAndReThrow(\"Failed starting request: \" + postName, ex);\n        }\n\n        /**\n         * Notes\n         * <p>\n         * If using then function: promise.then(successFunction, failFunction);\n         * <p>\n         * I think the way these parameters get passed into done/fail functions, is because there are resolve/reject\n         * methods getting called with the parameters. Basically the parameters passed to 'resolve' get distributed\n         * to all the waiting methods just like as if they were subscribing in a pub/sub model. So the 'promise'\n         * pattern is sort of a pub/sub model in a way\n         * <p>\n         * The reason to return a 'promise.promise()' method is so no other code can call resolve/reject but can\n         * only react to a done/fail/complete.\n         * <p>\n         * deferred.when(promise1, promise2) creates a new promise that becomes 'resolved' only when all promises\n         * are resolved. It's a big \"and condition\" of resolvement, and if any of the promises passed to it end up\n         * failing, it fails this \"ANDed\" one also.\n         */\n        ironRequest.completes.then(//\n\n            // Handle Success\n            function() {\n                try {\n                    util._ajaxCounter--;\n                    util.progressInterval();\n\n                    if (util.logAjax) {\n                        console.log(\"    JSON-RESULT: \" + postName + \"\\n    JSON-RESULT-DATA: \"\n                            + JSON.stringify(ironRequest.response));\n                    }\n\n                    if (typeof callback == \"function\") {\n                        /*\n                         * This is ugly because it covers all four cases based on two booleans, but it's still the\n                         * simplest way to do this. We have a callback function that may or may not specify a 'this'\n                         * and always calls with the 'reponse' param and optionally a callbackPayload param.\n                         */\n                        if (callbackPayload) {\n                            if (callbackThis) {\n                                callback.call(callbackThis, <ResponseType>ironRequest.response, callbackPayload);\n                            } else {\n                                callback(<ResponseType>ironRequest.response, callbackPayload);\n                            }\n                        }\n                        /* Can't we just let callbackPayload be undefined, and call the above callback methods\n                        and not even have this else block here at all (i.e. not even check if callbackPayload is\n                        null/undefined, but just use it, and not have this if block?)\n                        */\n                        else {\n                            if (callbackThis) {\n                                callback.call(callbackThis, <ResponseType>ironRequest.response);\n                            } else {\n                                callback(<ResponseType>ironRequest.response);\n                            }\n                        }\n                    }\n                } catch (ex) {\n                    util.logAndReThrow(\"Failed handling result of: \" + postName, ex);\n                }\n\n            },\n            // Handle Fail\n            function() {\n                try {\n                    util._ajaxCounter--;\n                    util.progressInterval();\n                    console.log(\"Error in util.json\");\n\n                    if (ironRequest.status == \"403\") {\n                        console.log(\"Not logged in detected in util.\");\n                        util.offline = true;\n\n                        if (!util.timeoutMessageShown) {\n                            util.timeoutMessageShown = true;\n                            util.showMessage(\"Session timed out. Page will refresh.\");\n                        }\n\n                        $(window).off(\"beforeunload\");\n                        window.location.href = window.location.origin;\n                        return;\n                    }\n\n                    let msg: string = \"Server request failed.\\n\\n\";\n\n                    /* catch block should fail silently */\n                    try {\n                        msg += \"Status: \" + ironRequest.statusText + \"\\n\";\n                        msg += \"Code: \" + ironRequest.status + \"\\n\";\n                    } catch (ex) {\n                    }\n\n                    //NOT webpack\n                    /*\n                     * this catch block should also fail silently\n                     *\n                     * This was showing \"classCastException\" when I threw a regular \"Exception\" from server so for now\n                     * I'm just turning this off since its' not displaying the correct message.\n                     */\n                    // try {\n                    // msg += \"Response: \" +\n                    // JSON.parse(xhr.responseText).exception;\n                    // } catch (ex) {\n                    // }\n                    util.showMessage(msg);\n                } catch (ex) {\n                    util.logAndReThrow(\"Failed processing server-side fail of: \" + postName, ex);\n                }\n            });\n\n        return ironRequest;\n    }\n\n    logAndThrow = function(message: string) {\n        let stack = \"[stack, not supported]\";\n        try {\n            stack = (<any>new Error()).stack;\n        }\n        catch (e) { }\n        console.error(message + \"STACK: \" + stack);\n        throw message;\n    }\n\n    logAndReThrow = function(message: string, exception: any) {\n        let stack = \"[stack, not supported]\";\n        try {\n            stack = (<any>new Error()).stack;\n        }\n        catch (e) { }\n        console.error(message + \"STACK: \" + stack);\n        throw exception;\n    }\n\n    ajaxReady = function(requestName): boolean {\n        if (util._ajaxCounter > 0) {\n            console.log(\"Ignoring requests: \" + requestName + \". Ajax currently in progress.\");\n            return false;\n        }\n        return true;\n    }\n\n    isAjaxWaiting = function(): boolean {\n        return util._ajaxCounter > 0;\n    }\n\n    /* set focus to element by id (id must be actual jquery selector) */\n    delayedFocus = function(id): void {\n        /* so user sees the focus fast we try at .5 seconds */\n        setTimeout(function() {\n            $(id).focus();\n        }, 500);\n\n        /* we try again a full second later. Normally not required, but never undesirable */\n        setTimeout(function() {\n            //console.log(\"Focusing ID: \"+id);\n            $(id).focus();\n        }, 1300);\n    }\n\n    /*\n     * We could have put this logic inside the json method itself, but I can forsee cases where we don't want a\n     * message to appear when the json response returns success==false, so we will have to call checkSuccess inside\n     * every response method instead, if we want that response to print a message to the user when fail happens.\n     *\n     * requires: res.success res.message\n     */\n    checkSuccess = function(opFriendlyName, res): boolean {\n        if (!res.success) {\n            util.showMessage(opFriendlyName + \" failed: \" + res.message);\n        }\n        return res.success;\n    }\n\n    showMessage = function(message: string): void {\n        Factory.createDefault(\"MessageDlgImpl\", (dlg: MessageDlg) => {\n            dlg.open();\n        }, { \"message\": message });\n    }\n\n    /* adds all array objects to obj as a set */\n    addAll = function(obj, a): void {\n        for (var i = 0; i < a.length; i++) {\n            if (!a[i]) {\n                console.error(\"null element in addAll at idx=\" + i);\n            } else {\n                obj[a[i]] = true;\n            }\n        }\n    }\n\n    nullOrUndef = function(obj): boolean {\n        return obj === null || obj === undefined;\n    }\n\n    /*\n     * We have to be able to map any identifier to a uid, that will be repeatable, so we have to use a local\n     * 'hashset-type' implementation\n     */\n    getUidForId = function(map: { [key: string]: string }, id): string {\n        /* look for uid in map */\n        let uid: string = map[id];\n\n        /* if not found, get next number, and add to map */\n        if (!uid) {\n            uid = \"\" + meta64.nextUid++;\n            map[id] = uid;\n        }\n        return uid;\n    }\n\n    elementExists = function(id): boolean {\n        if (util.startsWith(id, \"#\")) {\n            id = id.substring(1);\n        }\n\n        if (util.contains(id, \"#\")) {\n            console.log(\"Invalid # in domElm\");\n            return null;\n        }\n\n        var e = document.getElementById(id);\n        return e != null;\n    }\n\n    /* Takes textarea dom Id (# optional) and returns its value */\n    getTextAreaValById = function(id): string {\n        var de: HTMLElement = util.domElm(id);\n        return (<HTMLInputElement>de).value;\n    }\n\n    /*\n     * Gets the RAW DOM element and displays an error message if it's not found. Do not prefix with \"#\"\n     */\n    domElm = function(id): any {\n        if (util.startsWith(id, \"#\")) {\n            id = id.substring(1);\n        }\n\n        if (util.contains(id, \"#\")) {\n            console.log(\"Invalid # in domElm\");\n            return null;\n        }\n\n        var e = document.getElementById(id);\n        if (!e) {\n            console.log(\"domElm Error. Required element id not found: \" + id);\n        }\n        return e;\n    }\n\n    poly = function(id): any {\n        return util.polyElm(id).node;\n    }\n\n    /*\n     * Gets the RAW DOM element and displays an error message if it's not found. Do not prefix with \"#\"\n     */\n    polyElm = function(id: string): any {\n\n        if (util.startsWith(id, \"#\")) {\n            id = id.substring(1);\n        }\n\n        if (util.contains(id, \"#\")) {\n            console.log(\"Invalid # in domElm\");\n            return null;\n        }\n        var e = document.getElementById(id);\n        if (!e) {\n            console.log(\"domElm Error. Required element id not found: \" + id);\n        }\n\n        return Polymer.dom(e);\n    }\n\n    polyElmNode = function(id: string): any {\n        var e = util.polyElm(id);\n        return e.node;\n    }\n\n    /*\n     * Gets the element and displays an error message if it's not found\n     */\n    getRequiredElement = function(id: string): any {\n        var e = $(id);\n        if (e == null) {\n            console.log(\"getRequiredElement. Required element id not found: \" + id);\n        }\n        return e;\n    }\n\n    isObject = function(obj: any): boolean {\n        return obj && obj.length != 0;\n    }\n\n    currentTimeMillis = function(): number {\n        return new Date().getMilliseconds();\n    }\n\n    emptyString = function(val: string): boolean {\n        return !val || val.length == 0;\n    }\n\n    getInputVal = function(id: string): any {\n        return util.polyElm(id).node.value;\n    }\n\n    /* returns true if element was found, or false if element not found */\n    setInputVal = function(id: string, val: string): boolean {\n        if (val == null) {\n            val = \"\";\n        }\n        var elm = util.polyElm(id);\n        if (elm) {\n            elm.node.value = val;\n        }\n        return elm != null;\n    }\n\n    bindEnterKey = function(id: string, func: any) {\n        util.bindKey(id, func, 13);\n    }\n\n    bindKey = function(id: string, func: any, keyCode: any): boolean {\n        $(id).keypress(function(e) {\n            if (e.which == keyCode) { // 13==enter key code\n                func();\n                return false;\n            }\n        });\n        return false;\n    }\n\n    /*\n     * Removed oldClass from element and replaces with newClass, and if oldClass is not present it simply adds\n     * newClass. If old class existed, in the list of classes, then the new class will now be at that position. If\n     * old class didn't exist, then new Class is added at end of class list.\n     */\n    changeOrAddClass = function(elm: string, oldClass: string, newClass: string) {\n        var elmement = $(elm);\n        elmement.toggleClass(oldClass, false);\n        elmement.toggleClass(newClass, true);\n    }\n\n    /*\n     * displays message (msg) of object is not of specified type\n     */\n    verifyType = function(obj: any, type: any, msg: string) {\n        if (typeof obj !== type) {\n            util.showMessage(msg);\n            return false;\n        }\n        return true;\n    }\n\n    setHtml = function(id: string, content: string): void {\n        if (content == null) {\n            content = \"\";\n        }\n\n        var elm = util.domElm(id);\n        var polyElm = Polymer.dom(elm);\n\n        //For Polymer 1.0.0, you need this...\n        //polyElm.node.innerHTML = content;\n\n        polyElm.innerHTML = content;\n\n        Polymer.dom.flush();\n        Polymer.updateStyles();\n    }\n\n    getPropertyCount = function(obj: Object): number {\n        var count = 0;\n        var prop;\n\n        for (prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    /*\n     * iterates over an object creating a string containing it's keys and values\n     */\n    printObject = function(obj: Object): string {\n        if (!obj) {\n            return \"null\";\n        }\n\n        let val: string = \"\"\n        try {\n            let count: number = 0;\n            for (var prop in obj) {\n                if (obj.hasOwnProperty(prop)) {\n                    console.log(\"Property[\" + count + \"]\");\n                    count++;\n                }\n            }\n\n            $.each(obj, function(k, v) {\n                val += k + \" , \" + v + \"\\n\";\n            });\n        } catch (err) {\n            return \"err\";\n        }\n        return val;\n    }\n\n    /* iterates over an object creating a string containing it's keys */\n    printKeys = function(obj: Object): string {\n        if (!obj)\n            return \"null\";\n\n        let val: string = \"\";\n        $.each(obj, function(k, v) {\n            if (!k) {\n                k = \"null\";\n            }\n\n            if (val.length > 0) {\n                val += ',';\n            }\n            val += k;\n        });\n        return val;\n    }\n\n    /*\n     * Makes eleId enabled based on vis flag\n     *\n     * eleId can be a DOM element or the ID of a dom element, with or without leading #\n     */\n    setEnablement = function(elmId: string, enable: boolean): void {\n\n        var elm = null;\n        if (typeof elmId == \"string\") {\n            elm = util.domElm(elmId);\n        } else {\n            elm = elmId;\n        }\n\n        if (elm == null) {\n            console.log(\"setVisibility couldn't find item: \" + elmId);\n            return;\n        }\n\n        if (!enable) {\n            // console.log(\"Enabling element: \" + elmId);\n            elm.disabled = true;\n        } else {\n            // console.log(\"Disabling element: \" + elmId);\n            elm.disabled = false;\n        }\n    }\n\n    /*\n     * Makes eleId visible based on vis flag\n     *\n     * eleId can be a DOM element or the ID of a dom element, with or without leading #\n     */\n    setVisibility = function(elmId: string, vis: boolean): void {\n\n        var elm = null;\n        if (typeof elmId == \"string\") {\n            elm = util.domElm(elmId);\n        } else {\n            elm = elmId;\n        }\n\n        if (elm == null) {\n            console.log(\"setVisibility couldn't find item: \" + elmId);\n            return;\n        }\n\n        if (vis) {\n            // console.log(\"Showing element: \" + elmId);\n            //elm.style.display = 'block';\n            $(elm).show();\n        } else {\n            // console.log(\"hiding element: \" + elmId);\n            //elm.style.display = 'none';\n            $(elm).hide();\n        }\n    }\n\n    /* Programatically creates objects by name, similar to what Java reflection does\n\n    * ex: var example = InstanceLoader.getInstance<NamedThing>(window, 'ExampleClass', args...);\n    */\n    getInstance = function <T>(context: Object, name: string, ...args: any[]): T {\n        var instance = Object.create(context[name].prototype);\n        instance.constructor.apply(instance, args);\n        return <T>instance;\n    }\n}\nexport let util: Util = new Util();\nexport default util;\n","console.log(\"View.ts\");\n\nimport {meta64} from \"./Meta64\"\nimport {util} from \"./Util\";\nimport {nav} from \"./Nav\";\nimport {render} from \"./Render\";\nimport {edit} from \"./Edit\";\nimport {MessageDlg} from \"./MessageDlg\";\nimport * as I from \"./Interfaces\";\n\nclass View {\n\n    scrollToSelNodePending: boolean = false;\n\n    updateStatusBar = function(): void {\n        if (!meta64.currentNodeData)\n            return;\n        var statusLine = \"\";\n\n        if (meta64.editModeOption === meta64.MODE_ADVANCED) {\n            statusLine += \"count: \" + meta64.currentNodeData.children.length;\n        }\n\n        if (meta64.userPreferences.editMode) {\n            statusLine += \" Selections: \" + util.getPropertyCount(meta64.selectedNodes);\n        }\n    }\n\n    /*\n     * newId is optional parameter which, if supplied, should be the id we scroll to when finally done with the\n     * render.\n     */\n    refreshTreeResponse = function(res?: I.RenderNodeResponse, targetId?: any, scrollToTop?: boolean): void {\n        render.renderPageFromData(res, scrollToTop);\n\n        if (scrollToTop) {\n\n        } else {\n            if (targetId) {\n                meta64.highlightRowById(targetId, true);\n            } else {\n                view.scrollToSelectedNode();\n            }\n        }\n        meta64.refreshAllGuiEnablement();\n        util.delayedFocus(\"#mainNodeContent\");\n    }\n\n    /*\n     * newId is optional and if specified makes the page scroll to and highlight that node upon re-rendering.\n     */\n    refreshTree = function(nodeId?: any, renderParentIfLeaf?: any, highlightId?: any, isInitialRender?: boolean): void {\n        if (!nodeId) {\n            nodeId = meta64.currentNodeId;\n        }\n\n        console.log(\"Refreshing tree: nodeId=\" + nodeId);\n        if (!highlightId) {\n            let currentSelNode: I.NodeInfo = meta64.getHighlightedNode();\n            highlightId = currentSelNode != null ? currentSelNode.id : nodeId;\n        }\n\n        /*\n        I don't know of any reason 'refreshTree' should itself reset the offset, but I leave this comment here\n        as a hint for the future.\n        nav.mainOffset = 0;\n        */\n        util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n            \"nodeId\": nodeId,\n            \"upLevel\": null,\n            \"renderParentIfLeaf\": renderParentIfLeaf ? true : false,\n            \"offset\": nav.mainOffset,\n            \"goToLastPage\": false\n        }, function(res: I.RenderNodeResponse) {\n            if (res.offsetOfNodeFound > -1) {\n                nav.mainOffset = res.offsetOfNodeFound;\n            }\n            view.refreshTreeResponse(res, highlightId);\n\n            if (isInitialRender && meta64.urlCmd == \"addNode\" && meta64.homeNodeOverride) {\n                edit.editMode(true);\n                edit.createSubNode(meta64.currentNode.uid);\n            }\n        });\n    }\n\n    firstPage = function(): void {\n        console.log(\"Running firstPage Query\");\n        nav.mainOffset = 0;\n        view.loadPage(false);\n    }\n\n    prevPage = function(): void {\n        console.log(\"Running prevPage Query\");\n        nav.mainOffset -= nav.ROWS_PER_PAGE;\n        if (nav.mainOffset < 0) {\n            nav.mainOffset = 0;\n        }\n        view.loadPage(false);\n    }\n\n    nextPage = function(): void {\n        console.log(\"Running nextPage Query\");\n        nav.mainOffset += nav.ROWS_PER_PAGE;\n        view.loadPage(false);\n    }\n\n    lastPage = function(): void {\n        console.log(\"Running lastPage Query\");\n        //nav.mainOffset += nav.ROWS_PER_PAGE;\n        view.loadPage(true);\n    }\n\n    private loadPage = function(goToLastPage: boolean): void {\n        util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n            \"nodeId\": meta64.currentNodeId,\n            \"upLevel\": null,\n            \"renderParentIfLeaf\": true,\n            \"offset\": nav.mainOffset,\n            \"goToLastPage\": goToLastPage\n        }, function(res: I.RenderNodeResponse) {\n            if (goToLastPage) {\n                if (res.offsetOfNodeFound > -1) {\n                    nav.mainOffset = res.offsetOfNodeFound;\n                }\n            }\n            view.refreshTreeResponse(res, null, true);\n        });\n    }\n\n    /*\n     * todo-3: this scrolling is slightly imperfect. sometimes the code switches to a tab, which triggers\n     * scrollToTop, and then some other code scrolls to a specific location a fraction of a second later. the\n     * 'pending' boolean here is a crutch for now to help visual appeal (i.e. stop if from scrolling to one place\n     * and then scrolling to a different place a fraction of a second later)\n     */\n    scrollToSelectedNode = function() {\n        view.scrollToSelNodePending = true;\n\n        setTimeout(function() {\n            view.scrollToSelNodePending = false;\n\n            let elm: any = nav.getSelectedPolyElement();\n            if (elm && elm.node && typeof elm.node.scrollIntoView == 'function') {\n                elm.node.scrollIntoView();\n            }\n            // If we couldn't find a selected node on this page, scroll to\n            // top instead.\n            else {\n                $(\"#mainContainer\").scrollTop(0);\n                //todo-0: removed mainPaperTabs from visibility, but what code should go here now?\n                // elm = util.polyElm(\"mainPaperTabs\");\n                // if (elm && elm.node && typeof elm.node.scrollIntoView == 'function') {\n                //     elm.node.scrollIntoView();\n                // }\n            }\n        }, 1000);\n    }\n\n    scrollToTop = function() {\n        if (view.scrollToSelNodePending)\n            return;\n\n        //let e = $(\"#mainContainer\");\n        $(\"#mainContainer\").scrollTop(0);\n\n        //todo-0: not using mainPaperTabs any longer so shw should go here now ?\n        setTimeout(function() {\n            if (view.scrollToSelNodePending)\n                return;\n            $(\"#mainContainer\").scrollTop(0);\n        }, 1000);\n    }\n\n    initEditPathDisplayById = function(domId: string) {\n        let node: I.NodeInfo = edit.editNode;\n        let e: any = $(\"#\" + domId);\n        if (!e)\n            return;\n\n        if (edit.editingUnsavedNode) {\n            e.html(\"\");\n            e.hide();\n        } else {\n            var pathDisplay = \"Path: \" + render.formatPath(node);\n\n            // todo-2: Do we really need ID in addition to Path here?\n            // pathDisplay += \"<br>ID: \" + node.id;\n\n            if (node.lastModified) {\n                pathDisplay += \"<br>Mod: \" + node.lastModified;\n            }\n            e.html(pathDisplay);\n            e.show();\n        }\n    }\n\n    showServerInfo = function() {\n        util.json<I.GetServerInfoRequest, I.GetServerInfoResponse>(\"getServerInfo\", {}, function(res: I.GetServerInfoResponse) {\n            util.showMessage(res.serverInfo);\n        });\n    }\n}\nexport let view: View = new View();\nexport default view;\n","console.log(\"Props.ts\");\n\nimport {meta64} from \"./Meta64\"\nimport {util} from \"./Util\";\nimport {cnst, jcrCnst} from \"./Constants\";\nimport {render} from \"./Render\";\nimport {view} from \"./View\";\nimport {edit} from \"./Edit\";\nimport * as I from \"./Interfaces\";\n\n\n\nclass Props {\n\n    orderProps = function(propOrder: string[], _props: I.PropertyInfo[]): I.PropertyInfo[] {\n        let propsNew: I.PropertyInfo[] = util.arrayClone(_props);\n        let targetIdx: number = 0;\n\n        for (let prop of propOrder) {\n            targetIdx = props.moveNodePosition(propsNew, targetIdx, prop);\n        }\n\n        return propsNew;\n    }\n\n    moveNodePosition = function(props: I.PropertyInfo[], idx: number, typeName: string): number {\n        let tagIdx: number = util.arrayIndexOfItemByProp(props, \"name\", typeName);\n        if (tagIdx != -1) {\n            util.arrayMoveItem(props, tagIdx, idx++);\n        }\n        return idx;\n    }\n\n    /*\n     * Toggles display of properties in the gui.\n     */\n    propsToggle = function(): void {\n        meta64.showProperties = meta64.showProperties ? false : true;\n        // setDataIconUsingId(\"#editModeButton\", editMode ? \"edit\" :\n        // \"forbidden\");\n\n        // fix for polymer\n        // var elm = $(\"#propsToggleButton\");\n        // elm.toggleClass(\"ui-icon-grid\", meta64.showProperties);\n        // elm.toggleClass(\"ui-icon-forbidden\", !meta64.showProperties);\n\n        render.renderPageFromData();\n        view.scrollToSelectedNode();\n        meta64.selectTab(\"mainTabName\");\n    }\n\n    deletePropertyFromLocalData = function(propertyName): void {\n        for (var i = 0; i < edit.editNode.properties.length; i++) {\n            if (propertyName === edit.editNode.properties[i].name) {\n                // splice is how you delete array elements in js.\n                edit.editNode.properties.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    /*\n     * Sorts props input array into the proper order to show for editing. Simple algorithm first grabs 'jcr:content'\n     * node and puts it on the top, and then does same for 'jctCnst.TAGS'\n     */\n    getPropertiesInEditingOrder = function(node: I.NodeInfo, _props: I.PropertyInfo[]): I.PropertyInfo[] {\n        let func: Function = meta64.propOrderingFunctionsByJcrType[node.primaryTypeName];\n        if (func) {\n            return func(node, _props);\n        }\n\n        let propsNew: I.PropertyInfo[] = util.arrayClone(_props);\n        props.movePropsToTop([jcrCnst.CONTENT, jcrCnst.TAGS], propsNew);\n        props.movePropsToEnd([jcrCnst.CREATED, jcrCnst.CREATED_BY, jcrCnst.LAST_MODIFIED, jcrCnst.LAST_MODIFIED_BY], propsNew);\n\n        return propsNew;\n    }\n\n    /* Moves all the properties listed in propList array to the end of the list of properties and keeps them in the order specified */\n    private movePropsToTop = function(propsList: string[], props: I.PropertyInfo[]) {\n        for (let prop of propsList) {\n            let tagIdx = util.arrayIndexOfItemByProp(props, \"name\", prop);\n            if (tagIdx != -1) {\n                util.arrayMoveItem(props, tagIdx, 0);\n            }\n        }\n    }\n    /* Moves all the properties listed in propList array to the end of the list of properties and keeps them in the order specified */\n    private movePropsToEnd = function(propsList: string[], props: I.PropertyInfo[]) {\n        for (let prop of propsList) {\n            let tagIdx = util.arrayIndexOfItemByProp(props, \"name\", prop);\n            if (tagIdx != -1) {\n                util.arrayMoveItem(props, tagIdx, props.length);\n            }\n        }\n    }\n    /*\n     * properties will be null or a list of PropertyInfo objects.\n     */\n    renderProperties = function(properties): string {\n        if (properties) {\n            let table: string = \"\";\n            let propCount: number = 0;\n\n            $.each(properties, function(i, property) {\n                if (render.allowPropertyToDisplay(property.name)) {\n                    var isBinaryProp = render.isBinaryProperty(property.name);\n\n                    propCount++;\n                    let td: string = render.tag(\"td\", {\n                        \"class\": \"prop-table-name-col\"\n                    }, render.sanitizePropertyName(property.name));\n\n                    let val: string;\n                    if (isBinaryProp) {\n                        val = \"[binary]\";\n                    } else if (!property.values) {\n                        val = render.wrapHtml(property.value);\n                    } else {\n                        val = props.renderPropertyValues(property.values);\n                    }\n\n                    td += render.tag(\"td\", {\n                        \"class\": \"prop-table-val-col\"\n                    }, val);\n\n                    table += render.tag(\"tr\", {\n                        \"class\": \"prop-table-row\"\n                    }, td);\n\n                } else {\n                    console.log(\"Hiding property: \" + property.name);\n                }\n            });\n\n            if (propCount == 0) {\n                return \"\";\n            }\n\n            return render.tag(\"table\", {\n                \"border\": \"1\",\n                \"class\": \"property-table\"\n            }, table);\n        } else {\n            return undefined;\n        }\n    }\n\n    /*\n     * brute force searches on node (NodeInfo.java) object properties list, and returns the first property\n     * (PropertyInfo.java) with name matching propertyName, else null.\n     */\n    getNodeProperty = function(propertyName, node): I.PropertyInfo {\n        if (!node || !node.properties)\n            return null;\n\n        for (var i = 0; i < node.properties.length; i++) {\n            let prop: I.PropertyInfo = node.properties[i];\n            if (prop.name === propertyName) {\n                return prop;\n            }\n        }\n        return null;\n    }\n\n    getNodePropertyVal = function(propertyName, node): string {\n        let prop: I.PropertyInfo = props.getNodeProperty(propertyName, node);\n        return prop ? prop.value : null;\n    }\n\n    /*\n     * Returns trus if this is a comment node, that the current user doesn't own. Used to disable \"edit\", \"delete\",\n     * etc. on the GUI.\n     */\n    isNonOwnedNode = function(node): boolean {\n        let createdBy: string = props.getNodePropertyVal(jcrCnst.CREATED_BY, node);\n\n        // if we don't know who owns this node assume the admin owns it.\n        if (!createdBy) {\n            createdBy = \"admin\";\n        }\n\n        /* This is OR condition because of createdBy is null we assume we do not own it */\n        return createdBy != meta64.userName;\n    }\n\n    /*\n     * Returns true if this is a comment node, that the current user doesn't own. Used to disable \"edit\", \"delete\",\n     * etc. on the GUI.\n     */\n    isNonOwnedCommentNode = function(node): boolean {\n        let commentBy: string = props.getNodePropertyVal(jcrCnst.COMMENT_BY, node);\n        return commentBy != null && commentBy != meta64.userName;\n    }\n\n    isOwnedCommentNode = function(node): boolean {\n        let commentBy: string = props.getNodePropertyVal(jcrCnst.COMMENT_BY, node);\n        return commentBy != null && commentBy == meta64.userName;\n    }\n\n    /*\n     * Returns string representation of property value, even if multiple properties\n     */\n    renderProperty = function(property): string {\n        /* If this is a single-value type property */\n        if (!property.values) {\n\n            /* if property is missing return empty string */\n            if (!property.value || property.value.length == 0) {\n                return \"\";\n            }\n\n            return property.value;\n        }\n        /* else render multi-value property */\n        else {\n            return props.renderPropertyValues(property.values);\n        }\n    }\n\n    renderPropertyValues = function(values): string {\n        let ret: string = \"<div>\";\n        let count: number = 0;\n        $.each(values, function(i, value) {\n            if (count > 0) {\n                ret += cnst.BR;\n            }\n            ret += render.wrapHtml(value);\n            count++;\n        });\n        ret += \"</div>\";\n        return ret;\n    }\n}\nexport let props: Props = new Props();\nexport default props;\n","console.log(\"Render.ts\");\n\nimport { meta64 } from \"./Meta64\"\nimport { util } from \"./Util\";\nimport { nav } from \"./Nav\";\nimport { edit } from \"./Edit\";\nimport { view } from \"./View\";\nimport { cnst, jcrCnst } from \"./Constants\";\nimport { props } from \"./Props\";\nimport * as I from \"./Interfaces\"\nimport { Factory } from \"./Factory\";\nimport { MessageDlg } from \"./MessageDlg\";\n\ndeclare var postTargetUrl;\ndeclare var prettyPrint;\n\n\nexport class Render {\n    private debug: boolean = false;\n\n    /*\n     * This is the content displayed when the user signs in, and we see that they have no content being displayed. We\n     * want to give them some instructions and the ability to add content.\n     */\n    private getEmptyPagePrompt = function(): string {\n        return \"<p>There are no subnodes under this node. <br><br>Click 'EDIT MODE' and then use the 'ADD' button to create content.</p>\";\n    }\n\n    private renderBinary = function(node: I.NodeInfo): string {\n        /*\n         * If this is an image render the image directly onto the page as a visible image\n         */\n        if (node.binaryIsImage) {\n            return render.makeImageTag(node);\n        }\n        /*\n         * If not an image we render a link to the attachment, so that it can be downloaded.\n         */\n        else {\n            let anchor: string = render.tag(\"a\", {\n                \"href\": render.getUrlForNodeAttachment(node)\n            }, \"[Download Attachment]\");\n\n            return render.tag(\"div\", {\n                \"class\": \"binary-link\"\n            }, anchor);\n        }\n    }\n\n    /*\n     * Important little method here. All GUI page/divs are created using this sort of specification here that they\n     * all must have a 'build' method that is called first time only, and then the 'init' method called before each\n     * time the component gets displayed with new information.\n     *\n     * If 'data' is provided, this is the instance data for the dialog\n     */\n    buidPage = function(pg, data): void {\n        console.log(\"buildPage: pg.domId=\" + pg.domId);\n\n        if (!pg.built || data) {\n            pg.build(data);\n            pg.built = true;\n        }\n\n        if (pg.init) {\n            pg.init(data);\n        }\n    }\n\n    buildRowHeader = function(node: I.NodeInfo, showPath: boolean, showName: boolean): string {\n        let commentBy: string = props.getNodePropertyVal(jcrCnst.COMMENT_BY, node);\n\n        let headerText: string = \"\";\n\n        if (cnst.SHOW_PATH_ON_ROWS) {\n            headerText += \"<div class='path-display'>Path: \" + render.formatPath(node) + \"</div>\";\n        }\n\n        headerText += \"<div>\";\n\n        if (commentBy) {\n            let clazz: string = (commentBy === meta64.userName) ? \"created-by-me\" : \"created-by-other\";\n            headerText += \"<span class='\" + clazz + \"'>Comment By: \" + commentBy + \"</span>\";\n        } //\n        else if (node.createdBy) {\n            let clazz: string = (node.createdBy === meta64.userName) ? \"created-by-me\" : \"created-by-other\";\n            headerText += \"<span class='\" + clazz + \"'>Created By: \" + node.createdBy + \"</span>\";\n        }\n\n        headerText += `<span id='ownerDisplay${node.uid}'></span>`;\n        if (node.lastModified) {\n            headerText += `  Mod: ${node.lastModified}`;\n        }\n        headerText += \"</div>\";\n\n        /*\n         * on root node name will be empty string so don't show that\n         *\n         * commenting: I decided users will understand the path as a single long entity with less confusion than\n         * breaking out the name for them. They already unserstand internet URLs. This is the same concept. No need\n         * to baby them.\n         *\n         * The !showPath condition here is because if we are showing the path then the end of that is always the\n         * name, so we don't need to show the path AND the name. One is a substring of the other.\n         */\n        if (showName && !showPath && node.name) {\n            headerText += `Name: ${node.name} [uid=${node.uid}]`;\n        }\n\n        headerText = render.tag(\"div\", {\n            \"class\": \"header-text\"\n        }, headerText);\n\n        return headerText;\n    }\n\n    /*\n     * Pegdown markdown processor will create <code> blocks and the class if provided, so in order to get google\n     * prettifier to process it the rest of the way (when we call prettyPrint() for the whole page) we now run\n     * another stage of transformation to get the <pre> tag put in with 'prettyprint' etc.\n     */\n    injectCodeFormatting = function(content: string): string {\n        if (!content) return content;\n        // example markdown:\n        // ```js\n        // var x = 10;\n        // var y = \"test\";\n        // ```\n        //\n        if (util.contains(content, \"<code\")) {\n            meta64.codeFormatDirty = true;\n            content = render.encodeLanguages(content);\n            content = util.replaceAll(content, \"</code>\", \"</pre>\");\n        }\n\n        return content;\n    }\n\n    injectSubstitutions = function(content: string): string {\n        return util.replaceAll(content, \"{{locationOrigin}}\", window.location.origin);\n    }\n\n    encodeLanguages = function(content: string): string {\n        /*\n         * todo-1: need to provide some way of having these language types configurable in a properties file\n         * somewhere, and fill out a lot more file types.\n         */\n        var langs = [\"js\", \"html\", \"htm\", \"css\"];\n        for (var i = 0; i < langs.length; i++) {\n            content = util.replaceAll(content, \"<code class=\\\"\" + langs[i] + \"\\\">\", //\n                \"<?prettify lang=\" + langs[i] + \"?><pre class='prettyprint'>\");\n        }\n        content = util.replaceAll(content, \"<code>\", \"<pre class='prettyprint'>\");\n\n        return content;\n    }\n\n    /* after a property, or node is updated (saved) we can now call this method instead of refreshing the entire page\n    which is what's done in most of the app, which is much less efficient and snappy visually */\n    refreshNodeOnPage = function(node: I.NodeInfo): void {\n        //need to lookup uid from NodeInfo.id then set the content of this div.\n        //\"id\": uid + \"_content\"\n        //to the value from renderNodeContent(node, true, true, true, true, true)));\n        let uid: string = meta64.identToUidMap[node.id];\n        if (!uid) throw `Unable to find nodeId ${node.id} in uid map`;\n        meta64.initNode(node, false);\n        if (uid != node.uid) throw \"uid changed unexpectly after initNode\";\n        let rowContent: string = render.renderNodeContent(node, true, true, true, true, true);\n        $(\"#\" + uid + \"_content\").html(rowContent);\n    }\n\n    //\n    /*\n     * This is the function that renders each node in the main window. The rendering in here is very central to the\n     * app and is what the user sees covering 90% of the screen most of the time. The \"content* nodes.\n     *\n     * todo-0: Rather than having this node renderer itself be responsible for rendering all the different types\n     * of nodes, need a more pluggable design, where rendeing of different things is deletaged to some\n     * appropriate object/service\n     */\n    renderNodeContent = function(node: I.NodeInfo, showPath, showName, renderBin, rowStyling, showHeader): string {\n        var ret: string = render.getTopRightImageTag(node);\n\n        /* todo-2: enable headerText when appropriate here */\n        if (meta64.showMetaData) {\n            ret += showHeader ? render.buildRowHeader(node, showPath, showName) : \"\";\n        }\n\n        if (meta64.showProperties) {\n            var properties = props.renderProperties(node.properties);\n            if (properties) {\n                ret += /* \"<br>\" + */properties;\n            }\n        } else {\n            let renderComplete: boolean = false;\n\n            /*\n             * Special Rendering for Nodes that have a plugin-renderer\n             */\n            if (!renderComplete) {\n                let func: Function = meta64.renderFunctionsByJcrType[node.primaryTypeName];\n                if (func) {\n                    renderComplete = true;\n                    ret += func(node, rowStyling)\n                }\n            }\n\n            if (!renderComplete) {\n                let contentProp: I.PropertyInfo = props.getNodeProperty(jcrCnst.CONTENT, node);\n\n                //console.log(\"contentProp: \" + contentProp);\n                if (contentProp) {\n                    renderComplete = true;\n\n                    let jcrContent = props.renderProperty(contentProp);\n                    //console.log(\"**************** jcrContent for MARKDOWN:\\n\"+jcrContent);\n\n                    let markedContent = \"<marked-element sanitize='true'>\" +\n                        \"<div class='markdown-html'></div>\" +\n                        \"<script type='text/markdown'>\\n\" +\n                        jcrContent +\n                        \"</script>\" +\n                        \"</marked-element>\";\n\n                    //not w-pack\n                    //When doing server-side markdown we had this processing the HTML that was generated\n                    //but I haven't looked into how to get this back now that we are doing markdown on client.\n                    //jcrContent = injectCodeFormatting(jcrContent);\n                    //jcrContent = injectSubstitutions(jcrContent);\n\n                    if (rowStyling) {\n                        ret += render.tag(\"div\", {\n                            \"class\": \"jcr-content\"\n                        }, markedContent);\n                    } else {\n                        ret += render.tag(\"div\", {\n                            \"class\": \"jcr-root-content\"\n                        }, markedContent);\n                    }\n                }\n            }\n\n            if (!renderComplete) {\n                if (node.path.trim() == \"/\") {\n                    ret += \"Root Node\";\n                }\n                /* ret += \"<div>[No Content Property]</div>\"; */\n                let properties: string = props.renderProperties(node.properties);\n                if (properties) {\n                    ret += /* \"<br>\" + */properties;\n                }\n            }\n        }\n\n        if (renderBin && node.hasBinary) {\n            let binary: string = render.renderBinary(node);\n\n            /*\n             * We append the binary image or resource link either at the end of the text or at the location where\n             * the user has put {{insert-attachment}} if they are using that to make the image appear in a specific\n             * locatio in the content text.\n             */\n            if (util.contains(ret, cnst.INSERT_ATTACHMENT)) {\n                ret = util.replaceAll(ret, cnst.INSERT_ATTACHMENT, binary);\n            } else {\n                ret += binary;\n            }\n        }\n\n        let tags: string = props.getNodePropertyVal(jcrCnst.TAGS, node);\n        if (tags) {\n            ret += render.tag(\"div\", {\n                \"class\": \"tags-content\"\n            }, \"Tags: \" + tags);\n        }\n\n        return ret;\n    }\n\n    renderJsonFileSearchResultProperty = function(jsonContent: string): string {\n        let content: string = \"\";\n        try {\n            console.log(\"json: \" + jsonContent);\n            let list: any[] = JSON.parse(jsonContent);\n\n            for (let entry of list) {\n                content += render.tag(\"div\", {\n                    \"class\": \"systemFile\",\n                    \"onclick\": `meta64.editSystemFile('${entry.fileName}')`\n                }, entry.fileName);\n\n                /* openSystemFile worked on linux, but i'm switching to full text file edit capability only and doing that\n                inside meta64 from now on, so openSystemFile is no longer being used */\n                //not w-pack\n                // let localOpenLink = tag(\"paper-button\", {\n                //     \"raised\": \"raised\",\n                //     \"onclick\": \"meta64.openSystemFile('\" + entry.fileName + \"')\"\n                // }, \"Local Open\");\n                //\n                // let downloadLink = \"\";\n                //haven't implemented download capability yet.\n                // tag(\"paper-button\", {\n                //     \"raised\": \"raised\",\n                //     \"onclick\": \"meta64.downloadSystemFile('\" + entry.fileName + \"')\"\n                // }, \"Download\")\n                // let linksDiv = tag(\"div\", {\n                // }, localOpenLink + downloadLink);\n                // content += tag(\"div\", {\n                // }, fileNameDiv);\n            }\n        }\n        catch (e) {\n            util.logAndReThrow(\"render failed\", e);\n            content = \"[render failed]\"\n        }\n        return content;\n    }\n\n    /*\n     * This is the primary method for rendering each node (like a row) on the main HTML page that displays node\n     * content. This generates the HTML for a single row/node.\n     *\n     * node is a NodeInfo.java JSON\n     */\n    renderNodeAsListItem = function(node: I.NodeInfo, index: number, count: number, rowCount: number): string {\n\n        let uid: string = node.uid;\n        let prevPageExists: boolean = nav.mainOffset > 0;\n        let nextPageExists: boolean = !nav.endReached;\n        let canMoveUp: boolean = (index > 0 && rowCount > 1) || prevPageExists;\n        let canMoveDown: boolean = (index < count - 1) || nextPageExists;\n\n        let isRep: boolean = util.startsWith(node.name, \"rep:\") || /*\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t * meta64.currentNodeData. bug?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t */util.contains(node.path, \"/rep:\");\n\n        let editingAllowed: boolean = props.isOwnedCommentNode(node);\n        if (!editingAllowed) {\n            editingAllowed = (meta64.isAdminUser || !isRep) && !props.isNonOwnedCommentNode(node)\n                && !props.isNonOwnedNode(node);\n        }\n\n        // console.log(\"Rendering Node Row[\" + index + \"] editingAllowed=\"+editingAllowed);\n\n        /*\n         * if not selected by being the new child, then we try to select based on if this node was the last one\n         * clicked on for this page.\n         */\n        //not w-pack\n        // console.log(\"test: [\" + parentIdToFocusIdMap[currentNodeId]\n        // +\"]==[\"+ node.id + \"]\")\n        let focusNode: I.NodeInfo = meta64.getHighlightedNode();\n        let selected: boolean = (focusNode && focusNode.uid === uid);\n\n        let buttonBarHtmlRet: string = render.makeRowButtonBarHtml(node, canMoveUp, canMoveDown, editingAllowed);\n        let bkgStyle: string = render.getNodeBkgImageStyle(node);\n\n        let cssId: string = uid + \"_row\";\n        return render.tag(\"div\", {\n            \"class\": \"node-table-row\" + (selected ? \" active-row\" : \" inactive-row\"),\n            \"onClick\": `meta64.clickOnNodeRow(this, '${uid}');`, //\n            \"id\": cssId,\n            \"style\": bkgStyle\n        },//\n            buttonBarHtmlRet + render.tag(\"div\", {\n                \"id\": uid + \"_content\"\n            }, render.renderNodeContent(node, true, true, true, true, true)));\n    }\n\n    showNodeUrl = function() {\n        let node: I.NodeInfo = meta64.getHighlightedNode();\n        if (!node) {\n            util.showMessage(\"You must first click on a node.\");\n            return;\n        }\n\n        let path: string = util.stripIfStartsWith(node.path, \"/root\");\n        let url: string = window.location.origin + \"?id=\" + path;\n        meta64.selectTab(\"mainTabName\");\n\n        let message: string = \"URL using path: <br>\" + url;\n        let uuid: string = props.getNodePropertyVal(\"jcr:uuid\", node);\n        if (uuid) {\n            message += \"<p>URL for UUID: <br>\" + window.location.origin + \"?id=\" + uuid;\n        }\n\n        util.showMessage(message);\n    }\n\n    getTopRightImageTag = function(node: I.NodeInfo) {\n        let topRightImg: string = props.getNodePropertyVal('img.top.right', node);\n        let topRightImgTag: string = \"\";\n        if (topRightImg) {\n            topRightImgTag = render.tag(\"img\", {\n                \"src\": topRightImg,\n                \"class\": \"top-right-image\"\n            }, \"\", false);\n        }\n        return topRightImgTag;\n    }\n\n    getNodeBkgImageStyle = function(node: I.NodeInfo): string {\n        let bkgImg: string = props.getNodePropertyVal('img.node.bkg', node);\n        let bkgImgStyle: string = \"\";\n        if (bkgImg) {\n            //todo-0: as I was converting some strings to backtick i noticed this URL missing the quotes around the string. Is this a bug?\n            bkgImgStyle = `background-image: url(${bkgImg});`;\n        }\n        return bkgImgStyle;\n    }\n\n    centeredButtonBar = function(buttons?: string, classes?: string): string {\n        classes = classes || \"\";\n\n        return render.tag(\"div\", {\n            \"class\": \"horizontal center-justified layout vertical-layout-row \" + classes\n        }, buttons);\n    }\n\n    centerContent = function(content: string, width: number): string {\n        let div: string = render.tag(\"div\", { \"style\": `width:${width}px;` }, content);\n\n        let attrs = {\n            \"class\": \"horizontal center-justified layout vertical-layout-row\"\n        };\n\n        return render.tag(\"div\", attrs, div, true);\n    }\n\n    buttonBar = function(buttons: string, classes: string): string {\n        classes = classes || \"\";\n\n        return render.tag(\"div\", {\n            \"class\": \"horizontal left-justified layout vertical-layout-row \" + classes\n        }, buttons);\n    }\n\n    makeRowButtonBarHtml = function(node: I.NodeInfo, canMoveUp: boolean, canMoveDown: boolean, editingAllowed: boolean) {\n\n        let createdBy: string = props.getNodePropertyVal(jcrCnst.CREATED_BY, node);\n        let commentBy: string = props.getNodePropertyVal(jcrCnst.COMMENT_BY, node);\n        let publicAppend: string = props.getNodePropertyVal(jcrCnst.PUBLIC_APPEND, node);\n\n        let openButton: string = \"\";\n        let selButton: string = \"\";\n        let createSubNodeButton: string = \"\";\n        let editNodeButton: string = \"\";\n        let moveNodeUpButton: string = \"\";\n        let moveNodeDownButton: string = \"\";\n        let insertNodeButton: string = \"\";\n        let replyButton: string = \"\";\n\n        /*\n         * Show Reply button if this is a publicly appendable node and not created by current user,\n         * or having been added as comment by current user\n         */\n        if (publicAppend && createdBy != meta64.userName && commentBy != meta64.userName) {\n            replyButton = render.tag(\"paper-button\", {\n                \"raised\": \"raised\",\n                \"onClick\": `meta64.replyToComment('${node.uid}');` //\n            }, //\n                \"Reply\");\n        }\n\n        let buttonCount: number = 0;\n\n        /* Construct Open Button */\n        if (render.nodeHasChildren(node.uid)) {\n            buttonCount++;\n\n            openButton = render.tag(\"paper-button\", {\n\n                /* For some unknown reason the ability to style this with the class broke, and even\n                after dedicating several hours trying to figure out why I'm still baffled. I checked everything\n                a hundred times and still don't know what I'm doing wrong...I just finally put the god damn fucking style attribute\n                here to accomplish the same thing */\n                \"style\": \"background-color: #4caf50;color:white;\",\n                \"raised\": \"raised\",\n                \"onClick\": `meta64.openNode('${node.uid}');`//\n            }, //\n                \"Open\");\n        }\n\n        /*\n         * If in edit mode we always at least create the potential (buttons) for a user to insert content, and if\n         * they don't have privileges the server side security will let them know. In the future we can add more\n         * intelligence to when to show these buttons or not.\n         */\n        if (meta64.userPreferences.editMode) {\n            // console.log(\"Editing allowed: \" + nodeId);\n\n            let selected: boolean = meta64.selectedNodes[node.uid] ? true : false;\n\n            // console.log(\" nodeId \" + node.uid + \" selected=\" + selected);\n            buttonCount++;\n\n            let css: Object = selected ? {\n                \"id\": node.uid + \"_sel\",//\n                \"onClick\": `meta64.toggleNodeSel('${node.uid}');`,\n                \"checked\": \"checked\",\n                //padding is a back hack to make checkbox line up with other icons.\n                //(i will probably end up using a paper-icon-button that toggles here, instead of checkbox)\n                \"style\": \"margin-top: 11px;\"\n            } : //\n                {\n                    \"id\": node.uid + \"_sel\",//\n                    \"onClick\": `meta64.toggleNodeSel('${node.uid}');`,\n                    \"style\": \"margin-top: 11px;\"\n                };\n\n            selButton = render.tag(\"paper-checkbox\", css, \"\");\n\n            if (cnst.NEW_ON_TOOLBAR && !commentBy) {\n                /* Construct Create Subnode Button */\n                buttonCount++;\n                createSubNodeButton = render.tag(\"paper-icon-button\", {\n                    \"icon\": \"icons:picture-in-picture-alt\", //\"icons:more-vert\",\n                    \"id\": \"addNodeButtonId\" + node.uid,\n                    \"raised\": \"raised\",\n                    \"onClick\": `meta64.createSubNode('${node.uid}');`\n                }, \"Add\");\n            }\n\n            if (cnst.INS_ON_TOOLBAR && !commentBy) {\n                buttonCount++;\n                /* Construct Create Subnode Button */\n                insertNodeButton = render.tag(\"paper-icon-button\", {\n                    \"icon\": \"icons:picture-in-picture\", //\"icons:more-horiz\",\n                    \"id\": \"insertNodeButtonId\" + node.uid,\n                    \"raised\": \"raised\",\n                    \"onClick\": `meta64.insertNode('${node.uid}');`\n                }, \"Ins\");\n            }\n        }\n\n        //Polmer Icons Reference: https://elements.polymer-project.org/elements/iron-icons?view=demo:demo/index.html\n\n        if (meta64.userPreferences.editMode && editingAllowed) {\n            buttonCount++;\n            /* Construct Create Subnode Button */\n            editNodeButton = render.tag(\"paper-icon-button\", //\n                {\n                    \"alt\": \"Edit node.\",\n                    \"icon\": \"editor:mode-edit\",\n                    \"raised\": \"raised\",\n                    \"onClick\": `meta64.runEditNode('${node.uid}');`\n                }, \"Edit\");\n\n            if (cnst.MOVE_UPDOWN_ON_TOOLBAR && meta64.currentNode.childrenOrdered && !commentBy) {\n\n                if (canMoveUp) {\n                    buttonCount++;\n                    /* Construct Create Subnode Button */\n                    moveNodeUpButton = render.tag(\"paper-icon-button\", {\n                        \"icon\": \"icons:arrow-upward\",\n                        \"raised\": \"raised\",\n                        \"onClick\": `meta64.moveNodeUp('${node.uid}');`\n                    }, \"Up\");\n                }\n\n                if (canMoveDown) {\n                    buttonCount++;\n                    /* Construct Create Subnode Button */\n                    moveNodeDownButton = render.tag(\"paper-icon-button\", {\n                        \"icon\": \"icons:arrow-downward\",\n                        \"raised\": \"raised\",\n                        \"onClick\": `meta64.moveNodeDown('${node.uid}');`\n                    }, \"Dn\");\n                }\n            }\n        }\n\n        /*\n         * i will be finding a reusable/DRY way of doing tooltops soon, this is just my first experiment.\n         *\n         * However tooltips ALWAYS cause problems. Mystery for now.\n         */\n        let insertNodeTooltip: string = \"\";\n        //not w-pack\n        //\t\t\t tag(\"paper-tooltip\", {\n        //\t\t\t \"for\" : \"insertNodeButtonId\" + node.uid\n        //\t\t\t }, \"INSERTS a new node at the current tree position. As a sibling on this level.\");\n\n        let addNodeTooltip: string = \"\";\n\n        //not w-pack\n        //\t\t\t tag(\"paper-tooltip\", {\n        //\t\t\t \"for\" : \"addNodeButtonId\" + node.uid\n        //\t\t\t }, \"ADDS a new node inside the current node, as a child of it.\");\n\n        let allButtons: string = selButton + openButton + insertNodeButton + createSubNodeButton + insertNodeTooltip\n            + addNodeTooltip + editNodeButton + moveNodeUpButton + moveNodeDownButton + replyButton;\n\n        return allButtons.length > 0 ? render.makeHorizontalFieldSet(allButtons, \"row-toolbar\") : \"\";\n    }\n\n    makeHorizontalFieldSet = function(content?: string, extraClasses?: string): string {\n\n        /* Now build entire control bar */\n        return render.tag(\"div\", //\n            {\n                \"class\": \"horizontal layout\" + (extraClasses ? (\" \" + extraClasses) : \"\")\n            }, content, true);\n    }\n\n    makeHorzControlGroup = function(content: string): string {\n        return render.tag(\"div\", {\n            \"class\": \"horizontal layout\"\n        }, content, true);\n    }\n\n    makeRadioButton = function(label: string, id: string): string {\n        return render.tag(\"paper-radio-button\", {\n            \"id\": id,\n            \"name\": id\n        }, label);\n    }\n\n    /*\n     * Returns true if the nodeId (see makeNodeId()) NodeInfo object has 'hasChildren' true\n     */\n    nodeHasChildren = function(uid: string): boolean {\n        var node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (!node) {\n            console.log(\"Unknown nodeId in nodeHasChildren: \" + uid);\n            return false;\n        } else {\n            return node.hasChildren;\n        }\n    }\n\n    formatPath = function(node: I.NodeInfo): string {\n        let path: string = node.path;\n\n        /* we inject space in here so this string can wrap and not affect window sizes adversely, or need scrolling */\n        path = util.replaceAll(path, \"/\", \" / \");\n        let shortPath: string = path.length < 50 ? path : path.substring(0, 40) + \"...\";\n\n        let noRootPath: string = shortPath;\n        if (util.startsWith(noRootPath, \"/root\")) {\n            noRootPath = noRootPath.substring(0, 5);\n        }\n\n        let ret: string = meta64.isAdminUser ? shortPath : noRootPath;\n        ret += \" [\" + node.primaryTypeName + \"]\";\n        return ret;\n    }\n\n    wrapHtml = function(text: string): string {\n        return \"<div>\" + text + \"</div>\";\n    }\n\n    /*\n     * Renders page and always also takes care of scrolling to selected node if there is one to scroll to\n     */\n    renderPageFromData = function(data?: I.RenderNodeResponse, scrollToTop?: boolean): string {\n        meta64.codeFormatDirty = false;\n        console.log(\"render.renderPageFromData()\");\n\n        let newData: boolean = false;\n        if (!data) {\n            data = meta64.currentNodeData;\n        } else {\n            newData = true;\n        }\n\n        nav.endReached = data && data.endReached;\n\n        if (!data || !data.node) {\n            util.setVisibility(\"#listView\", false);\n            $(\"#mainNodeContent\").html(\"No content is available here.\");\n            return;\n        } else {\n            util.setVisibility(\"#listView\", true);\n        }\n\n        meta64.treeDirty = false;\n\n        if (newData) {\n            meta64.uidToNodeMap = {};\n            meta64.idToNodeMap = {};\n            meta64.identToUidMap = {};\n\n            /*\n             * I'm choosing to reset selected nodes when a new page loads, but this is not a requirement. I just\n             * don't have a \"clear selections\" feature which would be needed so user has a way to clear out.\n             */\n            meta64.selectedNodes = {};\n            meta64.parentUidToFocusNodeMap = {};\n\n            meta64.initNode(data.node, true);\n            meta64.setCurrentNodeData(data);\n        }\n\n        let propCount: number = meta64.currentNode.properties ? meta64.currentNode.properties.length : 0;\n\n        if (render.debug) {\n            console.log(\"RENDER NODE: \" + data.node.id + \" propCount=\" + propCount);\n        }\n\n        let output: string = \"\";\n        let bkgStyle: string = render.getNodeBkgImageStyle(data.node);\n\n        /*\n         * NOTE: mainNodeContent is the parent node of the page content, and is always the node displayed at the to\n         * of the page above all the other nodes which are its child nodes.\n         */\n        let mainNodeContent: string = render.renderNodeContent(data.node, true, true, true, false, true);\n\n        //console.log(\"mainNodeContent: \"+mainNodeContent);\n\n        if (mainNodeContent.length > 0) {\n            let uid: string = data.node.uid;\n            let cssId: string = uid + \"_row\";\n            let buttonBar: string = \"\";\n            let editNodeButton: string = \"\";\n            let createSubNodeButton: string = \"\";\n            let replyButton: string = \"\";\n\n            // console.log(\"data.node.path=\"+data.node.path);\n            // console.log(\"isNonOwnedCommentNode=\"+props.isNonOwnedCommentNode(data.node));\n            // console.log(\"isNonOwnedNode=\"+props.isNonOwnedNode(data.node));\n\n            let createdBy: string = props.getNodePropertyVal(jcrCnst.CREATED_BY, data.node);\n            let commentBy: string = props.getNodePropertyVal(jcrCnst.COMMENT_BY, data.node);\n            let publicAppend: string = props.getNodePropertyVal(jcrCnst.PUBLIC_APPEND, data.node);\n\n            /*\n             * Show Reply button if this is a publicly appendable node and not created by current user,\n             * or having been added as comment by current user\n             */\n\n            if (publicAppend && createdBy != meta64.userName && commentBy != meta64.userName) {\n                replyButton = render.tag(\"paper-button\", {\n                    \"raised\": \"raised\",\n                    \"onClick\": `meta64.replyToComment('${data.node.uid}');` //\n                }, //\n                    \"Reply\");\n            }\n\n            if (meta64.userPreferences.editMode && cnst.NEW_ON_TOOLBAR && edit.isInsertAllowed(data.node)) {\n                createSubNodeButton = render.tag(\"paper-icon-button\", {\n                    \"icon\": \"icons:picture-in-picture-alt\", //icons:more-vert\",\n                    \"raised\": \"raised\",\n                    \"onClick\": `meta64.createSubNode('${uid}');`\n                }, \"Add\");\n            }\n\n            /* Add edit button if edit mode and this isn't the root */\n            if (edit.isEditAllowed(data.node)) {\n\n                /* Construct Create Subnode Button */\n                editNodeButton = render.tag(\"paper-icon-button\", {\n                    \"icon\": \"editor:mode-edit\",\n                    \"raised\": \"raised\",\n                    \"onClick\": `meta64.runEditNode('${uid}');`\n                }, \"Edit\");\n            }\n\n            /* Construct Create Subnode Button */\n            let focusNode: I.NodeInfo = meta64.getHighlightedNode();\n            let selected: boolean = focusNode && focusNode.uid === uid;\n\n            //not w-pack\n            // var rowHeader = buildRowHeader(data.node, true, true);\n\n            if (createSubNodeButton || editNodeButton || replyButton) {\n                buttonBar = render.makeHorizontalFieldSet(createSubNodeButton + editNodeButton + replyButton);\n            }\n\n            let content: string = render.tag(\"div\", {\n                \"class\": (selected ? \"mainNodeContentStyle active-row\" : \"mainNodeContentStyle inactive-row\"),\n                \"onClick\": `meta64.clickOnNodeRow(this, '${uid}');`,\n                \"id\": cssId\n            },//\n                buttonBar + mainNodeContent);\n\n            $(\"#mainNodeContent\").show();\n            $(\"#mainNodeContent\").html(content);\n\n            /* force all links to open a new window/tab */\n            //not w-pack\n            //$(\"a\").attr(\"target\", \"_blank\"); <---- this doesn't work.\n            // $('#mainNodeContent').find(\"a\").each(function() {\n            //     $(this).attr(\"target\", \"_blank\");\n            // });\n        } else {\n            $(\"#mainNodeContent\").hide();\n        }\n\n        // console.log(\"update status bar.\");\n        view.updateStatusBar();\n\n        if (nav.mainOffset > 0) {\n            let firstButton: string = render.makeButton(\"First Page\", \"firstPageButton\", render.firstPage);\n            let prevButton: string = render.makeButton(\"Prev Page\", \"prevPageButton\", render.prevPage);\n            output += render.centeredButtonBar(firstButton + prevButton, \"paging-button-bar\");\n        }\n\n        let rowCount: number = 0;\n        if (data.children) {\n            let childCount: number = data.children.length;\n            // console.log(\"childCount: \" + childCount);\n            /*\n             * Number of rows that have actually made it onto the page to far. Note: some nodes get filtered out on\n             * the client side for various reasons.\n             */\n            for (var i = 0; i < data.children.length; i++) {\n                let node: I.NodeInfo = data.children[i];\n                if (!edit.nodesToMoveSet[node.id]) {\n                    let row: string = render.generateRow(i, node, newData, childCount, rowCount);\n                    if (row.length != 0) {\n                        output += row;\n                        rowCount++;\n                    }\n                }\n            }\n        }\n\n        if (edit.isInsertAllowed(data.node)) {\n            if (rowCount == 0 && !meta64.isAnonUser) {\n                output = render.getEmptyPagePrompt();\n            }\n        }\n\n        if (!data.endReached) {\n            let nextButton = render.makeButton(\"Next Page\", \"nextPageButton\", render.nextPage);\n            let lastButton = render.makeButton(\"Last Page\", \"lastPageButton\", render.lastPage);\n            output += render.centeredButtonBar(nextButton + lastButton, \"paging-button-bar\");\n        }\n\n        util.setHtml(\"listView\", output);\n\n        if (meta64.codeFormatDirty) {\n            prettyPrint();\n        }\n\n        $(\"a\").attr(\"target\", \"_blank\");\n\n        /*\n         * TODO-3: Instead of calling screenSizeChange here immediately, it would be better to set the image sizes\n         * exactly on the attributes of each image, as the HTML text is rendered before we even call\n         * setHtml, so that images always are GUARANTEED to render correctly immediately.\n         */\n        meta64.screenSizeChange();\n\n        if (scrollToTop || !meta64.getHighlightedNode()) {\n            view.scrollToTop();\n        } else {\n            view.scrollToSelectedNode();\n        }\n    }\n\n    firstPage = function(): void {\n        console.log(\"First page button click.\");\n        view.firstPage();\n    }\n\n    prevPage = function(): void {\n        console.log(\"Prev page button click.\");\n        view.prevPage();\n    }\n\n    nextPage = function(): void {\n        console.log(\"Next page button click.\");\n        view.nextPage();\n    }\n\n    lastPage = function(): void {\n        console.log(\"Last page button click.\");\n        view.lastPage();\n    }\n\n    generateRow = function(i: number, node: I.NodeInfo, newData: boolean, childCount: number, rowCount: number): string {\n\n        if (meta64.isNodeBlackListed(node))\n            return \"\";\n\n        if (newData) {\n            meta64.initNode(node, true);\n\n            if (render.debug) {\n                console.log(\" RENDER ROW[\" + i + \"]: node.id=\" + node.id);\n            }\n        }\n\n        rowCount++; // warning: this is the local variable/parameter\n        var row = render.renderNodeAsListItem(node, i, childCount, rowCount);\n        // console.log(\"row[\" + rowCount + \"]=\" + row);\n        return row;\n    }\n\n    getUrlForNodeAttachment = function(node: I.NodeInfo): string {\n        return postTargetUrl + \"bin/file-name?nodeId=\" + encodeURIComponent(node.path) + \"&ver=\" + node.binVer;\n    }\n\n    /* see also: makeImageTag() */\n    adjustImageSize = function(node: I.NodeInfo): void {\n\n        var elm = $(\"#\" + node.imgId);\n        if (elm) {\n            // var width = elm.attr(\"width\");\n            // var height = elm.attr(\"height\");\n            // console.log(\"width=\" + width + \" height=\" + height);\n\n            if (node.width && node.height) {\n\n                /*\n                 * New Logic is try to display image at 150% meaning it can go outside the content div it's in,\n                 * which we want, but then we also limit it with max-width so on smaller screen devices or small\n                 * window resizings even on desktop browsers the image will always be entirely visible and not\n                 * clipped.\n                 */\n                // var maxWidth = meta64.deviceWidth - 80;\n                // elm.attr(\"width\", \"150%\");\n                // elm.attr(\"height\", \"auto\");\n                // elm.attr(\"style\", \"max-width: \" + maxWidth + \"px;\");\n                /*\n                 * DO NOT DELETE (for a long time at least) This is the old logic for resizing images responsively,\n                 * and it works fine but my new logic is better, with limiting max width based on screen size. But\n                 * keep this old code for now..\n                 */\n                if (node.width > meta64.deviceWidth - 80) {\n\n                    /* set the width we want to go for */\n                    // var width = meta64.deviceWidth - 80;\n                    /*\n                     * and set the height to the value it needs to be at for same w/h ratio (no image stretching)\n                     */\n                    // var height = width * node.height / node.width;\n                    elm.attr(\"width\", \"100%\");\n                    elm.attr(\"height\", \"auto\");\n                    // elm.attr(\"style\", \"max-width: \" + maxWidth + \"px;\");\n                }\n                /*\n                 * Image does fit on screen so render it at it's exact size\n                 */\n                else {\n                    elm.attr(\"width\", node.width);\n                    elm.attr(\"height\", node.height);\n                }\n            }\n        }\n    }\n\n    /* see also: adjustImageSize() */\n    makeImageTag = function(node: I.NodeInfo) {\n        let src: string = render.getUrlForNodeAttachment(node);\n        node.imgId = \"imgUid_\" + node.uid;\n\n        if (node.width && node.height) {\n\n            /*\n             * if image won't fit on screen we want to size it down to fit\n             *\n             * Yes, it would have been simpler to just use something like width=100% for the image width but then\n             * the hight would not be set explicitly and that would mean that as images are loading into the page,\n             * the effective scroll position of each row will be increasing each time the URL request for a new\n             * image completes. What we want is to have it so that once we set the scroll position to scroll a\n             * particular row into view, it will stay the correct scroll location EVEN AS the images are streaming\n             * in asynchronously.\n             *\n             */\n            if (node.width > meta64.deviceWidth - 50) {\n\n                /* set the width we want to go for */\n                let width: number = meta64.deviceWidth - 50;\n\n                /*\n                 * and set the height to the value it needs to be at for same w/h ratio (no image stretching)\n                 */\n                let height: number = width * node.height / node.width;\n\n                return render.tag(\"img\", {\n                    \"src\": src,\n                    \"id\": node.imgId,\n                    \"width\": width + \"px\",\n                    \"height\": height + \"px\"\n                }, null, false);\n            }\n            /* Image does fit on screen so render it at it's exact size */\n            else {\n                return render.tag(\"img\", {\n                    \"src\": src,\n                    \"id\": node.imgId,\n                    \"width\": node.width + \"px\",\n                    \"height\": node.height + \"px\"\n                }, null, false);\n            }\n        } else {\n            return render.tag(\"img\", {\n                \"src\": src,\n                \"id\": node.imgId\n            }, null, false);\n        }\n    }\n\n    /*\n     * creates HTML tag with all attributes/values specified in attributes object, and closes the tag also if\n     * content is non-null\n     */\n    tag = function(tag: string, attributes?: Object, content?: string, closeTag?: boolean): string {\n\n        /* default parameter values */\n        if (typeof (closeTag) === 'undefined')\n            closeTag = true;\n\n        /* HTML tag itself */\n        let ret: string = \"<\" + tag;\n\n        if (attributes) {\n            ret += \" \";\n            $.each(attributes, function(k, v) {\n                if (v) {\n                    if (typeof v !== 'string') {\n                        v = String(v);\n                    }\n\n                    /*\n                     * we intelligently wrap strings that contain single quotes in double quotes and vice versa\n                     */\n                    if (util.contains(v, \"'\")) {\n                        //ret += k + \"=\\\"\" + v + \"\\\" \";\n                        ret += `${k}=\"${v}\" `;\n                    } else {\n                        //ret += k + \"='\" + v + \"' \";\n                        ret += `${k}='${v}' `;\n                    }\n                } else {\n                    ret += k + \" \";\n                }\n            });\n        }\n\n        if (closeTag) {\n            if (!content) {\n                content = \"\";\n            }\n            //ret += \">\" + content + \"</\" + tag + \">\";\n            ret += `>${content}</${tag}>`;\n        } else {\n            ret += \"/>\";\n        }\n\n        return ret;\n    }\n\n    makeTextArea = function(fieldName: string, fieldId: string): string {\n        return render.tag(\"paper-textarea\", {\n            \"name\": fieldId,\n            \"label\": fieldName,\n            \"id\": fieldId\n        }, \"\", true);\n    }\n\n    makeEditField = function(fieldName: string, fieldId: string): string {\n        return render.tag(\"paper-input\", {\n            \"name\": fieldId,\n            \"label\": fieldName,\n            \"id\": fieldId\n        }, \"\", true);\n    }\n\n    makePasswordField = function(fieldName: string, fieldId: string): string {\n        return render.tag(\"paper-input\", {\n            \"type\": \"password\",\n            \"name\": fieldId,\n            \"label\": fieldName,\n            \"id\": fieldId,\n            \"class\": \"meta64-input\"\n        }, \"\", true);\n    }\n\n    makeButton = function(text: string, id: string, callback: any, ctx?: any): string {\n        let attribs = {\n            \"raised\": \"raised\",\n            \"id\": id,\n            \"class\": \"standardButton\"\n        };\n\n        if (callback != undefined) {\n            attribs[\"onClick\"] = meta64.encodeOnClick(callback, ctx);\n        }\n\n        return render.tag(\"paper-button\", attribs, text, true);\n    }\n\n    allowPropertyToDisplay = function(propName: string): boolean {\n        if (!meta64.inSimpleMode())\n            return true;\n        return meta64.simpleModePropertyBlackList[propName] == null;\n    }\n\n    isReadOnlyProperty = function(propName: string): boolean {\n        return meta64.readOnlyPropertyList[propName];\n    }\n\n    isBinaryProperty = function(propName: string): boolean {\n        return meta64.binaryPropertyList[propName];\n    }\n\n    sanitizePropertyName = function(propName: string): string {\n        if (meta64.editModeOption === \"simple\") {\n            return propName === jcrCnst.CONTENT ? \"Content\" : propName;\n        } else {\n            return propName;\n        }\n    }\n}\nexport let render: Render = new Render();\nexport default render;\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface SearchContentDlg extends DialogBase {\n}\n","console.log(\"TimelineResultsPanel.ts\");\n\nimport {srch} from \"./Search\";\n\n\n\nexport class TimelineResultsPanel {\n\n    domId: string = \"timelineResultsPanel\";\n    tabId: string = \"timelineTabName\";\n    visible: boolean = false;\n\n    constructor(args:Object) {\n    }\n\n    build = () => {\n        var header = \"<h2 id='timelinePageTitle' class='page-title'></h2>\";\n        var mainContent = \"<div id='timelineView'></div>\";\n        return header + mainContent;\n    }\n\n    init = () => {\n        $(\"#timelinePageTitle\").html(srch.timelinePageTitle);\n        srch.populateSearchResultsPage(srch.timelineResults, \"timelineView\");\n    }\n}\n","import {srch} from \"./Search\";\n\nexport class SearchResultsPanel {\n\n    domId: string = \"searchResultsPanel\";\n    tabId: string = \"searchTabName\";\n    visible: boolean = false;\n\n    constructor(args:Object) {\n    }\n\n    build = () => {\n        var header = \"<h2 id='searchPageTitle' class='page-title'></h2>\";\n        var mainContent = \"<div id='searchResultsView'></div>\";\n        return header + mainContent;\n    };\n\n    init = () => {\n        $(\"#searchPageTitle\").html(srch.searchPageTitle);\n        srch.populateSearchResultsPage(srch.searchResults, \"searchResultsView\");\n    }\n}\n","console.log(\"Search.ts\");\n\nimport { cnst, jcrCnst } from \"./Constants\";\nimport { meta64 } from \"./Meta64\";\nimport { util } from \"./Util\";\nimport { render } from \"./Render\";\nimport * as I from \"./Interfaces\";\nimport { MessageDlg } from \"./MessageDlg\";\nimport { view } from \"./View\";\nimport { nav } from \"./Nav\";\nimport { Factory } from \"./Factory\";\nimport { SearchContentDlg } from \"./SearchContentDlg\";\nimport { TimelineResultsPanel } from \"./TimelineResultsPanel\";\nimport { SearchResultsPanel } from \"./SearchResultsPanel\";\n\n\n\nexport class Search {\n    _UID_ROWID_SUFFIX: string = \"_srch_row\";\n\n    searchNodes: any = null;\n    searchPageTitle: string = \"Search Results\";\n    timelinePageTitle: string = \"Timeline\";\n\n    searchOffset = 0;\n    timelineOffset = 0;\n\n    /*\n     * Holds the NodeSearchResponse.java JSON, or null if no search has been done.\n     */\n    searchResults: any = null;\n\n    /*\n     * Holds the NodeSearchResponse.java JSON, or null if no timeline has been done.\n     */\n    timelineResults: any = null;\n\n    /*\n     * Will be the last row clicked on (NodeInfo.java object) and having the red highlight bar\n     */\n    highlightRowNode: I.NodeInfo = null;\n\n    /*\n     * maps node 'identifier' (assigned at server) to uid value which is a value based off local sequence, and uses\n     * nextUid as the counter.\n     */\n    identToUidMap: any = {};\n\n    /*\n     * maps node.uid values to the NodeInfo.java objects\n     *\n     * The only contract about uid values is that they are unique insofar as any one of them always maps to the same\n     * node. Limited lifetime however. The server is simply numbering nodes sequentially. Actually represents the\n     * 'instance' of a model object. Very similar to a 'hashCode' on Java objects.\n     */\n    uidToNodeMap: { [key: string]: I.NodeInfo } = {};\n\n    numSearchResults = function() {\n        return srch.searchResults != null && //\n            srch.searchResults.searchResults != null && //\n            srch.searchResults.searchResults.length != null ? //\n            srch.searchResults.searchResults.length : 0;\n    }\n\n    searchTabActivated = function() {\n        /*\n         * If a logged in user clicks the search tab, and no search results are currently displaying, then go ahead\n         * and open up the search dialog.\n         */\n        if (srch.numSearchResults() == 0 && !meta64.isAnonUser) {\n            Factory.createDefault(\"SearchContentDlgImpl\", (dlg: SearchContentDlg) => {\n                dlg.open();\n            });\n        }\n    }\n\n    searchNodesResponse = function(res: I.NodeSearchResponse) {\n        srch.searchResults = res;\n        Factory.create(\"SearchResultsPanel\", (panel: SearchResultsPanel) => {\n            var content = panel.build();\n            util.setHtml(\"searchResultsPanel\", content);\n            panel.init();\n            meta64.changePage(panel);\n        });\n    }\n\n    timelineResponse = function(res: I.NodeSearchResponse) {\n        debugger;\n        srch.timelineResults = res;\n        Factory.create(\"TimelineResultsPanel\", (panel: TimelineResultsPanel) => {\n            var content = panel.build();\n            util.setHtml(\"timelineResultsPanel\", content);\n            panel.init();\n            meta64.changePage(panel);\n        });\n    }\n\n    searchFilesResponse = function(res: I.FileSearchResponse) {\n        nav.mainOffset = 0;\n        util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n            \"nodeId\": res.searchResultNodeId,\n            \"upLevel\": null,\n            \"renderParentIfLeaf\": null,\n            \"offset\": 0,\n            \"goToLastPage\": false\n        }, nav.navPageNodeResponse);\n    }\n\n    timelineByModTime = function() {\n        debugger;\n        var node = meta64.getHighlightedNode();\n        if (!node) {\n            util.showMessage(\"No node is selected to 'timeline' under.\");\n            return;\n        }\n\n        util.json<I.NodeSearchRequest, I.NodeSearchResponse>(\"nodeSearch\", {\n            \"nodeId\": node.id,\n            \"searchText\": \"\",\n            \"sortDir\": \"DESC\",\n            \"sortField\": jcrCnst.LAST_MODIFIED,\n            \"searchProp\": null\n        }, srch.timelineResponse);\n    }\n\n    timelineByCreateTime = function() {\n        var node = meta64.getHighlightedNode();\n        if (!node) {\n            util.showMessage(\"No node is selected to 'timeline' under.\");\n            return;\n        }\n\n        util.json<I.NodeSearchRequest, I.NodeSearchResponse>(\"nodeSearch\", {\n            \"nodeId\": node.id,\n            \"searchText\": \"\",\n            \"sortDir\": \"DESC\",\n            \"sortField\": jcrCnst.CREATED,\n            \"searchProp\": null\n        }, srch.timelineResponse);\n    }\n\n    initSearchNode = function(node: I.NodeInfo) {\n        node.uid = util.getUidForId(srch.identToUidMap, node.id);\n        srch.uidToNodeMap[node.uid] = node;\n    }\n\n    populateSearchResultsPage = function(data, viewName) {\n        var output = '';\n        var childCount = data.searchResults.length;\n\n        /*\n         * Number of rows that have actually made it onto the page to far. Note: some nodes get filtered out on the\n         * client side for various reasons.\n         */\n        var rowCount = 0;\n\n        $.each(data.searchResults, function(i, node) {\n            if (meta64.isNodeBlackListed(node))\n                return;\n\n            srch.initSearchNode(node);\n\n            rowCount++;\n            output += srch.renderSearchResultAsListItem(node, i, childCount, rowCount);\n        });\n\n        util.setHtml(viewName, output);\n    }\n\n    /*\n     * Renders a single line of search results on the search results page.\n     *\n     * node is a NodeInfo.java JSON\n     */\n    renderSearchResultAsListItem = function(node, index, count, rowCount) {\n\n        var uid = node.uid;\n        console.log(\"renderSearchResult: \" + uid);\n\n        var cssId = uid + srch._UID_ROWID_SUFFIX;\n        // console.log(\"Rendering Node Row[\" + index + \"] with id: \" +cssId)\n\n        var buttonBarHtml = srch.makeButtonBarHtml(\"\" + uid);\n\n        console.log(\"buttonBarHtml=\" + buttonBarHtml);\n        var content = render.renderNodeContent(node, true, true, true, true, true);\n\n        return render.tag(\"div\", {\n            \"class\": \"node-table-row inactive-row\",\n            \"onClick\": `meta64.clickOnSearchResultRow(this, '${uid}');`, //\n            \"id\": cssId\n        },//\n            buttonBarHtml//\n            + render.tag(\"div\", {\n                \"id\": uid + \"_srch_content\"\n            }, content));\n    }\n\n    makeButtonBarHtml = function(uid) {\n        var gotoButton = render.makeButton(\"Go to Node\", uid, `meta64.clickSearchNode('${uid}');`);\n        return render.makeHorizontalFieldSet(gotoButton);\n    }\n\n    clickOnSearchResultRow = function(rowElm, uid) {\n        srch.unhighlightRow();\n        srch.highlightRowNode = srch.uidToNodeMap[uid];\n\n        util.changeOrAddClass(rowElm, \"inactive-row\", \"active-row\");\n    }\n\n    clickSearchNode = function(uid: string) {\n        /*\n         * update highlight node to point to the node clicked on, just to persist it for later\n         */\n        srch.highlightRowNode = srch.uidToNodeMap[uid];\n        if (!srch.highlightRowNode) {\n            throw \"Unable to find uid in search results: \" + uid;\n        }\n\n        view.refreshTree(srch.highlightRowNode.id, true, srch.highlightRowNode.id);\n        meta64.selectTab(\"mainTabName\");\n    }\n\n    /*\n     * turn of row selection styling of whatever row is currently selected\n     */\n    unhighlightRow = function() {\n\n        if (!srch.highlightRowNode) {\n            return;\n        }\n\n        /* now make CSS id from node */\n        var nodeId = srch.highlightRowNode.uid + srch._UID_ROWID_SUFFIX;\n\n        var elm = util.domElm(nodeId);\n        if (elm) {\n            /* change class on element */\n            util.changeOrAddClass(elm, \"active-row\", \"inactive-row\");\n        }\n    }\n}\nexport let srch: Search = new Search();\nexport default srch;\n","console.log(\"LoginDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface LoginDlg extends DialogBase {\n    build();\n    init();\n    populateFromCookies();\n    login();\n    resetPassword();\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface SignupDlg extends DialogBase {\n}\n","console.log(\"User.ts\");\n\nimport { cnst } from \"./Constants\";\nimport { meta64 } from \"./Meta64\";\nimport { util } from \"./Util\";\nimport { Factory } from \"./Factory\";\nimport * as I from \"./Interfaces\";\nimport { LoginDlg } from \"./LoginDlg\";\nimport { MessageDlg } from \"./MessageDlg\";\nimport { view } from \"./View\";\nimport { SignupDlg } from \"./SignupDlg\";\n\ndeclare var BRANDING_TITLE_SHORT;\n\n\nclass User {\n\n    private logoutResponse = function(res: I.LogoutResponse): void {\n        /* reloads browser with the query parameters stripped off the path */\n        window.location.href = window.location.origin;\n    }\n\n    /*\n     * for testing purposes, I want to allow certain users additional privileges. A bit of a hack because it will go\n     * into production, but on my own production these are my \"testUserAccounts\", so no real user will be able to\n     * use these names\n     */\n    isTestUserAccount = function(): boolean {\n        return meta64.userName.toLowerCase() === \"adam\" || //\n            meta64.userName.toLowerCase() === \"bob\" || //\n            meta64.userName.toLowerCase() === \"cory\" || //\n            meta64.userName.toLowerCase() === \"dan\";\n    }\n\n    setTitleUsingLoginResponse = function(res): void {\n        var title = BRANDING_TITLE_SHORT;\n\n        /* todo-0: If users go with very long usernames this is gonna be ugly */\n        if (!meta64.isAnonUser) {\n            title += \":\" + res.userName;\n        }\n\n        $(\"#headerAppName\").html(title);\n    }\n\n    /* TODO-3: move this into meta64 module */\n    setStateVarsUsingLoginResponse = function(res: I.LoginResponse): void {\n        if (res.rootNode) {\n            meta64.homeNodeId = res.rootNode.id;\n            meta64.homeNodePath = res.rootNode.path;\n        }\n        meta64.userName = res.userName;\n        meta64.isAdminUser = res.userName === \"admin\";\n        meta64.isAnonUser = res.userName === \"anonymous\";\n        meta64.anonUserLandingPageNode = res.anonUserLandingPageNode;\n        meta64.allowFileSystemSearch = res.allowFileSystemSearch;\n\n        meta64.userPreferences = res.userPreferences;\n        meta64.editModeOption = res.userPreferences.advancedMode ? meta64.MODE_ADVANCED : meta64.MODE_SIMPLE;\n        meta64.showMetaData = res.userPreferences.showMetaData;\n\n        console.log(\"from server: meta64.editModeOption=\" + meta64.editModeOption);\n    }\n\n    openSignupPg = function(): void {\n        Factory.createDefault(\"SignupDlgImpl\", (dlg: SignupDlg) => {\n            dlg.open();\n        });\n    }\n\n    /* Write a cookie that expires in a year for all paths */\n    writeCookie = function(name, val): void {\n        $.cookie(name, val, {\n            expires: 365,\n            path: '/'\n        });\n    }\n\n    /*\n     * This method is ugly. It is the button that can be login *or* logout.\n     */\n    openLoginPg = function(): void {\n        Factory.createDefault(\"LoginDlgImpl\", (dlg: LoginDlg) => {\n            dlg.populateFromCookies();\n            dlg.open();\n        });\n    }\n\n    refreshLogin = function(): void {\n        console.log(\"refreshLogin.\");\n\n        let callUsr: string;\n        let callPwd: string;\n        let usingCookies: boolean = false;\n\n        var loginSessionReady = $(\"#loginSessionReady\").text();\n        if (loginSessionReady === \"true\") {\n            console.log(\"    loginSessionReady = true\");\n            /*\n             * using blank credentials will cause server to look for a valid session\n             */\n            callUsr = \"\";\n            callPwd = \"\";\n            usingCookies = true;\n        } else {\n            console.log(\"    loginSessionReady = false\");\n\n            let loginState: string = $.cookie(cnst.COOKIE_LOGIN_STATE);\n\n            /* if we have known state as logged out, then do nothing here */\n            if (loginState === \"0\") {\n                meta64.loadAnonPageHome(false);\n                return;\n            }\n\n            let usr: string = $.cookie(cnst.COOKIE_LOGIN_USR);\n            let pwd: string = $.cookie(cnst.COOKIE_LOGIN_PWD);\n\n            usingCookies = !util.emptyString(usr) && !util.emptyString(pwd);\n            console.log(\"cookieUser=\" + usr + \" usingCookies = \" + usingCookies);\n\n            /*\n             * empyt credentials causes server to try to log in with any active session credentials.\n             */\n            callUsr = usr ? usr : \"\";\n            callPwd = pwd ? pwd : \"\";\n        }\n\n        console.log(\"refreshLogin with name: \" + callUsr);\n\n        if (!callUsr) {\n            meta64.loadAnonPageHome(false);\n        } else {\n            util.json<I.LoginRequest, I.LoginResponse>(\"login\", {\n                \"userName\": callUsr,\n                \"password\": callPwd,\n                \"tzOffset\": new Date().getTimezoneOffset(),\n                \"dst\": util.daylightSavingsTime\n            }, function(res: I.LoginResponse) {\n                if (usingCookies) {\n                    user.loginResponse(res, callUsr, callPwd, usingCookies);\n                } else {\n                    user.refreshLoginResponse(res);\n                }\n            });\n        }\n    }\n\n    logout = function(updateLoginStateCookie) {\n        if (meta64.isAnonUser) {\n            return;\n        }\n\n        /* Remove warning dialog to ask user about leaving the page */\n        $(window).off(\"beforeunload\");\n\n        if (updateLoginStateCookie) {\n            user.writeCookie(cnst.COOKIE_LOGIN_STATE, \"0\");\n        }\n\n        util.json<I.LogoutRequest, I.LogoutResponse>(\"logout\", {}, user.logoutResponse);\n    }\n\n\n    login = function(loginDlg, usr, pwd) {\n        util.json<I.LoginRequest, I.LoginResponse>(\"login\", {\n            \"userName\": usr,\n            \"password\": pwd,\n            \"tzOffset\": new Date().getTimezoneOffset(),\n            \"dst\": util.daylightSavingsTime\n        }, function(res: I.LoginResponse) {\n            user.loginResponse(res, usr, pwd, null, loginDlg);\n        });\n    }\n\n    deleteAllUserCookies = function() {\n        $.removeCookie(cnst.COOKIE_LOGIN_USR);\n        $.removeCookie(cnst.COOKIE_LOGIN_PWD);\n        $.removeCookie(cnst.COOKIE_LOGIN_STATE);\n    }\n\n    loginResponse = function(res?: I.LoginResponse, usr?: string, pwd?: string, usingCookies?: boolean, loginDlg?: LoginDlg) {\n        if (util.checkSuccess(\"Login\", res)) {\n            console.log(\"loginResponse: usr=\" + usr + \" homeNodeOverride: \" + res.homeNodeOverride);\n\n            if (usr != \"anonymous\") {\n                user.writeCookie(cnst.COOKIE_LOGIN_USR, usr);\n                user.writeCookie(cnst.COOKIE_LOGIN_PWD, pwd);\n                user.writeCookie(cnst.COOKIE_LOGIN_STATE, \"1\");\n            }\n\n            if (loginDlg) {\n                loginDlg.cancel();\n            }\n\n            user.setStateVarsUsingLoginResponse(res);\n\n            if (res.userPreferences.lastNode) {\n                console.log(\"lastNode: \" + res.userPreferences.lastNode);\n            } else {\n                console.log(\"lastNode is null.\");\n            }\n\n            /* set ID to be the page we want to show user right after login */\n            let id: string = null;\n\n            if (!util.emptyString(res.homeNodeOverride)) {\n                console.log(\"loading homeNodeOverride=\" + res.homeNodeOverride);\n                id = res.homeNodeOverride;\n                meta64.homeNodeOverride = id;\n            } else {\n                if (res.userPreferences.lastNode) {\n                    console.log(\"loading lastNode=\" + res.userPreferences.lastNode);\n                    id = res.userPreferences.lastNode;\n                } else {\n                    console.log(\"loading homeNodeId=\" + meta64.homeNodeId);\n                    id = meta64.homeNodeId;\n                }\n            }\n\n            view.refreshTree(id, false, null, true);\n            user.setTitleUsingLoginResponse(res);\n        } else {\n            if (usingCookies) {\n                util.showMessage(\"Cookie login failed.\");\n\n                /*\n                 * blow away failed cookie credentials and reload page, should result in brand new page load as anon\n                 * user.\n                 */\n                $.removeCookie(cnst.COOKIE_LOGIN_USR);\n                $.removeCookie(cnst.COOKIE_LOGIN_PWD);\n                user.writeCookie(cnst.COOKIE_LOGIN_STATE, \"0\");\n                location.reload();\n            }\n        }\n    }\n\n    // res is JSON response object from server.\n    private refreshLoginResponse = function(res: I.LoginResponse): void {\n        console.log(\"refreshLoginResponse\");\n\n        if (res.success) {\n            user.setStateVarsUsingLoginResponse(res);\n            user.setTitleUsingLoginResponse(res);\n        }\n\n        meta64.loadAnonPageHome(false);\n    }\n}\nexport let user: User = new User();\nexport default user;\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface PrefsDlg extends DialogBase {\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface SearchTagsDlg extends DialogBase {\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface SearchFilesDlg extends DialogBase {\n}\n","console.log(\"Nav.ts\");\n\nimport { meta64 } from \"./Meta64\"\nimport { util } from \"./Util\";\nimport { edit } from \"./Edit\";\nimport { srch } from \"./Search\";\nimport { user } from \"./User\";\nimport { render } from \"./Render\";\nimport { view } from \"./View\";\nimport * as I from \"./Interfaces\";\nimport { Factory } from \"./Factory\";\nimport { LoginDlg } from \"./LoginDlg\";\nimport { PrefsDlg } from \"./PrefsDlg\";\nimport { SearchContentDlg } from \"./SearchContentDlg\";\nimport { SearchTagsDlg } from \"./SearchTagsDlg\";\nimport { SearchFilesDlg } from \"./SearchFilesDlg\";\n\nclass Nav {\n    _UID_ROWID_SUFFIX: string = \"_row\";\n\n    /* todo-0: eventually when we do paging for other lists, we will need a set of these variables for each list display (i.e. search, timeline, etc) */\n    mainOffset: number = 0;\n    endReached: boolean = true;\n\n    /* todo-0: need to have this value passed from server rather than coded in TypeScript */\n    ROWS_PER_PAGE: number = 25;\n\n    search = function(): void {\n        Factory.createDefault(\"SearchContentDlgImpl\", (dlg: SearchContentDlg) => {\n            dlg.open();\n        });\n    }\n\n    searchTags = function(): void {\n        Factory.createDefault(\"SearchTagsDlgImpl\", (dlg: SearchTagsDlg) => {\n            dlg.open();\n        });\n    }\n\n    searchFiles = function(): void {\n        Factory.createDefault(\"SearchFilesDlgImpl\", (dlg: SearchFilesDlg) => {\n            dlg.open();\n        });\n    }\n\n    editMode = function(): void {\n        edit.editMode();\n    }\n\n    login = function(): void {\n        Factory.createDefault(\"LoginDlgImpl\", (dlg: LoginDlg) => {\n            //todo-0: this call was always missing pupulateFromCookies, is this right ?\n            //dlg.populateFromCookies();\n            dlg.open();\n        });\n    }\n\n    logout = function(): void {\n        user.logout(true);\n    }\n\n    signup = function(): void {\n        user.openSignupPg();\n    }\n\n\n    preferences = function(): void {\n        Factory.createDefault(\"PrefsDlgImpl\", (dlg: PrefsDlg) => {\n            dlg.open();\n        });\n    }\n\n    openMainMenuHelp = function(): void {\n        nav.mainOffset = 0;\n        util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n            \"nodeId\": \"/meta64/public/help\",\n            \"upLevel\": null,\n            \"renderParentIfLeaf\": null,\n            \"offset\": nav.mainOffset,\n            \"goToLastPage\": false\n        }, nav.navPageNodeResponse);\n    }\n\n    openRssFeedsNode = function(): void {\n        nav.mainOffset = 0;\n        util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n            \"nodeId\": \"/rss/feeds\",\n            \"upLevel\": null,\n            \"renderParentIfLeaf\": null,\n            \"offset\": nav.mainOffset,\n            \"goToLastPage\": false\n        }, nav.navPageNodeResponse);\n    }\n\n    expandMore = function(nodeId: string): void {\n\n        /* I'm setting this here so that we can come up with a way to make the abbrev expand state be remembered, button\n        this is lower priority for now, so i'm not using it yet */\n        meta64.expandedAbbrevNodeIds[nodeId] = true;\n\n        util.json<I.ExpandAbbreviatedNodeRequest, I.ExpandAbbreviatedNodeResponse>(\"expandAbbreviatedNode\", {\n            \"nodeId\": nodeId\n        }, nav.expandAbbreviatedNodeResponse);\n    }\n\n    private expandAbbreviatedNodeResponse = function(res: I.ExpandAbbreviatedNodeResponse): void {\n        if (util.checkSuccess(\"ExpandAbbreviatedNode\", res)) {\n            //console.log(\"VAL: \"+JSON.stringify(res.nodeInfo));\n            render.refreshNodeOnPage(res.nodeInfo);\n        }\n    }\n\n    displayingHome = function(): boolean {\n        if (meta64.isAnonUser) {\n            return meta64.currentNodeId === meta64.anonUserLandingPageNode;\n        } else {\n            return meta64.currentNodeId === meta64.homeNodeId;\n        }\n    }\n\n    parentVisibleToUser = function(): boolean {\n        return !nav.displayingHome();\n    }\n\n    upLevelResponse = function(res: I.RenderNodeResponse, id): void {\n        if (!res || !res.node) {\n            util.showMessage(\"No data is visible to you above this node.\");\n        } else {\n            render.renderPageFromData(res);\n            meta64.highlightRowById(id, true);\n            meta64.refreshAllGuiEnablement();\n        }\n    }\n\n    navUpLevel = function(): void {\n\n        if (!nav.parentVisibleToUser()) {\n            // Already at root. Can't go up.\n            return;\n        }\n\n        /* todo-0: for now an uplevel will reset to zero offset, but eventually I want to have each level of the tree, be able to\n        remember which offset it was at so when user drills down, and then comes back out, they page back out from the same pages they\n        drilled down from */\n        nav.mainOffset = 0;\n        var ironRes = util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n            \"nodeId\": meta64.currentNodeId,\n            \"upLevel\": 1,\n            \"renderParentIfLeaf\": false,\n            \"offset\": nav.mainOffset,\n            \"goToLastPage\": false\n        }, function(res: I.RenderNodeResponse) {\n            nav.upLevelResponse(ironRes.response, meta64.currentNodeId);\n        });\n    }\n\n    /*\n     * turn of row selection DOM element of whatever row is currently selected\n     */\n    getSelectedDomElement = function(): any {\n\n        var currentSelNode = meta64.getHighlightedNode();\n        if (currentSelNode) {\n\n            /* get node by node identifier */\n            let node: I.NodeInfo = meta64.uidToNodeMap[currentSelNode.uid];\n\n            if (node) {\n                console.log(\"found highlighted node.id=\" + node.id);\n\n                /* now make CSS id from node */\n                let nodeId: string = node.uid + nav._UID_ROWID_SUFFIX;\n                // console.log(\"looking up using element id: \"+nodeId);\n\n                return util.domElm(nodeId);\n            }\n        }\n\n        return null;\n    }\n\n    /*\n     * turn of row selection DOM element of whatever row is currently selected\n     */\n    getSelectedPolyElement = function(): any {\n        try {\n            let currentSelNode: I.NodeInfo = meta64.getHighlightedNode();\n            if (currentSelNode) {\n\n                /* get node by node identifier */\n                let node: I.NodeInfo = meta64.uidToNodeMap[currentSelNode.uid];\n\n                if (node) {\n                    console.log(\"found highlighted node.id=\" + node.id);\n\n                    /* now make CSS id from node */\n                    let nodeId: string = node.uid + nav._UID_ROWID_SUFFIX;\n                    console.log(\"looking up using element id: \" + nodeId);\n\n                    return util.polyElm(nodeId);\n                }\n            } else {\n                console.log(\"no node highlighted\");\n            }\n        } catch (e) {\n            util.logAndThrow(\"getSelectedPolyElement failed.\");\n        }\n        return null;\n    }\n\n    clickOnNodeRow = function(rowElm, uid): void {\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (!node) {\n            console.log(\"clickOnNodeRow recieved uid that doesn't map to any node. uid=\" + uid);\n            return;\n        }\n\n        /*\n         * sets which node is selected on this page (i.e. parent node of this page being the 'key')\n         */\n        meta64.highlightNode(node, false);\n\n        if (meta64.userPreferences.editMode) {\n            /*\n             * if node.owner is currently null, that means we have not retrieved the owner from the server yet, but\n             * if non-null it's already displaying and we do nothing.\n             */\n            if (!node.owner) {\n                console.log(\"calling updateNodeInfo\");\n                meta64.updateNodeInfo(node);\n            }\n        }\n        meta64.refreshAllGuiEnablement();\n    }\n\n    openNode = function(uid): void {\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        meta64.highlightNode(node, true);\n\n        if (!node) {\n            util.showMessage(\"Unknown nodeId in openNode: \" + uid);\n        } else {\n            view.refreshTree(node.id, false);\n        }\n    }\n\n    /*\n     * unfortunately we have to rely on onClick, because of the fact that events to checkboxes don't appear to work\n     * in Polmer at all, and since onClick runs BEFORE the state change is completed, that is the reason for the\n     * silly looking async timer here.\n     */\n    toggleNodeSel = function(uid): void {\n        let toggleButton: any = util.polyElm(uid + \"_sel\");\n        setTimeout(function() {\n            if (toggleButton.node.checked) {\n                meta64.selectedNodes[uid] = true;\n            } else {\n                delete meta64.selectedNodes[uid];\n            }\n\n            view.updateStatusBar();\n            meta64.refreshAllGuiEnablement();\n        }, 500);\n    }\n\n    navPageNodeResponse = function(res: I.RenderNodeResponse): void {\n        meta64.clearSelectedNodes();\n        render.renderPageFromData(res);\n        view.scrollToTop();\n        meta64.refreshAllGuiEnablement();\n    }\n\n    navHome = function(): void {\n        if (meta64.isAnonUser) {\n            meta64.loadAnonPageHome(true);\n            // window.location.href = window.location.origin;\n        } else {\n            nav.mainOffset = 0;\n            util.json<I.RenderNodeRequest, I.RenderNodeResponse>(\"renderNode\", {\n                \"nodeId\": meta64.homeNodeId,\n                \"upLevel\": null,\n                \"renderParentIfLeaf\": null,\n                \"offset\": nav.mainOffset,\n                \"goToLastPage\": false\n            }, nav.navPageNodeResponse);\n        }\n    }\n\n    navPublicHome = function(): void {\n        meta64.loadAnonPageHome(true);\n    }\n}\n\nexport let nav: Nav = new Nav();\nexport default nav;\n","console.log(\"EditNodeDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface EditNodeDlg extends DialogBase {\n    saveNewNode(newNodeName?: string): void;\n}\n","console.log(\"ConfirmDlg.ts\");\n\nimport { DialogBase } from \"./DialogBase\";\n\nexport interface ConfirmDlg extends DialogBase {\n}\n","console.log(\"CreateNodeDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface CreateNodeDlg extends DialogBase {\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface RenameNodeDlg extends DialogBase {\n}\n","console.log(\"ImportDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface ImportDlg extends DialogBase {\n}\n","console.log(\"ExportDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface ExportDlg extends DialogBase {\n}\n","console.log(\"ChangePasswordDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface ChangePasswordDlg  extends DialogBase {\n}\n","console.log(\"ManageAccountDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface ManageAccountDlg extends DialogBase {\n}\n","console.log(\"Edit.ts\");\n\nimport { meta64 } from \"./Meta64\"\nimport { util } from \"./Util\";\nimport { nav } from \"./Nav\";\nimport { render } from \"./Render\";\nimport { view } from \"./View\"\nimport { props } from \"./Props\";\nimport { cnst, jcrCnst } from \"./Constants\";\nimport * as I from \"./Interfaces\";\nimport { EditNodeDlg } from \"./EditNodeDlg\";\nimport { ConfirmDlg } from \"./ConfirmDlg\";\nimport { CreateNodeDlg } from \"./CreateNodeDlg\";\nimport { Factory } from \"./Factory\";\nimport { user } from \"./User\";\nimport {RenameNodeDlg} from \"./RenameNodeDlg\";\nimport {ImportDlg} from \"./ImportDlg\";\nimport {ExportDlg} from \"./ExportDlg\";\nimport {PrefsDlg} from \"./PrefsDlg\";\nimport {ChangePasswordDlg} from \"./ChangePasswordDlg\";\nimport {ManageAccountDlg} from \"./ManageAccountDlg\";\n\nclass Edit {\n\n    createNode = function(): void {\n        Factory.createDefault(\"CreateNodeDlgImpl\", (dlg: CreateNodeDlg) => {\n            dlg.open();\n        })\n    }\n\n    openChangePasswordDlg = function(): void {\n        Factory.createDefault(\"ChangePasswordDlgImpl\", (dlg: ChangePasswordDlg) => {\n            dlg.open();\n        })\n    }\n\n    openManageAccountDlg = function(): void {\n        Factory.createDefault(\"ManageAccountDlgImpl\", (dlg: ManageAccountDlg) => {\n            dlg.open();\n        })\n    }\n\n    editPreferences = function(): void {\n        Factory.createDefault(\"PrefsDlgImpl\", (dlg: PrefsDlg) => {\n            dlg.open();\n        })\n    }\n\n    renameNode = function(): void {\n        Factory.createDefault(\"RenameNodeDlgImpl\", (dlg: RenameNodeDlg) => {\n            dlg.open();\n        })\n    }\n\n    openImportDlg = function(): void {\n        Factory.createDefault(\"ImportDlgImpl\", (dlg: ImportDlg) => {\n            dlg.open();\n        })\n    }\n\n    openExportDlg = function(): void {\n        Factory.createDefault(\"ExportDlgImpl\", (dlg: ExportDlg) => {\n            dlg.open();\n        })\n    }\n\n    private insertBookResponse = function(res: I.InsertBookResponse): void {\n        console.log(\"insertBookResponse running.\");\n\n        util.checkSuccess(\"Insert Book\", res);\n        view.refreshTree(null, false);\n        meta64.selectTab(\"mainTabName\");\n        view.scrollToSelectedNode();\n    }\n\n    private deleteNodesResponse = function(res: I.DeleteNodesResponse, payload: Object): void {\n        if (util.checkSuccess(\"Delete node\", res)) {\n            meta64.clearSelectedNodes();\n            let highlightId: string = null;\n            if (payload) {\n                let selNode = payload[\"postDeleteSelNode\"];\n                if (selNode) {\n                    highlightId = selNode.id;\n                }\n            }\n\n            view.refreshTree(null, false, highlightId);\n        }\n    }\n\n    private initNodeEditResponse = function(res: I.InitNodeEditResponse): void {\n        if (util.checkSuccess(\"Editing node\", res)) {\n            let node: I.NodeInfo = res.nodeInfo;\n            let isRep: boolean = util.startsWith(node.name, \"rep:\") || /* meta64.currentNodeData. bug? */\n                util.contains(node.path, \"/rep:\");\n\n            /* if this is a comment node and we are the commenter */\n            let editingAllowed: boolean = props.isOwnedCommentNode(node);\n\n            if (!editingAllowed) {\n                editingAllowed = (meta64.isAdminUser || !isRep) && !props.isNonOwnedCommentNode(node)\n                    && !props.isNonOwnedNode(node);\n            }\n\n            if (editingAllowed) {\n                /*\n                 * Server will have sent us back the raw text content, that should be markdown instead of any HTML, so\n                 * that we can display this and save.\n                 */\n                edit.editNode = res.nodeInfo;\n\n                Factory.createDefault(\"EditNodeDlgImpl\", (dlg: EditNodeDlg) => {\n                    edit.editNodeDlgInst = dlg;\n                    dlg.open();\n                });\n\n            } else {\n                util.showMessage(\"You cannot edit nodes that you don't own.\");\n            }\n        }\n    }\n\n    private moveNodesResponse = function(res: I.MoveNodesResponse): void {\n        if (util.checkSuccess(\"Move nodes\", res)) {\n            edit.nodesToMove = null; // reset\n            edit.nodesToMoveSet = {};\n            view.refreshTree(null, false);\n        }\n    }\n\n    private setNodePositionResponse = function(res: I.SetNodePositionResponse): void {\n        if (util.checkSuccess(\"Change node position\", res)) {\n            meta64.refresh();\n        }\n    }\n\n    showReadOnlyProperties: boolean = true;\n    /*\n     * Node ID array of nodes that are ready to be moved when user clicks 'Finish Moving'\n     */\n    nodesToMove: any = null;\n\n    /* todo-1: need to find out if there's a better way to do an ordered set in javascript so I don't need\n    both nodesToMove and nodesToMoveSet\n    */\n    nodesToMoveSet: Object = {};\n\n    parentOfNewNode: I.NodeInfo = null;\n\n    /*\n     * indicates editor is displaying a node that is not yet saved on the server\n     */\n    editingUnsavedNode: boolean = false;\n\n    /*\n     * node (NodeInfo.java) that is being created under when new node is created\n     */\n    sendNotificationPendingSave: boolean = false;\n\n    /*\n     * Node being edited\n     *\n     * todo-2: this and several other variables can now be moved into the dialog class? Is that good or bad\n     * coupling/responsibility?\n     */\n    editNode: I.NodeInfo = null;\n\n    /* Instance of EditNodeDialog: For now creating new one each time */\n    editNodeDlgInst: EditNodeDlg = null;\n\n    /*\n     * type=NodeInfo.java\n     *\n     * When inserting a new node, this holds the node that was clicked on at the time the insert was requested, and\n     * is sent to server for ordinal position assignment of new node. Also if this var is null, it indicates we are\n     * creating in a 'create under parent' mode, versus non-null meaning 'insert inline' type of insert.\n     *\n     */\n    nodeInsertTarget: any = null;\n\n    /* returns true if we can 'try to' insert under 'node' or false if not */\n    isEditAllowed = function(node: any): boolean {\n        return meta64.userPreferences.editMode && node.path != \"/\" &&\n            /*\n             * Check that if we have a commentBy property we are the commenter, before allowing edit button also.\n             */\n            (!props.isNonOwnedCommentNode(node) || props.isOwnedCommentNode(node)) //\n            && !props.isNonOwnedNode(node);\n    }\n\n    /* best we can do here is allow the disableInsert prop to be able to turn things off, node by node */\n    isInsertAllowed = function(node: any): boolean {\n        return props.getNodePropertyVal(jcrCnst.DISABLE_INSERT, node) == null;\n    }\n\n    startEditingNewNode = function(typeName?: string, createAtTop?: boolean): void {\n        edit.editingUnsavedNode = false;\n        edit.editNode = null;\n        Factory.createDefault(\"EditNodeDlgImpl\", (dlg: EditNodeDlg) => {\n            edit.editNodeDlgInst = dlg;\n            dlg.saveNewNode(\"\");\n        }, { \"typeName\": typeName, \"createAtTop\": createAtTop });\n    }\n\n    /*\n     * called to display editor that will come up BEFORE any node is saved onto the server, so that the first time\n     * any save is performed we will have the correct node name, at least.\n     *\n     * This version is no longer being used, and currently this means 'editingUnsavedNode' is not currently ever\n     * triggered. The new approach now that we have the ability to 'rename' nodes is to just create one with a\n     * random name an let user start editing right away and then rename the node IF a custom node name is needed.\n     *\n     * This means if we call this function (startEditingNewNodeWithName) instead of 'startEditingNewNode()'\n     * that will cause the GUI to always prompt for the node name before creating the node. This was the original\n     * functionality and still works.\n     */\n    startEditingNewNodeWithName = function(): void {\n        edit.editingUnsavedNode = true;\n        edit.editNode = null;\n        Factory.createDefault(\"EditNodeDlgImpl\", (dlg: EditNodeDlg) => {\n            edit.editNodeDlgInst = dlg;\n            dlg.saveNewNode(\"\");\n        });\n    }\n\n    insertNodeResponse = function(res: I.InsertNodeResponse): void {\n        if (util.checkSuccess(\"Insert node\", res)) {\n            meta64.initNode(res.newNode, true);\n            meta64.highlightNode(res.newNode, true);\n            edit.runEditNode(res.newNode.uid);\n        }\n    }\n\n    createSubNodeResponse = function(res: I.CreateSubNodeResponse): void {\n        if (util.checkSuccess(\"Create subnode\", res)) {\n            meta64.initNode(res.newNode, true);\n            edit.runEditNode(res.newNode.uid);\n        }\n    }\n\n    saveNodeResponse = function(res: I.SaveNodeResponse, payload: any): void {\n        if (util.checkSuccess(\"Save node\", res)) {\n            /* becasuse I don't understand 'editingUnsavedNode' variable any longer until i refresh my memory, i will use\n            the old approach of refreshing entire tree rather than more efficient refresnNodeOnPage, becuase it requires\n            the node to already be on the page, and this requires in depth analys i'm not going to do right this minute.\n            */\n            //render.refreshNodeOnPage(res.node);\n            view.refreshTree(null, false, payload.savedId);\n            meta64.selectTab(\"mainTabName\");\n        }\n    }\n\n    editMode = function(modeVal?: boolean): void {\n        if (typeof modeVal != 'undefined') {\n            meta64.userPreferences.editMode = modeVal;\n        }\n        else {\n            meta64.userPreferences.editMode = meta64.userPreferences.editMode ? false : true;\n        }\n        // todo-3: really edit mode button needs to be some kind of button\n        // that can show an on/off state.\n        render.renderPageFromData();\n\n        /*\n         * Since edit mode turns on lots of buttons, the location of the node we are viewing can change so much it\n         * goes completely offscreen out of view, so we scroll it back into view every time\n         */\n        view.scrollToSelectedNode();\n\n        meta64.saveUserPreferences();\n    }\n\n    moveNodeUp = function(uid?: string): void {\n        /* if no uid was passed, use the highlighted node */\n        if (!uid) {\n            let selNode: I.NodeInfo = meta64.getHighlightedNode();\n            uid = selNode.uid;\n        }\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (node) {\n            util.json<I.SetNodePositionRequest, I.SetNodePositionResponse>(\"setNodePosition\", {\n                \"parentNodeId\": meta64.currentNodeId,\n                \"nodeId\": node.name,\n                \"siblingId\": \"[nodeAbove]\"\n            }, edit.setNodePositionResponse);\n        } else {\n            console.log(\"idToNodeMap does not contain \" + uid);\n        }\n    }\n\n    moveNodeDown = function(uid?: string): void {\n        /* if no uid was passed, use the highlighted node */\n        if (!uid) {\n            let selNode: I.NodeInfo = meta64.getHighlightedNode();\n            uid = selNode.uid;\n        }\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (node) {\n            util.json<I.SetNodePositionRequest, I.SetNodePositionResponse>(\"setNodePosition\", {\n                \"parentNodeId\": meta64.currentNodeData.node.id,\n                \"nodeId\": \"[nodeBelow]\",\n                \"siblingId\": node.name\n            }, edit.setNodePositionResponse);\n        } else {\n            console.log(\"idToNodeMap does not contain \" + uid);\n        }\n    }\n\n    moveNodeToTop = function(uid?: string): void {\n        /* if no uid was passed, use the highlighted node */\n        if (!uid) {\n            let selNode: I.NodeInfo = meta64.getHighlightedNode();\n            uid = selNode.uid;\n        }\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (node) {\n            util.json<I.SetNodePositionRequest, I.SetNodePositionResponse>(\"setNodePosition\", {\n                \"parentNodeId\": meta64.currentNodeId,\n                \"nodeId\": node.name,\n                \"siblingId\": \"[topNode]\"\n            }, edit.setNodePositionResponse);\n        } else {\n            console.log(\"idToNodeMap does not contain \" + uid);\n        }\n    }\n\n    moveNodeToBottom = function(uid?: string): void {\n        /* if no uid was passed, use the highlighted node */\n        if (!uid) {\n            let selNode: I.NodeInfo = meta64.getHighlightedNode();\n            uid = selNode.uid;\n        }\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (node) {\n            util.json<I.SetNodePositionRequest, I.SetNodePositionResponse>(\"setNodePosition\", {\n                \"parentNodeId\": meta64.currentNodeData.node.id,\n                \"nodeId\": node.name,\n                \"siblingId\": null\n            }, edit.setNodePositionResponse);\n        } else {\n            console.log(\"idToNodeMap does not contain \" + uid);\n        }\n    }\n\n    /*\n     * Returns the node above the specified node or null if node is itself the top node\n     */\n    getNodeAbove = function(node): any {\n        let ordinal: number = meta64.getOrdinalOfNode(node);\n        if (ordinal <= 0)\n            return null;\n        return meta64.currentNodeData.children[ordinal - 1];\n    }\n\n    /*\n     * Returns the node below the specified node or null if node is itself the bottom node\n     */\n    getNodeBelow = function(node: any): I.NodeInfo {\n        let ordinal: number = meta64.getOrdinalOfNode(node);\n        console.log(\"ordinal = \" + ordinal);\n        if (ordinal == -1 || ordinal >= meta64.currentNodeData.children.length - 1)\n            return null;\n\n        return meta64.currentNodeData.children[ordinal + 1];\n    }\n\n    getFirstChildNode = function(): any {\n        if (!meta64.currentNodeData || !meta64.currentNodeData.children) return null;\n        return meta64.currentNodeData.children[0];\n    }\n\n    runEditNode = function(uid: any): void {\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (!node) {\n            edit.editNode = null;\n            util.showMessage(\"Unknown nodeId in editNodeClick: \" + uid);\n            return;\n        }\n        edit.editingUnsavedNode = false;\n\n        util.json<I.InitNodeEditRequest, I.InitNodeEditResponse>(\"initNodeEdit\", {\n            \"nodeId\": node.id\n        }, edit.initNodeEditResponse);\n    }\n\n    insertNode = function(uid?: any, typeName?: string): void {\n\n        edit.parentOfNewNode = meta64.currentNode;\n        if (!edit.parentOfNewNode) {\n            console.log(\"Unknown parent\");\n            return;\n        }\n\n        /*\n         * We get the node selected for the insert position by using the uid if one was passed in or using the\n         * currently highlighted node if no uid was passed.\n         */\n        let node: I.NodeInfo = null;\n        if (!uid) {\n            node = meta64.getHighlightedNode();\n        } else {\n            node = meta64.uidToNodeMap[uid];\n        }\n\n        if (node) {\n            edit.nodeInsertTarget = node;\n            edit.startEditingNewNode(typeName);\n        }\n    }\n\n    createSubNode = function(uid?: any, typeName?: string, createAtTop?: boolean): void {\n        /*\n         * If no uid provided we deafult to creating a node under the currently viewed node (parent of current page), or any selected\n         * node if there is a selected node.\n         */\n        if (!uid) {\n            let highlightNode: I.NodeInfo = meta64.getHighlightedNode();\n            if (highlightNode) {\n                edit.parentOfNewNode = highlightNode;\n            }\n            else {\n                edit.parentOfNewNode = meta64.currentNode;\n            }\n        } else {\n            edit.parentOfNewNode = meta64.uidToNodeMap[uid];\n            if (!edit.parentOfNewNode) {\n                console.log(\"Unknown nodeId in createSubNode: \" + uid);\n                return;\n            }\n        }\n\n        /*\n         * this indicates we are NOT inserting inline. An inline insert would always have a target.\n         */\n        edit.nodeInsertTarget = null;\n        edit.startEditingNewNode(typeName, createAtTop);\n    }\n\n    replyToComment = function(uid: any): void {\n        edit.createSubNode(uid);\n    }\n\n    clearSelections = function(): void {\n        meta64.clearSelectedNodes();\n\n        /*\n         * We could write code that only scans for all the \"SEL\" buttons and updates the state of them, but for now\n         * we take the simple approach and just re-render the page. There is no call to the server, so this is\n         * actually very efficient.\n         */\n        render.renderPageFromData();\n        meta64.selectTab(\"mainTabName\");\n    }\n\n    /*\n     * Delete the single node identified by 'uid' parameter if uid parameter is passed, and if uid parameter is not\n     * passed then use the node selections for multiple selections on the page.\n     */\n    deleteSelNodes = function(): void {\n        var selNodesArray = meta64.getSelectedNodeIdsArray();\n        if (!selNodesArray || selNodesArray.length == 0) {\n            util.showMessage(\"You have not selected any nodes. Select nodes to delete first.\");\n            return;\n        }\n\n        Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n            dlg.open();\n        }, {\n                \"title\": \"Confirm Delete\", \"message\": \"Delete \" + selNodesArray.length + \" node(s) ?\", \"buttonText\": \"Yes, delete.\", \"yesCallback\":\n                function() {\n                    let postDeleteSelNode: I.NodeInfo = edit.getBestPostDeleteSelNode();\n\n                    util.json<I.DeleteNodesRequest, I.DeleteNodesResponse>(\"deleteNodes\", {\n                        \"nodeIds\": selNodesArray\n                    }, edit.deleteNodesResponse, null, { \"postDeleteSelNode\": postDeleteSelNode });\n                }\n            });\n    }\n\n    /* Gets the node we want to scroll to after a delete */\n    getBestPostDeleteSelNode = function(): I.NodeInfo {\n        /* Use a hashmap-type approach to saving all selected nodes into a looup map */\n        let nodesMap: Object = meta64.getSelectedNodesAsMapById();\n        let bestNode: I.NodeInfo = null;\n        let takeNextNode: boolean = false;\n\n        /* now we scan the children, and the last child we encounterd up until we find the rist onen in nodesMap will be the\n        node we will want to select and scroll the user to AFTER the deleting is done */\n        for (var i = 0; i < meta64.currentNodeData.children.length; i++) {\n            let node: I.NodeInfo = meta64.currentNodeData.children[i];\n\n            if (takeNextNode) {\n                return node;\n            }\n\n            /* is this node one to be deleted */\n            if (nodesMap[node.id]) {\n                takeNextNode = true;\n            }\n            else {\n                bestNode = node;\n            }\n        }\n        return bestNode;\n    }\n\n    cutSelNodes = function(): void {\n\n        var selNodesArray = meta64.getSelectedNodeIdsArray();\n        if (!selNodesArray || selNodesArray.length == 0) {\n            util.showMessage(\"You have not selected any nodes. Select nodes first.\");\n            return;\n        }\n\n        Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n            dlg.open();\n        }, {\n                \"title\": \"Confirm Cut\", \"message\": \"Cut \" + selNodesArray.length + \" node(s), to paste/move to new location ?\", \"buttonText\": \"Yes\", \"yesCallback\":\n                function() {\n                    edit.nodesToMove = selNodesArray;\n                    edit.loadNodesToMoveSet(selNodesArray);\n                    /* todo-1: need to have a way to find all selected checkboxes in the gui and reset them all to unchecked */\n                    meta64.selectedNodes = {}; // clear selections.\n\n                    /* now we render again and the nodes that were cut will disappear from view */\n                    render.renderPageFromData();\n                    meta64.refreshAllGuiEnablement();\n                }\n            });\n    }\n\n    private loadNodesToMoveSet = function(nodeIds: string[]) {\n        edit.nodesToMoveSet = {};\n        for (let id of nodeIds) {\n            edit.nodesToMoveSet[id] = true;\n        }\n    }\n\n    pasteSelNodes = function(): void {\n        Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n            dlg.open();\n        }, {\n                \"title\": \"Confirm Paste\", \"message\": \"Paste \" + edit.nodesToMove.length + \" node(s) under selected parent node ?\", \"buttonText\": \"Yes, paste\", \"yesCallback\":\n                function() {\n                    var highlightNode = meta64.getHighlightedNode();\n                    /*\n                     * For now, we will just cram the nodes onto the end of the children of the currently selected\n                     * page. Later on we can get more specific about allowing precise destination location for moved\n                     * nodes.\n                     */\n                    util.json<I.MoveNodesRequest, I.MoveNodesResponse>(\"moveNodes\", {\n                        \"targetNodeId\": highlightNode.id,\n                        \"targetChildId\": highlightNode != null ? highlightNode.id : null,\n                        \"nodeIds\": edit.nodesToMove\n                    }, edit.moveNodesResponse);\n                }\n            });\n    }\n\n    insertBookWarAndPeace = function(): void {\n        Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n            dlg.open();\n        }, {\n                \"title\": \"Confirm\", \"message\": \"Insert book War and Peace?<p/>Warning: You should have an EMPTY node selected now, to serve as the root node of the book!\",\n                \"buttonText\": \"Yes, insert book.\", \"yesCallback\":\n                function() {\n                    /* inserting under whatever node user has focused */\n                    var node = meta64.getHighlightedNode();\n\n                    if (!node) {\n                        util.showMessage(\"No node is selected.\");\n                    } else {\n                        util.json<I.InsertBookRequest, I.InsertBookResponse>(\"insertBook\", {\n                            \"nodeId\": node.id,\n                            \"bookName\": \"War and Peace\",\n                            \"truncated\": user.isTestUserAccount()\n                        }, edit.insertBookResponse);\n                    }\n                }\n            });\n    }\n}\nexport let edit: Edit = new Edit();\nexport default edit;\n","import { Factory } from \"./Factory\";\nimport { ConfirmDlg } from \"./ConfirmDlg\";\nimport { user } from \"./User\";\nimport { util } from \"./Util\";\nimport * as I from \"./Interfaces\";\n\nclass Prefs {\n\n    closeAccountResponse = function(res: I.CloseAccountResponse): void {\n        /* Remove warning dialog to ask user about leaving the page */\n        $(window).off(\"beforeunload\");\n\n        /* reloads browser with the query parameters stripped off the path */\n        window.location.href = window.location.origin;\n    }\n\n    closeAccount = function(): void {\n        Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n            dlg.open();\n        }, {\n                \"title\": \"Oh No!\",\n                \"message\": \"Close your Account?<p> Are you sure?\",\n                \"buttonText\": \"Yes, Close Account.\",\n                \"yesCallback\":\n                function() {\n                    Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n                        dlg.open();\n                    }, {\n                            \"title\": \"One more Click\",\n                            \"message\": \"Your data will be deleted and can never be recovered.<p> Are you sure?\",\n                            \"buttonText\": \"Yes, Close Account.\",\n                            \"yesCallback\":\n                            function() {\n                                user.deleteAllUserCookies();\n                                util.json<I.CloseAccountRequest, I.CloseAccountResponse>(\"closeAccount\", {}, prefs.closeAccountResponse);\n                            }\n                        });\n                }\n            });\n    }\n}\nexport let prefs: Prefs = new Prefs();\nexport default prefs;\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface SharingDlg extends DialogBase {\n}\n","import {srch} from \"./Search\";\nimport {util} from \"./Util\";\nimport {meta64} from \"./Meta64\";\nimport * as I from \"./Interfaces\";\nimport {Factory} from \"./Factory\";\nimport {SharingDlg} from \"./SharingDlg\";\n\nclass Share {\n\n    private findSharedNodesResponse = function(res: I.GetSharedNodesResponse) {\n        srch.searchNodesResponse(res);\n    }\n\n    sharingNode: I.NodeInfo = null;\n\n    /*\n     * Handles 'Sharing' button on a specific node, from button bar above node display in edit mode\n     */\n    editNodeSharing = function(): void {\n        let node: I.NodeInfo = meta64.getHighlightedNode();\n\n        if (!node) {\n            util.showMessage(\"No node is selected.\");\n            return;\n        }\n        share.sharingNode = node;\n\n        Factory.createDefault(\"SharingDlgImpl\", (dlg:SharingDlg) => {\n          dlg.open();\n        })\n    }\n\n    findSharedNodes = function(): void {\n        let focusNode: I.NodeInfo = meta64.getHighlightedNode();\n        if (focusNode == null) {\n            return;\n        }\n\n        srch.searchPageTitle = \"Shared Nodes\";\n\n        util.json<I.GetSharedNodesRequest, I.GetSharedNodesResponse>(\"getSharedNodes\", {\n            \"nodeId\": focusNode.id\n        }, share.findSharedNodesResponse);\n    }\n}\nexport let share: Share = new Share();\nexport default share;\n","console.log(\"AudioPlayerDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface AudioPlayerDlg extends DialogBase {\n}\n","import {util} from \"./Util\";\nimport {props} from \"./Props\";\nimport {render} from \"./Render\";\nimport {meta64} from \"./Meta64\";\nimport {AudioPlayerDlg} from \"./AudioPlayerDlg\";\nimport {Factory} from \"./Factory\";\nimport * as I from \"./Interfaces\";\n\n/*\nNOTE: The AudioPlayerDlg AND this singleton-ish class both share some state and cooperate\n\nReference: https://www.w3.org/2010/05/video/mediaevents.html\n*/\nclass Podcast {\n    player: any = null;\n    startTimePending: number = null;\n\n    private uid: string = null;\n    private node: I.NodeInfo = null;\n    private adSegments: I.AdSegment[] = null;\n\n    private pushTimer: any = null;\n\n    generateRSS = function(): void {\n        util.json<I.GenerateRSSRequest, I.GenerateRSSResponse>(\"generateRSS\", {\n        }, podcast.generateRSSResponse);\n    }\n\n    private generateRSSResponse = function(): void {\n        alert('rss complete.');\n    }\n\n    renderFeedNode = function(node: I.NodeInfo, rowStyling: boolean): string {\n        let ret: string = \"\";\n        let title: I.PropertyInfo = props.getNodeProperty(\"meta64:rssFeedTitle\", node);\n        let desc: I.PropertyInfo = props.getNodeProperty(\"meta64:rssFeedDesc\", node);\n        let imgUrl: I.PropertyInfo = props.getNodeProperty(\"meta64:rssFeedImageUrl\", node);\n\n        let feed: string = \"\";\n        if (title) {\n            feed += render.tag(\"h2\", {\n            }, title.value);\n        }\n        if (desc) {\n            feed += render.tag(\"p\", {\n            }, desc.value);\n        }\n\n        if (rowStyling) {\n            ret += render.tag(\"div\", {\n                \"class\": \"jcr-content\"\n            }, feed);\n        } else {\n            ret += render.tag(\"div\", {\n                \"class\": \"jcr-root-content\"\n            },\n                feed);\n        }\n\n        if (imgUrl) {\n            ret += render.tag(\"img\", {\n                \"style\": \"max-width: 200px;\",\n                \"src\": imgUrl.value\n            }, null, false);\n        }\n\n        return ret;\n    }\n\n    getMediaPlayerUrlFromNode = function(node: I.NodeInfo): string {\n        let link: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemLink\", node);\n        if (link && link.value && util.contains(link.value.toLowerCase(), \".mp3\")) {\n            return link.value;\n        }\n\n        let uri: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemUri\", node);\n        if (uri && uri.value && util.contains(uri.value.toLowerCase(), \".mp3\")) {\n            return uri.value;\n        }\n\n        let encUrl: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemEncUrl\", node);\n        if (encUrl && encUrl.value) {\n            let encType: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemEncType\", node);\n            if (encType && encType.value && util.startsWith(encType.value, \"audio/\")) {\n                return encUrl.value;\n            }\n        }\n\n        return null;\n    }\n\n    renderItemNode = function(node: I.NodeInfo, rowStyling: boolean): string {\n        let ret: string = \"\";\n        let rssTitle: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemTitle\", node);\n        let rssDesc: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemDesc\", node);\n        let rssAuthor: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemAuthor\", node);\n        let rssLink: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemLink\", node);\n        let rssUri: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemUri\", node);\n\n        let entry: string = \"\";\n\n        if (rssLink && rssLink.value && rssTitle && rssTitle.value) {\n            entry += render.tag(\"a\", {\n                \"href\": rssLink.value\n            }, render.tag(\"h3\", {}, rssTitle.value));\n        }\n\n        let playerUrl = podcast.getMediaPlayerUrlFromNode(node);\n        //if (playerUrl) {\n            //onclick not encoded yet (commented 1/31/2017)\n            // entry += render.tag(\"paper-button\", {\n            //     \"raised\": \"raised\",\n            //     \"onClick\": \"podcast.openPlayerDialog('\" + node.uid + \"');\",\n            //     \"class\": \"standardButton\"\n            // }, //\n            //     \"Play\");\n        //}\n\n        if (rssDesc && rssDesc.value) {\n            entry += render.tag(\"p\", {\n            }, rssDesc.value);\n        }\n\n        if (rssAuthor && rssAuthor.value) {\n            entry += render.tag(\"div\", {\n            }, \"By: \" + rssAuthor.value);\n        }\n\n        if (rowStyling) {\n            ret += render.tag(\"div\", {\n                \"class\": \"jcr-content\"\n            }, entry);\n        } else {\n            ret += render.tag(\"div\", {\n                \"class\": \"jcr-root-content\"\n            },\n                entry);\n        }\n\n        return ret;\n    }\n\n    propOrderingFeedNode = function(node: I.NodeInfo, properties: I.PropertyInfo[]): I.PropertyInfo[] {\n        let propOrder: string[] = [//\n            \"meta64:rssFeedTitle\",\n            \"meta64:rssFeedDesc\",\n            \"meta64:rssFeedLink\",\n            \"meta64:rssFeedUri\",\n            \"meta64:rssFeedSrc\",\n            \"meta64:rssFeedImageUrl\"];\n\n        return props.orderProps(propOrder, properties);\n    }\n\n    propOrderingItemNode = function(node: I.NodeInfo, properties: I.PropertyInfo[]): I.PropertyInfo[] {\n        let propOrder: string[] = [//\n            \"meta64:rssItemTitle\",\n            \"meta64:rssItemDesc\",\n            \"meta64:rssItemLink\",\n            \"meta64:rssItemUri\",\n            \"meta64:rssItemAuthor\"];\n\n        return props.orderProps(propOrder, properties);\n    }\n\n    openPlayerDialog = function(_uid: string) {\n        podcast.uid = _uid;\n        podcast.node = meta64.uidToNodeMap[podcast.uid];\n\n        if (podcast.node) {\n            let mp3Url = podcast.getMediaPlayerUrlFromNode(podcast.node);\n            if (mp3Url) {\n                util.json<I.GetPlayerInfoRequest, I.GetPlayerInfoResponse>(\"getPlayerInfo\", {\n                    \"url\": mp3Url\n                }, function(res: I.GetPlayerInfoResponse) {\n                    podcast.parseAdSegmentUid(podcast.uid);\n\n                    Factory.createDefault(\"AudioPlayerDlgImpl\", (dlg:AudioPlayerDlg) => {\n                      dlg.open();\n                    }, {\"sourceUrl\":mp3Url, \"nodeUid\":podcast.uid, \"startTimePending\": res.timeOffset});\n                });\n            }\n        }\n    }\n\n    private parseAdSegmentUid = function(_uid: string) {\n        if (podcast.node) {\n            let adSegs: I.PropertyInfo = props.getNodeProperty(\"ad-segments\", podcast.node);\n            if (adSegs) {\n                podcast.parseAdSegmentText(adSegs.value);\n            }\n        }\n        else throw \"Unable to find node uid: \" + podcast.uid;\n    }\n\n    private parseAdSegmentText = function(adSegs: string) {\n        podcast.adSegments = [];\n\n        let segList: string[] = adSegs.split(\"\\n\");\n        for (let seg of segList) {\n            let segTimes: string[] = seg.split(\",\");\n            if (segTimes.length != 2) {\n                console.log(\"invalid time range: \" + seg);\n                continue;\n            }\n\n            let beginSecs: number = podcast.convertToSeconds(segTimes[0]);\n            let endSecs: number = podcast.convertToSeconds(segTimes[1]);\n\n            podcast.adSegments.push(new I.AdSegment(beginSecs, endSecs));\n        }\n    }\n\n    /* convert from fomrat \"minutes:seconts\" to absolute number of seconds\n    *\n    * todo-0: make this accept just seconds, or min:sec, or hour:min:sec, and be able to\n    * parse any of them correctly.\n    */\n    private convertToSeconds = function(timeVal: string) {\n        /* end time is designated with asterisk by user, and represented by -1 in variables */\n        if (timeVal == '*') return -1;\n        let timeParts: string[] = timeVal.split(\":\");\n        if (timeParts.length != 2) {\n            console.log(\"invalid time value: \" + timeVal);\n            return;\n        }\n        let minutes = new Number(timeParts[0]).valueOf();\n        let seconds = new Number(timeParts[1]).valueOf();\n        return minutes * 60 + seconds;\n    }\n\n    restoreStartTime = function() {\n        /* makes player always start wherever the user last was when they clicked \"pause\" */\n        if (podcast.player && podcast.startTimePending) {\n            podcast.player.currentTime = podcast.startTimePending;\n            podcast.startTimePending = null;\n        }\n    }\n\n    onCanPlay = function(uid: string, elm: any): void {\n        podcast.player = elm;\n        podcast.restoreStartTime();\n        podcast.player.play();\n    }\n\n    onTimeUpdate = function(uid: string, elm: any): void {\n        if (!podcast.pushTimer) {\n            /* ping server once every five minutes */\n            podcast.pushTimer = setInterval(podcast.pushTimerFunction, 5 * 60 * 1000);\n        }\n        //console.log(\"CurrentTime=\" + elm.currentTime);\n        podcast.player = elm;\n\n        /* todo-1: we call restoreStartTime upon loading of the component but it doesn't seem to have the effect doing anything at all\n        and can't even update the slider displayed position, until playins is STARTED. Need to come back and fix this because users\n        currently have the glitch of always hearing the first fraction of a second of video, which of course another way to fix\n        would be by altering the volumn to zero until restoreStartTime has gone into effect */\n        podcast.restoreStartTime();\n\n        if (!podcast.adSegments) return;\n        for (let seg of podcast.adSegments) {\n            /* endTime of -1 means the rest of the media should be considered ADs */\n            if (podcast.player.currentTime >= seg.beginTime && //\n                (podcast.player.currentTime <= seg.endTime || seg.endTime < 0)) {\n\n                /* jump to end of audio if rest is an add, with logic of -3 to ensure we don't\n                go into a loop jumping to end over and over again */\n                if (seg.endTime < 0 && podcast.player.currentTime < podcast.player.duration - 3) {\n                    /* jump to last to seconds of audio, i'll do this instead of pausing, in case\n                     there are is more audio automatically about to play, we don't want to halt it all */\n                    podcast.player.loop = false;\n                    podcast.player.currentTime = podcast.player.duration - 2;\n                }\n                /* or else we are in a comercial segment so jump to one second past it */\n                else {\n                    podcast.player.currentTime = seg.endTime + 1;\n                }\n                return;\n            }\n        }\n    }\n\n    /* todo-0: for production, boost this up to one minute */\n    pushTimerFunction = function(): void {\n        //console.log(\"pushTimer\");\n        /* the purpose of this timer is to be sure the browser session doesn't timeout while user is playing\n        but if the media is paused we DO allow it to timeout. Othwerwise if user is listening to audio, we\n        contact the server during this timer to update the time on the server AND keep session from timing out\n\n        todo-0: would everything work if 'player' WAS the jquery object always.\n        */\n        if (podcast.player && !podcast.player.paused) {\n            /* this safety check to be sure no hidden audio can still be playing should no longer be needed\n            now that I have the close litener even on the dialog, but i'll leave this here anyway. Can't hurt. */\n            if (!$(podcast.player).is(\":visible\")) {\n                console.log(\"closing player, because it was detected as not visible. player dialog get hidden?\");\n                podcast.player.pause();\n            }\n            //console.log(\"Autosave player info.\");\n            podcast.savePlayerInfo(podcast.player.src, podcast.player.currentTime);\n        }\n    }\n\n    //This podcast handling hack is only in this file temporarily\n    pause = function(): void {\n        if (podcast.player) {\n            podcast.player.pause();\n            podcast.savePlayerInfo(podcast.player.src, podcast.player.currentTime);\n        }\n    }\n\n    destroyPlayer = function(dlg: AudioPlayerDlg): void {\n        if (podcast.player) {\n            podcast.player.pause();\n\n            setTimeout(function() {\n                podcast.savePlayerInfo(podcast.player.src, podcast.player.currentTime);\n                let localPlayer = $(podcast.player);\n                podcast.player = null;\n                localPlayer.remove();\n\n                if (dlg) {\n                    dlg.cancel();\n                }\n            }, 750);\n        }\n    }\n\n    play = function(): void {\n        if (podcast.player) {\n            podcast.player.play();\n        }\n    }\n\n    speed = function(rate: number): void {\n        if (podcast.player) {\n            podcast.player.playbackRate = rate;\n        }\n    }\n\n    //This podcast handling hack is only in this file temporarily\n    skip = function(delta: number): void {\n        if (podcast.player) {\n            podcast.player.currentTime += delta;\n        }\n    }\n\n    savePlayerInfo = function(url: string, timeOffset: number): void {\n        if (meta64.isAnonUser) return;\n\n        util.json<I.SetPlayerInfoRequest, I.SetPlayerInfoResponse>(\"setPlayerInfo\", {\n            \"url\": url,\n            \"timeOffset\": timeOffset //,\n            //\"nodePath\": node.path\n        }, podcast.setPlayerInfoResponse);\n    }\n\n    private setPlayerInfoResponse = function(): void {\n        //alert('save complete.');\n    }\n}\nexport let podcast: Podcast = new Podcast();\nexport default podcast;\n","console.log(\"BindClick.ts\");\n\nclass BindClick {\n    /* Binds DOM IDs to functions that should be called on \"onClick\" */\n    private idToOnClickMap: { [key: string]: Function } = {};\n\n    constructor() {\n        /* I bet there's a better way to subscribe to DOM events than this timer, but i'm using the timer for now */\n        setInterval(function() {\n            if (bindClick) {\n                bindClick.interval();\n            }\n        }, 500);\n    }\n\n    private interval = (): void => {\n        for (var id in this.idToOnClickMap) {\n            if (this.idToOnClickMap.hasOwnProperty(id)) {\n                var e = document.getElementById(id);\n                if (e) {\n                    (<any>e).onclick = this.idToOnClickMap[id];\n\n                    /* i'm just goint to try and see if this creates a concurrent-modification exception during looping or not */\n                    delete this.idToOnClickMap[id];\n                }\n            }\n        }\n    }\n\n    public addOnClick(domId:string, callback:Function) {\n        this.idToOnClickMap[domId] = callback;\n    }\n}\n\nexport let bindClick: BindClick = new BindClick();\nexport default bindClick;\n","console.log(\"MenuPanel.ts\");\n\nimport {util} from \"./Util\";\nimport {render} from \"./Render\";\nimport {edit} from \"./Edit\";\nimport {nav} from \"./Nav\";\nimport {share} from \"./Share\";\nimport {attachment} from \"./Attachment\";\nimport {srch} from \"./Search\";\nimport {props} from \"./Props\";\nimport {meta64} from \"./Meta64\";\nimport {podcast} from \"./Podcast\";\nimport {view} from \"./View\";\nimport {bindClick} from \"./BindClick\";\n\nclass MenuPanel {\n    private makeTopLevelMenu = function(title: string, content: string, id?: string): string {\n        let paperItemAttrs = {\n            class: \"menu-trigger\"\n        };\n\n        let paperItem = render.tag(\"paper-item\", paperItemAttrs, title);\n\n        let paperSubmenuAttrs = {\n            \"label\": title,\n            \"selectable\": \"\"\n        };\n\n        if (id) {\n            (<any>paperSubmenuAttrs).id = id;\n        }\n\n        return render.tag(\"paper-submenu\", paperSubmenuAttrs\n          //not w-pack\n            //{\n            //\"label\": title,\n            //\"class\": \"meta64-menu-heading\",\n            //\"class\": \"menu-content sublist\"\n            //}\n            , paperItem + //\"<paper-item class='menu-trigger'>\" + title + \"</paper-item>\" + //\n            menuPanel.makeSecondLevelList(content), true);\n    }\n\n    private makeSecondLevelList = function(content: string): string {\n        return render.tag(\"paper-menu\", {\n            \"class\": \"menu-content sublist my-menu-section\",\n            \"selectable\": \"\"\n            // not w-pack\n            //,\n            //\"multi\": \"multi\"\n        }, content, true);\n    }\n\n    private menuItem = function(name: string, id: string, onClick: Function): string {\n        let html = render.tag(\"paper-item\", {\n            \"id\": id,\n            \"selectable\": \"\"\n        }, name, true);\n\n        /* It's ok to register this onClick way ahead of even the time that the DOM element even\n        gets created, so we do it here in the most obvious place to do it\n        */\n        bindClick.addOnClick(id, onClick);\n\n        return html;\n    }\n\n    private domId: string = \"mainAppMenu\";\n\n    build = function(): void {\n\n        //not w-pack\n        // I ended up not really liking this way of selecting tabs. I can just use normal polymer tabs.\n        // let pageMenuItems = //\n        //     menuItem(\"Main\", \"mainPageButton\", \"meta64.selectTab('mainTabName');\") + //\n        //     menuItem(\"Search\", \"searchPageButton\", \"meta64.selectTab('searchTabName');\") + //\n        //     menuItem(\"Timeline\", \"timelinePageButton\", \"meta64.selectTab('timelineTabName');\");\n        // let pageMenu = makeTopLevelMenu(\"Page\", pageMenuItems);\n\n        let rssItems = //\n            menuPanel.menuItem(\"Feeds\", \"mainMenuRss\", nav.openRssFeedsNode);\n        let mainMenuRss = menuPanel.makeTopLevelMenu(\"RSS\", rssItems);\n\n        //Tip: If you ever need to encode these callbacks without actually importing the code it calls, the following\n        //pattern will work: \"meta64.modRun('Edit', function (m) {m.edit.createNode();});\"\n\n        let editMenuItems = //\n            menuPanel.menuItem(\"Create\", \"createNodeButton\", edit.createNode) + //\n            menuPanel.menuItem(\"Rename\", \"renameNodePgButton\", edit.renameNode) + //\n            menuPanel.menuItem(\"Cut\", \"cutSelNodesButton\", edit.cutSelNodes) + //\n            menuPanel.menuItem(\"Paste\", \"pasteSelNodesButton\", edit.pasteSelNodes) + //\n            menuPanel.menuItem(\"Clear Selections\", \"clearSelectionsButton\", edit.clearSelections) + //\n            menuPanel.menuItem(\"Import\", \"openImportDlg\", edit.openImportDlg) + //\n            menuPanel.menuItem(\"Export\", \"openExportDlg\", edit.openExportDlg) + //\n            menuPanel.menuItem(\"Delete\", \"deleteSelNodesButton\", edit.deleteSelNodes);\n        let editMenu = menuPanel.makeTopLevelMenu(\"Edit\", editMenuItems);\n\n        let moveMenuItems = //\n            menuPanel.menuItem(\"Up\", \"moveNodeUpButton\", edit.moveNodeUp) + //\n            menuPanel.menuItem(\"Down\", \"moveNodeDownButton\", edit.moveNodeDown) + //\n            menuPanel.menuItem(\"to Top\", \"moveNodeToTopButton\", edit.moveNodeToTop) + //\n            menuPanel.menuItem(\"to Bottom\", \"moveNodeToBottomButton\", edit.moveNodeToBottom);//\n        let moveMenu = menuPanel.makeTopLevelMenu(\"Move\", moveMenuItems);\n\n        let attachmentMenuItems = //\n            menuPanel.menuItem(\"Upload from File\", \"uploadFromFileButton\", attachment.openUploadFromFileDlg) + //\n            menuPanel.menuItem(\"Upload from URL\", \"uploadFromUrlButton\", attachment.openUploadFromUrlDlg) + //\n            menuPanel.menuItem(\"Delete Attachment\", \"deleteAttachmentsButton\", attachment.deleteAttachment);\n        let attachmentMenu = menuPanel.makeTopLevelMenu(\"Attach\", attachmentMenuItems);\n\n        let sharingMenuItems = //\n            menuPanel.menuItem(\"Edit Node Sharing\", \"editNodeSharingButton\", share.editNodeSharing) + //\n            menuPanel.menuItem(\"Find Shared Subnodes\", \"findSharedNodesButton\", share.findSharedNodes);\n        let sharingMenu = menuPanel.makeTopLevelMenu(\"Share\", sharingMenuItems);\n\n        let searchMenuItems = //\n            menuPanel.menuItem(\"Content\", \"contentSearchDlgButton\", nav.search) +//\n            menuPanel.menuItem(\"Tags\", \"tagSearchDlgButton\", nav.searchTags) + //\n            menuPanel.menuItem(\"Files\", \"fileSearchDlgButton\", nav.searchFiles);\n        let searchMenu = menuPanel.makeTopLevelMenu(\"Search\", searchMenuItems);\n\n        let timelineMenuItems = //\n            menuPanel.menuItem(\"Created\", \"timelineCreatedButton\", srch.timelineByCreateTime) +//\n            menuPanel.menuItem(\"Modified\", \"timelineModifiedButton\", srch.timelineByModTime);//\n        let timelineMenu = menuPanel.makeTopLevelMenu(\"Timeline\", timelineMenuItems);\n\n        let viewOptionsMenuItems = //\n            menuPanel.menuItem(\"Toggle Properties\", \"propsToggleButton\", props.propsToggle) + //\n            menuPanel.menuItem(\"Refresh\", \"refreshPageButton\", meta64.refresh) + //\n            menuPanel.menuItem(\"Show URL\", \"showFullNodeUrlButton\", render.showNodeUrl) + //\n            menuPanel.menuItem(\"Preferences\", \"accountPreferencesButton\", edit.editPreferences); //\n        let viewOptionsMenu = menuPanel.makeTopLevelMenu(\"View\", viewOptionsMenuItems);\n\n        //not w-pack\n        // WORK IN PROGRESS ( do not delete)\n        // let fileSystemMenuItems = //\n        //     menuItem(\"Reindex\", \"fileSysReindexButton\", \"systemfolder.reindex();\") + //\n        //     menuItem(\"Search\", \"fileSysSearchButton\", \"systemfolder.search();\"); //\n        //     //menuItem(\"Browse\", \"fileSysBrowseButton\", \"systemfolder.browse();\");\n        // let fileSystemMenu = makeTopLevelMenu(\"FileSys\", fileSystemMenuItems);\n\n        /*\n         * whatever is commented is only commented for polymer conversion\n         */\n        let myAccountItems = //\n            menuPanel.menuItem(\"Change Password\", \"changePasswordPgButton\", edit.openChangePasswordDlg) + //\n            menuPanel.menuItem(\"Manage Account\", \"manageAccountButton\", edit.openManageAccountDlg); //\n\n        // menuItem(\"Full Repository Export\", \"fullRepositoryExport\", \"\n        // edit.fullRepositoryExport();\") + //\n        let myAccountMenu = menuPanel.makeTopLevelMenu(\"Account\", myAccountItems);\n\n        let adminItems = //\n            menuPanel.menuItem(\"Generate RSS\", \"generateRSSButton\", podcast.generateRSS) +//\n            menuPanel.menuItem(\"Server Info\", \"showServerInfoButton\", view.showServerInfo) +//\n            menuPanel.menuItem(\"Insert Book: War and Peace\", \"insertBookWarAndPeaceButton\", edit.insertBookWarAndPeace); //\n        let adminMenu = menuPanel.makeTopLevelMenu(\"Admin\", adminItems, \"adminMenu\");\n\n        let helpItems = //\n            menuPanel.menuItem(\"Main Menu Help\", \"mainMenuHelp\", nav.openMainMenuHelp);\n        let mainMenuHelp = menuPanel.makeTopLevelMenu(\"Help/Docs\", helpItems);\n\n        let content = /* pageMenu+ */ mainMenuRss + editMenu + moveMenu + attachmentMenu + sharingMenu + viewOptionsMenu /* + fileSystemMenu */ + searchMenu + timelineMenu + myAccountMenu\n            + adminMenu + mainMenuHelp;\n\n        util.setHtml(menuPanel.domId, content);\n    }\n    //\n    // init = function(): void {\n    //     meta64.refreshAllGuiEnablement();\n    // }\n}\nexport let menuPanel: MenuPanel = new MenuPanel();\n","class SystemFolder {\n    //\n    // renderNode = function(node: NodeInfo, rowStyling: boolean): string {\n    //     let ret: string = \"\";\n    //     let pathProp: PropertyInfo = props.getNodeProperty(\"meta64:path\", node);\n    //     let path: string = \"\";\n    //\n    //     if (pathProp) {\n    //         path += render.tag(\"h2\", {\n    //         }, pathProp.value);\n    //     }\n    //\n    //     /* This was an experiment to load a node property with the results of a directory listing, but I decided that\n    //     really if I want to have a file browser, the right way to do that is to have a dedicated tab that can do it\n    //     just like the other top-level tabs */\n    //     //let fileListingProp: PropertyInfo = props.getNodeProperty(\"meta64:json\", node);\n    //     //let fileListing = fileListingProp ? render.renderJsonFileSearchResultProperty(fileListingProp.value) : \"\";\n    //\n    //     if (rowStyling) {\n    //         ret += render.tag(\"div\", {\n    //             \"class\": \"jcr-content\"\n    //         }, path /* + fileListing */);\n    //     } else {\n    //         ret += render.tag(\"div\", {\n    //             \"class\": \"jcr-root-content\"\n    //         },\n    //             path /* + fileListing */);\n    //     }\n    //\n    //     return ret;\n    // }\n    //\n    // renderFileListNode = function(node: NodeInfo, rowStyling: boolean): string {\n    //     let ret: string = \"\";\n    //\n    //     let searchResultProp: PropertyInfo = props.getNodeProperty(jcrCnst.JSON_FILE_SEARCH_RESULT, node);\n    //     if (searchResultProp) {\n    //         let jcrContent = render.renderJsonFileSearchResultProperty(searchResultProp.value);\n    //\n    //         if (rowStyling) {\n    //             ret += render.tag(\"div\", {\n    //                 \"class\": \"jcr-content\"\n    //             }, jcrContent);\n    //         } else {\n    //             ret += render.tag(\"div\", {\n    //                 \"class\": \"jcr-root-content\"\n    //             },\n    //                 jcrContent);\n    //         }\n    //     }\n    //\n    //     return ret;\n    // }\n    //\n    // fileListPropOrdering = function(node: NodeInfo, properties: PropertyInfo[]): PropertyInfo[] {\n    //     let propOrder: string[] = [//\n    //         \"meta64:json\"];\n    //\n    //     return props.orderProps(propOrder, properties);\n    // }\n    //\n    // reindex = function() {\n    //     let selNode: NodeInfo = meta64.getHighlightedNode();\n    //     if (selNode) {\n    //         util.json<FileSearchRequest, FileSearchResponse>(\"fileSearch\", {\n    //             \"nodeId\": selNode.id,\n    //             \"reindex\": true,\n    //             \"searchText\": null\n    //         }, systemfolder.reindexResponse, systemfolder);\n    //     }\n    // }\n    //\n    // browse = function() {\n    //     // This browse function works, but i'm disabling it, for now because what I'll be doing instead is making it\n    //     // switch to a FileBrowser Tab (main tab) where browsing will all be done. No JCR nodes will be updated during\n    //     // the process of browsing and editing files on the server.\n    //     //\n    //     // let selNode: NodeInfo = meta64.getHighlightedNode();\n    //     // if (selNode) {\n    //     //     util.json<BrowseFolderRequest, BrowseFolderResponse>(\"browseFolder\", {\n    //     //         \"nodeId\": selNode.path\n    //     //     }, systemfolder.refreshResponse, systemfolder);\n    //     // }\n    // }\n    //\n    // refreshResponse = function(res: BrowseFolderResponse) {\n    //     //nav.mainOffset = 0;\n    //     // util.json<RenderNodeRequest, RenderNodeResponse>(\"renderNode\", {\n    //     //     \"nodeId\": res.searchResultNodeId,\n    //     //     \"upLevel\": null,\n    //     //     \"renderParentIfLeaf\": null,\n    //     //     \"offset\": 0,\n    //     //     \"goToLastPage\" : false\n    //     // }, nav.navPageNodeResponse);\n    // }\n    //\n    // reindexResponse = function(res: FileSearchResponse) {\n    //     alert(\"Reindex complete.\");\n    // }\n    //\n    // search = function() {\n    //     (new SearchFilesDlg(true)).open();\n    // }\n    //\n    // propOrdering = function(node: NodeInfo, properties: PropertyInfo[]): PropertyInfo[] {\n    //     let propOrder: string[] = [//\n    //         \"meta64:path\"];\n    //\n    //     return props.orderProps(propOrder, properties);\n    // }\n}\nexport let systemfolder: SystemFolder = new SystemFolder();\n","console.log(\"Meta64.ts\");\n\nimport * as I from \"./Interfaces\";\nimport { cnst, jcrCnst } from \"./Constants\";\nimport { util } from \"./Util\";\nimport { attachment } from \"./Attachment\";\nimport { edit } from \"./Edit\";\nimport { nav } from \"./Nav\";\nimport { prefs } from \"./Prefs\";\nimport { props } from \"./Props\";\nimport { render } from \"./Render\";\nimport { srch } from \"./Search\";\nimport { share } from \"./Share\";\nimport { user } from \"./User\";\nimport { view } from \"./View\";\nimport { menuPanel } from \"./MenuPanel\";\nimport { podcast } from \"./Podcast\";\nimport { systemfolder } from \"./SystemFolder\";\nimport { ChangePasswordDlg } from \"./ChangePasswordDlg\";\nimport { Factory } from \"./Factory\";\nimport { bindClick } from \"./BindClick\";\n\n// / <reference path=\"./tyepdefs/jquery/jquery.d.ts\" />\n// / <reference path=\"./tyepdefs/jquery.cookie/jquery.cookie.d.ts\" />\n\ndeclare const System: any;\ndeclare var Polymer;\n\n\nclass Meta64 {\n\n    appInitialized: boolean = false;\n\n    curUrlPath: string = window.location.pathname + window.location.search;\n    urlCmd: string;\n    homeNodeOverride: string;\n\n    codeFormatDirty: boolean = false;\n\n    /* used as a kind of 'sequence' in the app, when unique vals a needed */\n    nextGuid: number = 0;\n\n    /* name of currently logged in user */\n    userName: string = \"anonymous\";\n\n    /* screen capabilities */\n    deviceWidth: number = 0;\n    deviceHeight: number = 0;\n\n    /*\n     * User's root node. Top level of what logged in user is allowed to see.\n     */\n    homeNodeId: string = \"\";\n    homeNodePath: string = \"\";\n\n    /*\n     * specifies if this is admin user.\n     */\n    isAdminUser: boolean = false;\n\n    /* always start out as anon user until login */\n    isAnonUser: boolean = true;\n    anonUserLandingPageNode: any = null;\n    allowFileSystemSearch: boolean = false;\n\n    /*\n     * signals that data has changed and the next time we go to the main tree view window we need to refresh data\n     * from the server\n     */\n    treeDirty: boolean = false;\n\n    /*\n     * maps node.uid values to NodeInfo.java objects\n     *\n     * The only contract about uid values is that they are unique insofar as any one of them always maps to the same\n     * node. Limited lifetime however. The server is simply numbering nodes sequentially. Actually represents the\n     * 'instance' of a model object. Very similar to a 'hashCode' on Java objects.\n     */\n    uidToNodeMap: { [key: string]: I.NodeInfo } = {};\n\n    /*\n     * maps node.id values to NodeInfo.java objects\n     */\n    idToNodeMap: { [key: string]: I.NodeInfo } = {};\n\n    /* Maps from the DOM ID to the editor javascript instance (Ace Editor instance) */\n    aceEditorsById: any = {};\n\n    /* counter for local uids */\n    nextUid: number = 1;\n\n    /*\n     * maps node 'identifier' (assigned at server) to uid value which is a value based off local sequence, and uses\n     * nextUid as the counter.\n     */\n    identToUidMap: { [key: string]: string } = {};\n\n    /*\n     * Under any given node, there can be one active 'selected' node that has the highlighting, and will be scrolled\n     * to whenever the page with that child is visited, and parentUidToFocusNodeMap holds the map of \"parent uid to\n     * selected node (NodeInfo object)\", where the key is the parent node uid, and the value is the currently\n     * selected node within that parent. Note this 'selection state' is only significant on the client, and only for\n     * being able to scroll to the node during navigating around on the tree.\n     */\n    parentUidToFocusNodeMap: { [key: string]: I.NodeInfo } = {};\n\n    /* User-selectable user-account options each user can set on his account */\n    MODE_ADVANCED: string = \"advanced\";\n    MODE_SIMPLE: string = \"simple\";\n\n    /* can be 'simple' or 'advanced' */\n    editModeOption: string = \"simple\";\n\n    /*\n     * toggled by button, and holds if we are going to show properties or not on each node in the main view\n     */\n    showProperties: boolean = false;\n\n    /* Flag that indicates if we are rendering path, owner, modTime, etc. on each row */\n    showMetaData: boolean = false;\n\n    /*\n     * List of node prefixes to flag nodes to not allow to be shown in the page in simple mode\n     */\n    simpleModeNodePrefixBlackList: any = {\n        \"rep:\": true\n    };\n\n    simpleModePropertyBlackList: any = {};\n\n    readOnlyPropertyList: any = {};\n\n    binaryPropertyList: any = {};\n\n    /*\n     * maps all node uids to true if selected, otherwise the property should be deleted (not existing)\n     */\n    selectedNodes: any = {};\n\n    /* Set of all nodes that have been expanded (from the abbreviated form) */\n    expandedAbbrevNodeIds: any = {};\n\n    /* RenderNodeResponse.java object */\n    currentNodeData: any = null;\n\n    /*\n     * all variables derivable from currentNodeData, but stored directly for simpler code/access\n     */\n    currentNode: I.NodeInfo = null;\n    currentNodeUid: any = null;\n    currentNodeId: any = null;\n    currentNodePath: any = null;\n\n    /* Maps from guid to Data Object */\n    dataObjMap: any = {};\n\n    renderFunctionsByJcrType: { [key: string]: Function } = {};\n    propOrderingFunctionsByJcrType: { [key: string]: Function } = {};\n\n    userPreferences: I.UserPreferences = {\n        \"editMode\": false,\n        \"advancedMode\": false,\n        \"lastNode\": \"\",\n        \"importAllowed\": false,\n        \"exportAllowed\": false,\n        \"showMetaData\": false\n    };\n\n    updateMainMenuPanel = function() {\n        console.log(\"building main menu panel\");\n        menuPanel.build();\n        meta64.refreshAllGuiEnablement();\n    }\n\n    /*\n     * Creates a 'guid' on this object, and makes dataObjMap able to look up the object using that guid in the\n     * future.\n     */\n    registerDataObject = function(data) {\n        if (!data.guid) {\n            data.guid = ++meta64.nextGuid;\n            meta64.dataObjMap[data.guid] = data;\n        }\n    }\n\n    getObjectByGuid = function(guid) {\n        var ret = meta64.dataObjMap[guid];\n        if (!ret) {\n            console.log(\"data object not found: guid=\" + guid);\n        }\n        return ret;\n    }\n\n    /*\n     * If callback is a string, it will be interpreted as a script to run, or if it's a function object that will be\n     * the function to run.\n     *\n     * Whenever we are building an onClick string, and we have the actual function, rather than the name of the\n     * function (i.e. we have the function object and not a string representation we hande that by assigning a guid\n     * to the function object, and then encode a call to run that guid by calling runCallback. There is a level of\n     * indirection here, but this is the simplest approach when we need to be able to map from a string to a\n     * function.\n     *\n     * ctx=context, which is the 'this' to call with if we have a function, and have a 'this' context to bind to it.\n     *\n     * payload is any data object that needs to be passed at runtime\n     *\n     * note: doesn't currently support having a null ctx and non-null payload.\n     *\n     * todo-0: use obj.bind(this) for the 'callback' parameter passing then then get rid of 'ctx' parameter, but\n     * be careful with the logic, it will be tricky.\n     */\n    encodeOnClick = function(callback: any, ctx?: any, payload?: any, delayCallback?: number) {\n        if (typeof callback == \"string\") {\n            return callback;\n        } //\n        else if (typeof callback == \"function\") {\n            meta64.registerDataObject(callback);\n\n            if (ctx) {\n                meta64.registerDataObject(ctx);\n\n                if (payload) {\n                    meta64.registerDataObject(payload);\n                }\n                let payloadStr = payload ? payload.guid : \"null\";\n                return `meta64.runCallback(${callback.guid},${ctx.guid},${payloadStr},${delayCallback});`;\n            } else {\n                return `meta64.runCallback(${callback.guid},null,null,${delayCallback});`;\n            }\n        }\n        else {\n            throw \"unexpected callback type in encodeOnClick\";\n        }\n    }\n\n    runCallback = function(guid, ctx, payload, delayCallback?: number) {\n        console.log(\"callback run: \" + delayCallback);\n        /* depending on delayCallback, run the callback either immediately or with a delay */\n        if (delayCallback > 0) {\n            setTimeout(function() {\n                meta64.runCallbackImmediate(guid, ctx, payload);\n            }, delayCallback);\n        }\n        else {\n            return meta64.runCallbackImmediate(guid, ctx, payload);\n        }\n    }\n\n    runCallbackImmediate = function(guid, ctx, payload) {\n        var dataObj = meta64.getObjectByGuid(guid);\n\n        // if this is an object, we expect it to have a 'callback' property\n        // that is a function\n        if (dataObj.callback) {\n            dataObj.callback();\n        }\n        // or else sometimes the registered object itself is the function,\n        // which is ok too\n        else if (typeof dataObj == 'function') {\n            if (ctx) {\n                var thiz = meta64.getObjectByGuid(ctx);\n                var payloadObj = payload ? meta64.getObjectByGuid(payload) : null;\n                dataObj.call(thiz, payloadObj);\n            } else {\n                dataObj();\n            }\n        } else {\n            throw \"unable to find callback on registered guid: \" + guid;\n        }\n    }\n\n    inSimpleMode = function(): boolean {\n        return meta64.editModeOption === meta64.MODE_SIMPLE;\n    }\n\n    refresh = function(): void {\n        meta64.goToMainPage(true, true);\n    }\n\n    goToMainPage = function(rerender?: boolean, forceServerRefresh?: boolean): void {\n\n        if (forceServerRefresh) {\n            meta64.treeDirty = true;\n        }\n\n        if (rerender || meta64.treeDirty) {\n            if (meta64.treeDirty) {\n                view.refreshTree(null, true);\n            } else {\n                render.renderPageFromData();\n                meta64.refreshAllGuiEnablement();\n            }\n        }\n        /*\n         * If not re-rendering page (either from server, or from local data, then we just need to litterally switch\n         * page into visible, and scroll to node)\n         */\n        else {\n            view.scrollToSelectedNode();\n        }\n    }\n\n    selectTab = function(pageName): void {\n        let ironPages = document.querySelector(\"#mainIronPages\") as any;\n        ironPages.select(pageName);\n\n        /* this code can be made more DRY, but i'm just trying it out for now, so i'm not bothering to perfect it yet. */\n        // $(\"#mainPageButton\").css(\"border-left\", \"\");\n        // $(\"#searchPageButton\").css(\"border-left\", \"\");\n        // $(\"#timelinePageButton\").css(\"border-left\", \"\");\n        //\n        // if (pageName == 'mainTabName') {\n        //     $(\"#mainPageButton\").css(\"border-left\", \"8px solid red\");\n        // }\n        // else if (pageName == 'searchTabName') {\n        //     $(\"#searchPageButton\").css(\"border-left\", \"8px solid red\");\n        // }\n        // else if (pageName == 'timelineTabName') {\n        //     $(\"#timelinePageButton\").css(\"border-left\", \"8px solid red\");\n        // }\n    }\n\n\n    /*\n     * If data (if provided) must be the instance data for the current instance of the dialog, and all the dialog\n     * methods are of course singletons that accept this data parameter for any opterations. (oldschool way of doing\n     * OOP with 'this' being first parameter always).\n     *\n     * Note: each data instance is required to have a guid numberic property, unique to it.\n     *\n     */\n    changePage = function(pg?: any, data?: any) {\n        if (typeof pg.tabId === 'undefined') {\n            console.log(\"oops, wrong object type passed to changePage function.\");\n            return null;\n        }\n\n        /* this is the same as setting using mainIronPages?? */\n        var paperTabs = document.querySelector(\"#mainIronPages\") as any; //\"#mainPaperTabs\");\n        paperTabs.select(pg.tabId);\n    }\n\n    isNodeBlackListed = function(node): boolean {\n        if (!meta64.inSimpleMode())\n            return false;\n\n        let prop;\n        for (prop in meta64.simpleModeNodePrefixBlackList) {\n            if (meta64.simpleModeNodePrefixBlackList.hasOwnProperty(prop) && util.startsWith(node.name, prop)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getSelectedNodeUidsArray = function(): string[] {\n        let selArray: string[] = [], uid;\n\n        for (uid in meta64.selectedNodes) {\n            if (meta64.selectedNodes.hasOwnProperty(uid)) {\n                selArray.push(uid);\n            }\n        }\n        return selArray;\n    }\n\n    /**\n    Returns a newly cloned array of all the selected nodes each time it's called.\n    */\n    getSelectedNodeIdsArray = function(): string[] {\n        let selArray: string[] = [], uid;\n\n        if (!meta64.selectedNodes) {\n            console.log(\"no selected nodes.\");\n        } else {\n            console.log(\"selectedNode count: \" + util.getPropertyCount(meta64.selectedNodes));\n        }\n\n        for (uid in meta64.selectedNodes) {\n            if (meta64.selectedNodes.hasOwnProperty(uid)) {\n                let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n                if (!node) {\n                    console.log(\"unable to find uidToNodeMap for uid=\" + uid);\n                } else {\n                    selArray.push(node.id);\n                }\n            }\n        }\n        return selArray;\n    }\n\n    /* return an object with properties for each NodeInfo where the key is the id */\n    getSelectedNodesAsMapById = function(): Object {\n        let ret: Object = {};\n        let selArray: I.NodeInfo[] = this.getSelectedNodesArray();\n        for (var i = 0; i < selArray.length; i++) {\n            ret[selArray[i].id] = selArray[i];\n        }\n        return ret;\n    }\n\n    /* Gets selected nodes as NodeInfo.java objects array */\n    getSelectedNodesArray = function(): I.NodeInfo[] {\n        let selArray: I.NodeInfo[] = [];\n        let idx: number = 0;\n        let uid: string = \"\";\n        for (uid in meta64.selectedNodes) {\n            if (meta64.selectedNodes.hasOwnProperty(uid)) {\n                selArray[idx++] = meta64.uidToNodeMap[uid];\n            }\n        }\n        return selArray;\n    }\n\n    clearSelectedNodes = function() {\n        meta64.selectedNodes = {};\n    }\n\n    updateNodeInfoResponse = function(res, node) {\n        let ownerBuf: string = \"\";\n        let mine: boolean = false;\n\n        if (res.owners) {\n            $.each(res.owners, function(index, owner) {\n                if (ownerBuf.length > 0) {\n                    ownerBuf += \",\";\n                }\n\n                if (owner === meta64.userName) {\n                    mine = true;\n                }\n\n                ownerBuf += owner;\n            });\n        }\n\n        if (ownerBuf.length > 0) {\n            node.owner = ownerBuf;\n            let elmId = \"#ownerDisplay\" + node.uid;\n            var elm = $(elmId);\n            elm.html(\" (Manager: \" + ownerBuf + \")\");\n            if (mine) {\n                util.changeOrAddClass(elmId, \"created-by-other\", \"created-by-me\");\n            } else {\n                util.changeOrAddClass(elmId, \"created-by-me\", \"created-by-other\");\n            }\n        }\n    }\n\n    updateNodeInfo = function(node: I.NodeInfo) {\n        util.json<I.GetNodePrivilegesRequest, I.GetNodePrivilegesResponse>(\"getNodePrivileges\", {\n            \"nodeId\": node.id,\n            \"includeAcl\": false,\n            \"includeOwners\": true\n        }, function(res: I.GetNodePrivilegesResponse) {\n            meta64.updateNodeInfoResponse(res, node);\n        });\n    }\n\n    /* Returns the node with the given node.id value */\n    getNodeFromId = function(id: string): I.NodeInfo {\n        return meta64.idToNodeMap[id];\n    }\n\n    getPathOfUid = function(uid: string): string {\n        let node: I.NodeInfo = meta64.uidToNodeMap[uid];\n        if (!node) {\n            return \"[path error. invalid uid: \" + uid + \"]\";\n        } else {\n            return node.path;\n        }\n    }\n\n    getHighlightedNode = function(): I.NodeInfo {\n        let ret: I.NodeInfo = meta64.parentUidToFocusNodeMap[meta64.currentNodeUid];\n        return ret;\n    }\n\n    highlightRowById = function(id, scroll): void {\n        var node: I.NodeInfo = meta64.getNodeFromId(id);\n        if (node) {\n            meta64.highlightNode(node, scroll);\n        } else {\n            console.log(\"highlightRowById failed to find id: \" + id);\n        }\n    }\n\n    /*\n     * Important: We want this to be the only method that can set values on 'parentUidToFocusNodeMap', and always\n     * setting that value should go thru this function.\n     */\n    highlightNode = function(node: I.NodeInfo, scroll: boolean): void {\n        if (!node)\n            return;\n\n        let doneHighlighting: boolean = false;\n\n        /* Unhighlight currently highlighted node if any */\n        let curHighlightedNode: I.NodeInfo = meta64.parentUidToFocusNodeMap[meta64.currentNodeUid];\n        if (curHighlightedNode) {\n            if (curHighlightedNode.uid === node.uid) {\n                // console.log(\"already highlighted.\");\n                doneHighlighting = true;\n            } else {\n                let rowElmId = curHighlightedNode.uid + \"_row\";\n                let rowElm = $(\"#\" + rowElmId);\n                util.changeOrAddClass(\"#\" + rowElmId, \"active-row\", \"inactive-row\");\n            }\n        }\n\n        if (!doneHighlighting) {\n            meta64.parentUidToFocusNodeMap[meta64.currentNodeUid] = node;\n\n            let rowElmId: string = node.uid + \"_row\";\n            let rowElm = $(\"#\" + rowElmId);\n            if (!rowElm || rowElm.length == 0) {\n                console.log(\"Unable to find rowElement to highlight: \" + rowElmId);\n            }\n            util.changeOrAddClass(\"#\" + rowElmId, \"inactive-row\", \"active-row\");\n        }\n\n        if (scroll) {\n            view.scrollToSelectedNode();\n        }\n    }\n\n    /*\n     * Really need to use pub/sub event to broadcast enablement, and let each component do this independently and\n     * decouple\n     */\n\n    refreshAllGuiEnablement = function() {\n        /* multiple select nodes */\n        let prevPageExists: boolean = nav.mainOffset > 0;\n        let nextPageExists: boolean = !nav.endReached;\n        let selNodeCount: number = util.getPropertyCount(meta64.selectedNodes);\n        let highlightNode: I.NodeInfo = meta64.getHighlightedNode();\n        let selNodeIsMine: boolean = highlightNode != null && (highlightNode.createdBy === meta64.userName || \"admin\" === meta64.userName);\n        //console.log(\"homeNodeId=\"+meta64.homeNodeId+\" highlightNode.id=\"+highlightNode.id);\n        let homeNodeSelected: boolean = highlightNode != null && meta64.homeNodeId == highlightNode.id;\n        let importFeatureEnabled = meta64.isAdminUser || meta64.userPreferences.importAllowed;\n        let exportFeatureEnabled = meta64.isAdminUser || meta64.userPreferences.exportAllowed;\n        let highlightOrdinal: number = meta64.getOrdinalOfNode(highlightNode);\n        let numChildNodes: number = meta64.getNumChildNodes();\n        let canMoveUp: boolean = (highlightOrdinal > 0 && numChildNodes > 1) || prevPageExists;\n        let canMoveDown: boolean = (highlightOrdinal < numChildNodes - 1 && numChildNodes > 1) || nextPageExists;\n\n        //todo-1: need to add to this selNodeIsMine || selParentIsMine;\n        let canCreateNode = meta64.userPreferences.editMode && (meta64.isAdminUser || (!meta64.isAnonUser /* && selNodeIsMine */));\n\n        console.log(\"enablement: isAnonUser=\" + meta64.isAnonUser + \" selNodeCount=\" + selNodeCount + \" selNodeIsMine=\" + selNodeIsMine);\n\n        util.setEnablement(\"navLogoutButton\", !meta64.isAnonUser);\n        util.setEnablement(\"openSignupPgButton\", meta64.isAnonUser);\n\n        let propsToggle: boolean = meta64.currentNode && !meta64.isAnonUser;\n        util.setEnablement(\"propsToggleButton\", propsToggle);\n\n        let allowEditMode: boolean = meta64.currentNode && !meta64.isAnonUser;\n\n        util.setEnablement(\"editModeButton\", allowEditMode);\n        util.setEnablement(\"upLevelButton\", meta64.currentNode && nav.parentVisibleToUser());\n        util.setEnablement(\"cutSelNodesButton\", !meta64.isAnonUser && selNodeCount > 0 && selNodeIsMine);\n        util.setEnablement(\"deleteSelNodesButton\", !meta64.isAnonUser && selNodeCount > 0 && selNodeIsMine);\n        util.setEnablement(\"clearSelectionsButton\", !meta64.isAnonUser && selNodeCount > 0);\n\n        util.setEnablement(\"pasteSelNodesButton\", !meta64.isAnonUser && edit.nodesToMove != null && (selNodeIsMine || homeNodeSelected));\n\n        util.setEnablement(\"moveNodeUpButton\", canMoveUp);\n        util.setEnablement(\"moveNodeDownButton\", canMoveDown);\n        util.setEnablement(\"moveNodeToTopButton\", canMoveUp);\n        util.setEnablement(\"moveNodeToBottomButton\", canMoveDown);\n\n        util.setEnablement(\"changePasswordPgButton\", !meta64.isAnonUser);\n        util.setEnablement(\"accountPreferencesButton\", !meta64.isAnonUser);\n        util.setEnablement(\"manageAccountButton\", !meta64.isAnonUser);\n        util.setEnablement(\"insertBookWarAndPeaceButton\", meta64.isAdminUser || (user.isTestUserAccount() && selNodeIsMine));\n        util.setEnablement(\"generateRSSButton\", meta64.isAdminUser);\n        util.setEnablement(\"uploadFromFileButton\", !meta64.isAnonUser && highlightNode != null && selNodeIsMine);\n        util.setEnablement(\"uploadFromUrlButton\", !meta64.isAnonUser && highlightNode != null && selNodeIsMine);\n        util.setEnablement(\"deleteAttachmentsButton\", !meta64.isAnonUser && highlightNode != null\n            && highlightNode.hasBinary && selNodeIsMine);\n        util.setEnablement(\"editNodeSharingButton\", !meta64.isAnonUser && highlightNode != null && selNodeIsMine);\n        util.setEnablement(\"renameNodePgButton\", !meta64.isAnonUser && highlightNode != null && selNodeIsMine);\n        util.setEnablement(\"contentSearchDlgButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"tagSearchDlgButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"fileSearchDlgButton\", !meta64.isAnonUser && meta64.allowFileSystemSearch);\n        util.setEnablement(\"searchMainAppButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"timelineMainAppButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"timelineCreatedButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"timelineModifiedButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"showServerInfoButton\", meta64.isAdminUser);\n        util.setEnablement(\"showFullNodeUrlButton\", highlightNode != null);\n        util.setEnablement(\"refreshPageButton\", !meta64.isAnonUser);\n        util.setEnablement(\"findSharedNodesButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setEnablement(\"userPreferencesMainAppButton\", !meta64.isAnonUser);\n        util.setEnablement(\"createNodeButton\", canCreateNode);\n        util.setEnablement(\"openImportDlg\", importFeatureEnabled && (selNodeIsMine || (highlightNode != null && meta64.homeNodeId == highlightNode.id)));\n        util.setEnablement(\"openExportDlg\", exportFeatureEnabled && (selNodeIsMine || (highlightNode != null && meta64.homeNodeId == highlightNode.id)));\n        util.setEnablement(\"adminMenu\", meta64.isAdminUser);\n\n        //VISIBILITY\n        util.setVisibility(\"openImportDlg\", importFeatureEnabled);\n        util.setVisibility(\"openExportDlg\", exportFeatureEnabled);\n        util.setVisibility(\"editModeButton\", allowEditMode);\n        util.setVisibility(\"upLevelButton\", meta64.currentNode && nav.parentVisibleToUser());\n        util.setVisibility(\"insertBookWarAndPeaceButton\", meta64.isAdminUser || (user.isTestUserAccount() && selNodeIsMine));\n        util.setVisibility(\"generateRSSButton\", meta64.isAdminUser);\n        util.setVisibility(\"propsToggleButton\", !meta64.isAnonUser);\n        util.setVisibility(\"openLoginDlgButton\", meta64.isAnonUser);\n        util.setVisibility(\"navLogoutButton\", !meta64.isAnonUser);\n        util.setVisibility(\"openSignupPgButton\", meta64.isAnonUser);\n        util.setVisibility(\"searchMainAppButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setVisibility(\"timelineMainAppButton\", !meta64.isAnonUser && highlightNode != null);\n        util.setVisibility(\"userPreferencesMainAppButton\", !meta64.isAnonUser);\n        util.setVisibility(\"fileSearchDlgButton\", !meta64.isAnonUser && meta64.allowFileSystemSearch);\n\n        //Top Level Menu Visibility\n        util.setVisibility(\"adminMenu\", meta64.isAdminUser);\n\n        Polymer.dom.flush(); // <---- is this needed ? todo-3\n        Polymer.updateStyles();\n    }\n\n    getSingleSelectedNode = function(): I.NodeInfo {\n        let uid: string;\n        for (uid in meta64.selectedNodes) {\n            if (meta64.selectedNodes.hasOwnProperty(uid)) {\n                // console.log(\"found a single Sel NodeID: \" + nodeId);\n                return meta64.uidToNodeMap[uid];\n            }\n        }\n        return null;\n    }\n\n    getOrdinalOfNode = function(node: I.NodeInfo): number {\n        if (!node || !meta64.currentNodeData || !meta64.currentNodeData.children)\n            return -1;\n\n        for (var i = 0; i < meta64.currentNodeData.children.length; i++) {\n            if (node.id === meta64.currentNodeData.children[i].id) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    getNumChildNodes = function(): number {\n        if (!meta64.currentNodeData || !meta64.currentNodeData.children)\n            return 0;\n\n        return meta64.currentNodeData.children.length;\n    }\n\n    setCurrentNodeData = function(data): void {\n        meta64.currentNodeData = data;\n        meta64.currentNode = data.node;\n        meta64.currentNodeUid = data.node.uid;\n        meta64.currentNodeId = data.node.id;\n        meta64.currentNodePath = data.node.path;\n    }\n\n    anonPageLoadResponse = function(res: I.AnonPageLoadResponse): void {\n\n        if (res.renderNodeResponse) {\n\n            util.setVisibility(\"mainNodeContent\", true);\n\n            render.renderPageFromData(res.renderNodeResponse);\n\n            meta64.refreshAllGuiEnablement();\n        } else {\n            util.setVisibility(\"mainNodeContent\", false);\n\n            console.log(\"setting listview to: \" + res.content);\n            util.setHtml(\"listView\", res.content);\n        }\n    }\n\n    removeBinaryByUid = function(uid): void {\n        for (var i = 0; i < meta64.currentNodeData.children.length; i++) {\n            let node: I.NodeInfo = meta64.currentNodeData.children[i];\n            if (node.uid === uid) {\n                node.hasBinary = false;\n                break;\n            }\n        }\n    }\n\n    /*\n     * updates client side maps and client-side identifier for new node, so that this node is 'recognized' by client\n     * side code\n     */\n    initNode = function(node: I.NodeInfo, updateMaps?: boolean): void {\n        if (!node) {\n            console.log(\"initNode has null node\");\n            return;\n        }\n        /*\n         * assign a property for detecting this node type, I'll do this instead of using some kind of custom JS\n         * prototype-related approach\n         */\n        node.uid = updateMaps ? util.getUidForId(meta64.identToUidMap, node.id) : meta64.identToUidMap[node.id];\n        node.properties = props.getPropertiesInEditingOrder(node, node.properties);\n\n        /*\n         * For these two properties that are accessed frequently we go ahead and lookup the properties in the\n         * property array, and assign them directly as node object properties so to improve performance, and also\n         * simplify code.\n         */\n        node.createdBy = props.getNodePropertyVal(jcrCnst.CREATED_BY, node);\n        node.lastModified = new Date(props.getNodePropertyVal(jcrCnst.LAST_MODIFIED, node));\n\n        if (updateMaps) {\n            meta64.uidToNodeMap[node.uid] = node;\n            meta64.idToNodeMap[node.id] = node;\n        }\n    }\n\n    initConstants = function() {\n        util.addAll(meta64.simpleModePropertyBlackList, [ //\n            jcrCnst.MIXIN_TYPES, //\n            jcrCnst.PRIMARY_TYPE, //\n            jcrCnst.POLICY, //\n            jcrCnst.IMG_WIDTH,//\n            jcrCnst.IMG_HEIGHT, //\n            jcrCnst.BIN_VER, //\n            jcrCnst.BIN_DATA, //\n            jcrCnst.BIN_MIME, //\n            jcrCnst.COMMENT_BY, //\n            jcrCnst.PUBLIC_APPEND]);\n\n        util.addAll(meta64.readOnlyPropertyList, [ //\n            jcrCnst.PRIMARY_TYPE, //\n            jcrCnst.UUID, //\n            jcrCnst.MIXIN_TYPES, //\n            jcrCnst.CREATED, //\n            jcrCnst.CREATED_BY, //\n            jcrCnst.LAST_MODIFIED, //\n            jcrCnst.LAST_MODIFIED_BY,//\n            jcrCnst.IMG_WIDTH, //\n            jcrCnst.IMG_HEIGHT, //\n            jcrCnst.BIN_VER, //\n            jcrCnst.BIN_DATA, //\n            jcrCnst.BIN_MIME, //\n            jcrCnst.COMMENT_BY, //\n            jcrCnst.PUBLIC_APPEND]);\n\n        util.addAll(meta64.binaryPropertyList, [jcrCnst.BIN_DATA]);\n    }\n\n    initApp = function(): void {\n        console.log(\"initApp running.\");\n\n        meta64.renderFunctionsByJcrType[\"meta64:rssfeed\"] = podcast.renderFeedNode;\n        meta64.renderFunctionsByJcrType[\"meta64:rssitem\"] = podcast.renderItemNode;\n        meta64.propOrderingFunctionsByJcrType[\"meta64:rssfeed\"] = podcast.propOrderingFeedNode;\n        meta64.propOrderingFunctionsByJcrType[\"meta64:rssitem\"] = podcast.propOrderingItemNode;\n\n        //SystemFolder and File handling stuff is disabled for now (todo-0)\n        // meta64.renderFunctionsByJcrType[\"meta64:systemfolder\"] = systemfolder.renderNode;\n        // meta64.propOrderingFunctionsByJcrType[\"meta64:systemfolder\"] = systemfolder.propOrdering;\n        //\n        // meta64.renderFunctionsByJcrType[\"meta64:filelist\"] = systemfolder.renderFileListNode;\n        // meta64.propOrderingFunctionsByJcrType[\"meta64:filelist\"] = systemfolder.fileListPropOrdering;\n\n        //NOT w-pack\n        // var onresize = window.onresize;\n        // window.onresize = function(event) { if (typeof onresize === 'function') onresize(); /** ... */ }\n\n        (window as any).addEvent = function(object, type, callback) {\n            if (object == null || typeof (object) == 'undefined')\n                return;\n            if (object.addEventListener) {\n                object.addEventListener(type, callback, false);\n            } else if (object.attachEvent) {\n                object.attachEvent(\"on\" + type, callback);\n            } else {\n                object[\"on\" + type] = callback;\n            }\n        };\n\n        //NOT w-pack comment\n        // /*\n        //  * WARNING: This is called in realtime while user is resizing so always throttle back any processing so that you don't\n        //  * do any actual processing in here unless you want it VERY live, because it is.\n        //  */\n        // (<any>window).windowResize = function() {\n        //     // console.log(\"WindowResize: w=\" + window.innerWidth + \" h=\" + window.innerHeight);\n        // }\n        //\n        // (<any>window).addEvent(window, \"resize\", (<any>window).windowResize);\n        //\n        // this commented section is not working in my new x-app code, but it's ok to comment it out for now.\n        //\n        // This is our template element in index.html\n        // var app = document.querySelector('#x-app');\n        // // Listen for template bound event to know when bindings\n        // // have resolved and content has been stamped to the page\n        // app.addEventListener('dom-change', function() {\n        //     console.log('app ready event!');\n        // });\n\n        (window as any).addEventListener('polymer-ready', function(e) {\n            console.log('polymer-ready event!');\n        });\n        console.log(\"running module: cnst.js\");\n\n        if (meta64.appInitialized)\n            return;\n\n        meta64.appInitialized = true;\n\n        var tabs = util.poly(\"mainIronPages\");\n        tabs.addEventListener(\"iron-select\", function() {\n            meta64.tabChangeEvent(tabs.selected);\n        });\n\n        meta64.initConstants();\n        meta64.displaySignupMessage();\n\n        /*\n         * todo-3: how does orientationchange need to work for polymer? Polymer disabled\n         * $(window).on(\"orientationchange\", _.orientationHandler);\n         */\n\n        $(window).bind(\"beforeunload\", function() {\n            return \"Leave Meta64 ?\";\n        });\n\n        /*\n         * I thought this was a good idea, but actually it destroys the session, when the user is entering an\n         * \"id=\\my\\path\" type of url to open a specific node. Need to rethink  Basically for now I'm thinking\n         * going to a different url shouldn't blow up the session, which is what 'logout' does.\n         *\n         * $(window).on(\"unload\", function() { user.logout(false); });\n         */\n\n        meta64.deviceWidth = $(window).width();\n        meta64.deviceHeight = $(window).height();\n\n        /*\n         * This call checks the server to see if we have a session already, and gets back the login information from\n         * the session, and then renders page content, after that.\n         */\n        user.refreshLogin();\n\n        /*\n         * Check for screen size in a timer. We don't want to monitor actual screen resize events because if a user\n         * is expanding a window we basically want to limit the CPU and chaos that would ensue if we tried to adjust\n         * things every time it changes. So we throttle back to only reorganizing the screen once per second. This\n         * timer is a throttle sort of. Yes I know how to listen for events. No I'm not doing it wrong here. This\n         * timer is correct in this case and behaves superior to events.\n         */\n        /*\n         * Polymer->disable\n         * setInterval(function() { var width = $(window).width();\n         * if (width != _.deviceWidth) { // console.log(\"Screen width changed: \" + width);\n         * _.deviceWidth = width; _.deviceHeight = $(window).height();\n         * _.screenSizeChange(); } }, 1500);\n         */\n        meta64.updateMainMenuPanel();\n        meta64.refreshAllGuiEnablement();\n        util.initProgressMonitor();\n        meta64.processUrlParams();\n        this.initStaticHtmlOnClicks();\n\n        console.log(\"initApp complete.\");\n    }\n\n    /* Eventually i'll refactor to have all these domIds in a component, and the component will contain the assignment of the onclicks */\n    initStaticHtmlOnClicks = function(): void {\n        bindClick.addOnClick(\"headerAppName\", nav.navPublicHome);\n        bindClick.addOnClick(\"navHomeButton\", nav.navHome);\n        bindClick.addOnClick(\"upLevelButton\", nav.navUpLevel);\n        bindClick.addOnClick(\"editModeButton\", nav.editMode);\n        bindClick.addOnClick(\"searchMainAppButton\", nav.search);\n        bindClick.addOnClick(\"timelineMainAppButton\", srch.timelineByModTime);\n        bindClick.addOnClick(\"userPreferencesMainAppButton\", nav.preferences);\n        bindClick.addOnClick(\"openLoginDlgButton\", nav.login);\n        bindClick.addOnClick(\"navLogoutButton\", nav.logout);\n        bindClick.addOnClick(\"openSignupPgButton\", nav.signup);\n    }\n\n    processUrlParams = function(): void {\n        var passCode = util.getParameterByName(\"passCode\");\n        if (passCode) {\n            setTimeout(function() {\n                Factory.createDefault(\"ChangePasswordDlgImpl\", (dlg: ChangePasswordDlg) => {\n                    dlg.open();\n                }, { \"passCode\": passCode })\n            }, 100);\n        }\n\n        meta64.urlCmd = util.getParameterByName(\"cmd\");\n    }\n\n    tabChangeEvent = function(tabName): void {\n        if (tabName == \"searchTabName\") {\n            srch.searchTabActivated();\n        }\n    }\n\n    displaySignupMessage = function(): void {\n        var signupResponse = $(\"#signupCodeResponse\").text();\n        if (signupResponse === \"ok\") {\n            util.showMessage(\"Signup complete. You may now login.\");\n        }\n    }\n\n    screenSizeChange = function(): void {\n        if (meta64.currentNodeData) {\n\n            if (meta64.currentNode.imgId) {\n                render.adjustImageSize(meta64.currentNode);\n            }\n\n            $.each(meta64.currentNodeData.children, function(i, node) {\n                if (node.imgId) {\n                    render.adjustImageSize(node);\n                }\n            });\n        }\n    }\n\n    //\n    // /* Don't need this method yet, and haven't tested to see if works */\n    // orientationHandler = function(event): void {\n    //     // if (event.orientation) {\n    //     // if (event.orientation === 'portrait') {\n    //     // } else if (event.orientation === 'landscape') {\n    //     // }\n    //     // }\n    // }\n    //\n\n    loadAnonPageHome = function(ignoreUrl): void {\n        util.json<I.AnonPageLoadRequest, I.AnonPageLoadResponse>(\"anonPageLoad\", {\n            \"ignoreUrl\": ignoreUrl\n        }, meta64.anonPageLoadResponse);\n    }\n\n    saveUserPreferences = function(): void {\n        util.json<I.SaveUserPreferencesRequest, I.SaveUserPreferencesResponse>(\"saveUserPreferences\", {\n            //todo-0: both of these options should come from meta64.userPrefernces, and not be stored directly on meta64 scope.\n            \"userPreferences\": meta64.userPreferences\n        });\n    }\n\n    openSystemFile = function(fileName: string) {\n        util.json<I.OpenSystemFileRequest, I.OpenSystemFileResponse>(\"openSystemFile\", {\n            \"fileName\": fileName\n        });\n    }\n\n    /* This is a wrapper around System.import, to make future refactoring needs easier, and also make the code a bit cleaner */\n    modRun = function(modName: string, callback: Function) {\n        System.import(\"/js/\" + modName).then(function(mod) {\n            callback(mod);\n        });\n    }\n\n    clickOnNodeRow = function(rowElm, uid): void {\n        nav.clickOnNodeRow(rowElm, uid);\n    }\n\n    replyToComment = function(uid: any): void {\n        edit.replyToComment(uid);\n    }\n\n    openNode = function(uid): void {\n        nav.openNode(uid);\n    }\n\n    toggleNodeSel = function(uid): void {\n        nav.toggleNodeSel(uid);\n    }\n\n    createSubNode = function(uid?: any, typeName?: string, createAtTop?: boolean): void {\n        edit.createSubNode(uid, typeName, createAtTop);\n    }\n\n    insertNode = function(uid?: any, typeName?: string): void {\n        edit.insertNode(uid, typeName);\n    }\n\n    runEditNode = function(uid: any): void {\n        edit.runEditNode(uid);\n    }\n\n    moveNodeUp = function(uid?: string): void {\n        edit.moveNodeUp();\n    }\n\n    moveNodeDown = function(uid?: string): void {\n        edit.moveNodeDown();\n    }\n\n    clickOnSearchResultRow = function(rowElm, uid) {\n        srch.clickOnSearchResultRow(rowElm, uid);\n    }\n\n    clickSearchNode = function(uid: string) {\n        srch.clickSearchNode(uid);\n    }\n\n    //webpack\n    // editSystemFile = function(fileName: string) {\n    //     new EditSystemFileDlg(fileName).open();\n    // }\n}\n\nexport let meta64: Meta64 = new Meta64();\n(window as any).meta64 = meta64;\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface UploadFromFileDropzoneDlg extends DialogBase {\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface UploadFromUrlDlg extends DialogBase {\n}\n","console.log(\"Attachment.ts\");\n\nimport {meta64} from \"./Meta64\";\nimport {util} from \"./Util\";\nimport {Factory} from \"./Factory\";\nimport {ConfirmDlg} from \"./ConfirmDlg\";\nimport {UploadFromFileDropzoneDlg} from \"./UploadFromFileDropzoneDlg\";\nimport {UploadFromUrlDlg} from \"./UploadFromUrlDlg\";\nimport * as I from \"./Interfaces\";\n\nclass Attachment {\n    /* Node being uploaded to */\n    uploadNode: any = null;\n\n    openUploadFromFileDlg = function(): void {\n        let node: I.NodeInfo = meta64.getHighlightedNode();\n        if (!node) {\n            attachment.uploadNode = null;\n            util.showMessage(\"No node is selected.\");\n            return;\n        }\n\n        attachment.uploadNode = node;\n\n        Factory.createDefault(\"UploadFromFileDropzoneDlgImpl\", (dlg: UploadFromFileDropzoneDlg) => {\n          dlg.open();\n        })\n\n        /* Note: To run legacy uploader just put this version of the dialog here, and\n        nothing else is required. Server side processing is still in place for it\n        (new UploadFromFileDlg()).open();\n        */\n    }\n\n    openUploadFromUrlDlg = function(): void {\n        let node: I.NodeInfo = meta64.getHighlightedNode();\n\n        if (!node) {\n            attachment.uploadNode = null;\n            util.showMessage(\"No node is selected.\");\n            return;\n        }\n\n        attachment.uploadNode = node;\n\n        Factory.createDefault(\"UploadFromUrlDlgImpl\", (dlg: UploadFromUrlDlg) => {\n          dlg.open();\n        })\n    }\n\n    deleteAttachment = function(): void {\n        let node: I.NodeInfo = meta64.getHighlightedNode();\n\n        if (node) {\n          Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n              dlg.open();\n          }, {\n                  \"title\": \"Confirm Delete Attachment\", \"message\": \"Delete the Attachment on the Node?\", \"buttonText\": \"Yes, delete.\", \"yesCallback\":\n                  function() {\n                    util.json<I.DeleteAttachmentRequest, I.DeleteAttachmentResponse>(\"deleteAttachment\", {\n                               \"nodeId\": node.id\n                           }, attachment.deleteAttachmentResponse, null, node.uid);\n                  }\n              });\n        }\n    }\n\n    deleteAttachmentResponse = function(res: I.DeleteAttachmentResponse, uid: any): void {\n        if (util.checkSuccess(\"Delete attachment\", res)) {\n            meta64.removeBinaryByUid(uid);\n            // force re-render from local data.\n            meta64.goToMainPage(true);\n        }\n    }\n}\nexport let attachment: Attachment = new Attachment();\nexport default attachment;\n","console.log(\"DialogBaseImpl.ts\");\n\nimport {meta64} from \"./Meta64\"\nimport {util} from \"./Util\";\nimport {render} from \"./Render\";\nimport {DialogBase} from \"./DialogBase\";\n\ndeclare var Polymer;\n\n\n/*\n * Base class for all dialog boxes.\n *\n * todo: when refactoring all dialogs to this new base-class design I'm always\n * creating a new dialog each time, so the next optimization will be to make\n * certain dialogs (indeed most of them) be able to behave as singletons once\n * they have been constructed where they merely have to be reshown and\n * repopulated to reopen one of them, and closing any of them is merely done by\n * making them invisible.\n */\nexport class DialogBaseImpl implements DialogBase {\n\n    private horizCenterDlgContent: boolean = true;\n\n    data: any;\n    built: boolean;\n    guid: string;\n\n    constructor(protected domId: string) {\n        this.data = {};\n\n        /*\n         * We register 'this' so we can do meta64.getObjectByGuid in onClick methods\n         * on the dialog and be able to have 'this' available to the functions that are encoded in onClick methods\n         * as strings.\n         */\n        meta64.registerDataObject(this);\n        meta64.registerDataObject(this.data);\n    }\n\n    /* this method is called to initialize the content of the dialog when it's displayed, and should be the place where\n    any defaults or values in for fields, etc. should be set when the dialog is displayed */\n    init = (): void => {\n    }\n\n    closeEvent = (): void => {\n    }\n\n    build = (): string => {\n        return \"\"\n    };\n\n    open = (): void => {\n        let thiz = this;\n        /*\n         * get container where all dialogs are created (true polymer dialogs)\n         */\n        let modalsContainer = util.polyElm(\"modalsContainer\");\n\n        /* suffix domId for this instance/guid */\n        let id = this.id(this.domId);\n\n        /*\n         * TODO. IMPORTANT: need to put code in to remove this dialog from the dom\n         * once it's closed, AND that same code should delete the guid's object in\n         * map in this module\n         */\n        let node = document.createElement(\"paper-dialog\");\n\n        //NOTE: This works, but is an example of what NOT to do actually. Instead always\n        //set these properties on the 'polyElm.node' below.\n        //node.setAttribute(\"with-backdrop\", \"with-backdrop\");\n\n        node.setAttribute(\"id\", id);\n        modalsContainer.node.appendChild(node);\n\n        // todo-3: put in CSS now\n        node.style.border = \"3px solid gray\";\n\n        Polymer.dom.flush(); // <---- is this needed ? todo-3\n        Polymer.updateStyles();\n\n\n        if (this.horizCenterDlgContent) {\n\n            let content: string =\n                render.tag(\"div\", {\n                    //howto: example of how to center a div in another div. This div is the one being centered.\n                    //The trick to getting the layout working was NOT setting this width to 100% even though somehow\n                    //the layout does result in it being 100% i think.\n                    \"style\": \"margin: 0 auto; max-width: 800px;\" //\"margin: 0 auto; width: 800px;\"\n                },\n                    this.build());\n            util.setHtml(id, content);\n\n            // let left = render.tag(\"div\", {\n            //     \"display\": \"table-column\",\n            //     \"style\": \"border: 1px solid black;\"\n            // }, \"left\");\n            // let center = render.tag(\"div\", {\n            //     \"display\": \"table-column\",\n            //     \"style\": \"border: 1px solid black;\"\n            // }, this.build());\n            // let right = render.tag(\"div\", {\n            //     \"display\": \"table-column\",\n            //     \"style\": \"border: 1px solid black;\"\n            // }, \"right\");\n            //\n            // let row = render.tag(\"div\", { \"display\": \"table-row\" }, left + center + right);\n            //\n            // let table: string = render.tag(\"div\",\n            //     {\n            //         \"display\": \"table\",\n            //     }, row);\n            //\n            // util.setHtml(id, table);\n        }\n        else {\n            /* todo-1: lookup paper-dialog-scrollable, for examples on how we can implement header and footer to build\n            a much better dialog. */\n            let content = this.build();\n            // render.tag(\"div\", {\n            //     \"class\" : \"main-dialog-content\"\n            // },\n            // this.build());\n            util.setHtml(id, content);\n        }\n\n\n        this.built = true;\n\n        this.init();\n        console.log(\"Showing dialog: \" + id);\n\n        /* now open and display polymer dialog we just created */\n        let polyElm = util.polyElm(id);\n\n        /*\n        i tried to tweak the placement of the dialog using fitInto, and it didn't work\n        so I'm just using the paper-dialog CSS styling to alter the dialog size to fullscreen\n        let ironPages = util.polyElm(\"mainIronPages\");\n\n        After the TypeScript conversion I noticed having a modal flag will cause\n        an infinite loop (completely hang) Chrome browser, but this issue is most likely\n        not related to TypeScript at all, but i'm just mention TS just in case, because\n        that's when I noticed it. Dialogs are fine but not a dialog on top of another dialog, which is\n        the case where it hangs if model=true\n        */\n        //polyElm.node.modal = true;\n\n        //polyElm.node.refit();\n        polyElm.node.noCancelOnOutsideClick = true;\n        //polyElm.node.horizontalOffset = 0;\n        //polyElm.node.verticalOffset = 0;\n        //polyElm.node.fitInto = ironPages.node;\n        //polyElm.node.constrain();\n        //polyElm.node.center();\n        polyElm.node.open();\n\n        //var dialog = document.getElementById('loginDialog');\n        node.addEventListener('iron-overlay-closed', function(customEvent) {\n            //var id = (<any>customEvent.currentTarget).id;\n            //console.log(\"****************** Dialog: \" + id + \" is closed!\");\n            thiz.closeEvent();\n        });\n\n        /*\n        setting to zero margin immediately, and then almost immediately, and then afte 1.5 seconds\n        is a really ugly hack, but I couldn't find the right style class or way of doing this in the google\n        docs on the dialog class.\n        */\n        polyElm.node.style.margin = \"0px\";\n        polyElm.node.refit();\n\n        /* I'm doing this in desparation. nothing else seems to get rid of the margin */\n        setTimeout(function() {\n            polyElm.node.style.margin = \"0px\";\n            polyElm.node.refit();\n        }, 10);\n\n        /* I'm doing this in desparation. nothing else seems to get rid of the margin */\n        setTimeout(function() {\n            polyElm.node.style.margin = \"0px\";\n            polyElm.node.refit();\n        }, 1500);\n    }\n\n    /* todo: need to cleanup the registered IDs that are in maps for this dialog */\n    public cancel() {\n        debugger;\n        var polyElm = util.polyElm(this.id(this.domId));\n        polyElm.node.cancel();\n    }\n\n    /*\n     * Helper method to get the true id that is specific to this dialog (i.e. guid\n     * suffix appended)\n     */\n    id = (id): string => {\n        if (id == null)\n            return null;\n\n        /* if dialog already suffixed */\n        if (util.contains(id, \"_dlgId\")) {\n            return id;\n        }\n        return id + \"_dlgId\" + this.data.guid;\n    }\n\n    el = (id): any => {\n        if (!util.startsWith(id, \"#\")) {\n            return $(\"#\" + this.id(id));\n        }\n        else {\n            return $(this.id(id));\n        }\n    }\n\n    makePasswordField = (text: string, id: string): string => {\n        return render.makePasswordField(text, this.id(id));\n    }\n\n    makeEditField = (fieldName: string, id: string) => {\n        id = this.id(id);\n        return render.tag(\"paper-input\", {\n            \"name\": id,\n            \"label\": fieldName,\n            \"id\": id,\n            \"class\": \"meta64-input\"\n        }, \"\", true);\n    }\n\n    makeMessageArea = (message: string, id?: string): string => {\n        var attrs = {\n            \"class\": \"dialog-message\"\n        };\n        if (id) {\n            attrs[\"id\"] = this.id(id);\n        }\n        return render.tag(\"p\", attrs, message);\n    }\n\n    // todo: there's a makeButton (and other similar methods) that don't have the\n    // encodeCallback capability yet\n    makeButton = (text: string, id: string, callback: any, clazz?:string): string => {\n        let attribs = {\n            \"raised\": \"raised\",\n            \"id\": this.id(id),\n            \"class\": /* clazz || */ \"standardButton\"\n        };\n\n        if (callback != undefined) {\n            attribs[\"onClick\"] = meta64.encodeOnClick(callback);\n        }\n\n        return render.tag(\"paper-button\", attribs, text, true);\n    }\n\n    /* The reason delayCloseCallback is here is so that we can encode a button to popup a new dialog over the top of\n    an existing dialog, and have that happen instantly, rather than letting it close, and THEN poping up a second dialog,\n    becasue using the delay means that the one being hidden is not able to become hidden before the one comes up because\n    that creates an uglyness. It's better to popup one right over the other and no flicker happens in that case. */\n    makeCloseButton = (text: string, id: string, callback?: any, ctx?: any, initiallyVisible: boolean = true, delayCloseCallback: number = 0): string => {\n\n        let attribs = {\n            \"raised\": \"raised\",\n\n            /* warning: this dialog-confirm will cause google polymer to close the dialog instantly when the button\n             is clicked and sometimes we don't want that, like for example, when we open a dialog over another dialog,\n             we don't want the instantaneous close and display of background. It creates a flicker effect.\n\n            \"dialog-confirm\": \"dialog-confirm\",\n            */\n\n            \"id\": this.id(id),\n            \"class\": \"standardButton\"\n        };\n\n        let onClick = \"\";\n\n        if (callback != undefined) {\n            onClick = meta64.encodeOnClick(callback, ctx);\n        }\n\n        onClick += meta64.encodeOnClick(this.cancel, this, null, delayCloseCallback);\n\n        if (onClick) {\n            attribs[\"onClick\"] = onClick;\n        }\n\n        if (!initiallyVisible) {\n            attribs[\"style\"] = \"display:none;\"\n        }\n\n        return render.tag(\"paper-button\", attribs, text, true);\n    }\n\n    bindEnterKey = (id: string, callback: any): void => {\n        util.bindEnterKey(this.id(id), callback);\n    }\n\n    setInputVal = (id: string, val: string): void => {\n        if (!val) {\n            val = \"\";\n        }\n        util.setInputVal(this.id(id), val);\n    }\n\n    getInputVal = (id: string): string => {\n        return util.getInputVal(this.id(id)).trim();\n    }\n\n    setHtml = (text: string, id: string): void => {\n        util.setHtml(this.id(id), text);\n    }\n\n    makeRadioButton = (label: string, id: string): string => {\n        id = this.id(id);\n        return render.tag(\"paper-radio-button\", {\n            \"id\": id,\n            \"name\": id\n        }, label);\n    }\n\n    makeCheckBox = (label: string, id: string, initialState: boolean): string => {\n        id = this.id(id);\n\n        var attrs = {\n            //\"onClick\": \"meta64.getObjectByGuid(\" + this.guid + \").publicCommentingChanged();\",\n            \"name\": id,\n            \"id\": id\n        };\n\n        ////////////\n        //             <paper-checkbox on-change=\"checkboxChanged\">click</paper-checkbox>\n        //\n        //             checkboxChanged : function(event){\n        //     if(event.target.checked) {\n        //         console.log(event.target.value);\n        //     }\n        // }\n        ////////////\n\n        if (initialState) {\n            attrs[\"checked\"] = \"checked\";\n        }\n\n        let checkbox: string = render.tag(\"paper-checkbox\", attrs, \"\", false);\n\n        checkbox += render.tag(\"label\", {\n            \"for\": id\n        }, label, true);\n\n        return checkbox;\n    }\n\n    makeHeader = (text: string, id?: string, centered?: boolean): string => {\n        var attrs = {\n            \"class\": /*\"dialog-header \" +*/ (centered ? \"horizontal center-justified layout\" : \"\") + \" dialog-header\"\n        };\n\n        //add id if one was provided\n        if (id) {\n            attrs[\"id\"] = this.id(id);\n        }\n\n        /* making this H2 tag causes google to drag in a bunch of its own styles and are hard to override */\n        return render.tag(\"div\", attrs, text);\n    }\n\n    focus = (id: string): void => {\n        if (!util.startsWith(id, \"#\")) {\n            id = \"#\" + id;\n        }\n        id = this.id(id);\n        util.delayedFocus(id);\n        // setTimeout(function() {\n        //     $(id).focus();\n        // }, 1000);\n    }\n}\n","console.log(\"AudioPlayerDlgImpl.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { AudioPlayerDlg } from \"./AudioPlayerDlg\";\nimport { podcast } from \"./Podcast\";\nimport { meta64 } from \"./Meta64\";\nimport { render } from \"./Render\";\nimport { props } from \"./Props\";\nimport * as I from \"./Interfaces\";\n\n/* This is an audio player dialog that has ad-skipping technology provided by podcast.ts */\nexport default class AudioPlayerDlgImpl extends DialogBaseImpl implements AudioPlayerDlg {\n\n    private sourceUrl: string;\n    private nodeUid: string;\n    private startTimePending: number;\n\n    constructor(args: Object) {\n        super(\"AudioPlayerDlg\");\n\n        this.sourceUrl = (<any>args).sourceUrl;\n        this.nodeUid = (<any>args).nodeUid;\n        this.startTimePending = (<any>args).startTimePending;\n\n        console.log(`startTimePending in constructor: ${this.startTimePending}`);\n        podcast.startTimePending = this.startTimePending;\n    }\n\n    /* When the dialog closes we need to stop and remove the player */\n    public cancel() {\n        super.cancel();\n        let player = $(\"#\" + this.id(\"audioPlayer\"));\n        if (player && player.length > 0) {\n            /* for some reason the audio player needs to be accessed like it's an array */\n            (<any>player[0]).pause();\n            player.remove();\n        }\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        let header = this.makeHeader(\"Audio Player\");\n\n        let node: I.NodeInfo = meta64.uidToNodeMap[this.nodeUid];\n        if (!node) {\n            throw `unknown node uid: ${this.nodeUid}`;\n        }\n\n        let rssTitle: I.PropertyInfo = props.getNodeProperty(\"meta64:rssItemTitle\", node);\n\n        /* This is where I need a short name of the media being played */\n        let description = render.tag(\"p\", {\n        }, rssTitle.value);\n\n        //references:\n        //http://www.w3schools.com/tags/ref_av_dom.asp\n        //https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\n        let playerAttribs: any = {\n            \"src\": this.sourceUrl,\n            \"id\": this.id(\"audioPlayer\"),\n            \"style\": \"width: 100%; padding:0px; margin-top: 0px; margin-left: 0px; margin-right: 0px;\",\n            \"ontimeupdate\": `podcast.onTimeUpdate('${this.nodeUid}', this);`,\n            \"oncanplay\": `podcast.onCanPlay('${this.nodeUid}', this);`,\n            \"controls\": \"controls\",\n            \"preload\": \"auto\"\n        };\n\n        let player = render.tag(\"audio\", playerAttribs);\n\n        //Skipping Buttons\n        let skipBack30Button = this.makeButton(\"< 30s\", \"skipBackButton\", this.skipBack30Button);\n        let skipForward30Button = this.makeButton(\"30s >\", \"skipForwardButton\", this.skipForward30Button);\n        let skipButtonBar = render.centeredButtonBar(skipBack30Button + skipForward30Button);\n\n        //Speed Buttons\n        let speedNormalButton = this.makeButton(\"Normal\", \"normalSpeedButton\", this.normalSpeedButton);\n        let speed15Button = this.makeButton(\"1.5X\", \"speed15Button\", this.speed15Button);\n        let speed2Button = this.makeButton(\"2X\", \"speed2Button\", this.speed2Button);\n        let speedButtonBar = render.centeredButtonBar(speedNormalButton + speed15Button + speed2Button);\n\n        //Dialog Buttons\n        let pauseButton = this.makeButton(\"Pause\", \"pauseButton\", this.pauseButton);\n        let playButton = this.makeButton(\"Play\", \"playButton\", this.playButton, \"playButton\");\n        //todo-1: even if this button appears to work, I need it to explicitly enforce the saving of the time value AND the removal of the AUDIO element from the DOM */\n        let closeButton = this.makeButton(\"Close\", \"closeAudioPlayerDlgButton\", this.closeBtn);\n\n        let buttonBar = render.centeredButtonBar(playButton + pauseButton + closeButton);\n\n        return header + description + player + skipButtonBar + speedButtonBar + buttonBar;\n    }\n\n    pauseButton = (): void => {\n        podcast.pause();\n    }\n\n    playButton = (): void => {\n        podcast.play();\n    }\n\n    speed2Button = (): void => {\n        podcast.speed(2);\n    }\n\n    speed15Button = (): void => {\n        podcast.speed(1.5);\n    }\n\n    normalSpeedButton = (): void => {\n        podcast.speed(1.0);\n    }\n\n    skipBack30Button = (): void => {\n        podcast.skip(-30);\n    }\n\n    skipForward30Button = (): void => {\n        podcast.skip(30);\n    }\n\n    closeEvent = (): void => {\n        podcast.destroyPlayer(null);\n    }\n\n    closeBtn = (): void => {\n        podcast.destroyPlayer(this);\n    }\n\n    init = (): void => {\n    }\n}\n","console.log(\"ChangePasswordDlgImpl.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { ChangePasswordDlg } from \"./ChangePasswordDlg\";\nimport { render } from \"./Render\";\nimport {Factory} from \"./Factory\";\nimport {MessageDlg} from \"./MessageDlg\";\nimport { util } from \"./Util\";\nimport * as I from \"./Interfaces\";\n\nexport default class ChangePasswordDlgImpl extends DialogBaseImpl implements ChangePasswordDlg {\n\n    pwd: string;\n    private passCode: string;\n\n    constructor(args:Object) {\n        super(\"ChangePasswordDlg\");\n        this.passCode = (<any>args).passCode;\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog.\n     *\n     * If the user is doing a \"Reset Password\" we will have a non-null passCode here, and we simply send this to the server\n     * where it will validate the passCode, and if it's valid use it to perform the correct password change on the correct\n     * user.\n     */\n    build = (): string => {\n\n        var header = this.makeHeader(this.passCode ? \"Password Reset\" : \"Change Password\");\n\n        var message = render.tag(\"p\", {\n\n        }, \"Enter your new password below...\");\n\n        var formControls = this.makePasswordField(\"New Password\", \"changePassword1\");\n\n        var changePasswordButton = this.makeCloseButton(\"Change Password\", \"changePasswordActionButton\",\n            this.changePassword, this);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelChangePasswordButton\");\n\n        var buttonBar = render.centeredButtonBar(changePasswordButton + backButton);\n\n        return header + message + formControls + buttonBar;\n    }\n\n    changePassword = (): void => {\n        this.pwd = this.getInputVal(\"changePassword1\").trim();\n\n        if (this.pwd && this.pwd.length >= 4) {\n            util.json<I.ChangePasswordRequest, I.ChangePasswordResponse>(\"changePassword\", {\n                \"newPassword\": this.pwd,\n                \"passCode\": this.passCode\n            }, this.changePasswordResponse, this);\n        } else {\n            util.showMessage(\"Invalid password(s).\");\n        }\n    }\n\n    changePasswordResponse = (res: I.ChangePasswordResponse) => {\n        if (util.checkSuccess(\"Change password\", res)) {\n\n            var msg = \"Password changed successfully.\";\n\n            if (this.passCode) {\n                msg += \"<p>You may now login as <b>\" + res.user\n                    + \"</b> with your new password.\";\n            }\n\n            let thiz = this;\n            Factory.createDefault(\"MessageDlgImpl\", (dlg: MessageDlg) => {\n                dlg.open();\n            }\n                , {\n                    \"title\": \"Password Change\", callback: () => {\n                        if (thiz.passCode) {\n                            //this login call DOES work, but the reason we don't do this is because the URL still has the passCode on it and we\n                            //want to direct the user to a url without that.\n                            //user.login(null, res.user, thiz.pwd);\n\n                            window.location.href = window.location.origin;\n                        }\n                    }\n                });\n        }\n    }\n\n    init = (): void => {\n        this.focus(\"changePassword1\");\n    }\n}\n","console.log(\"ConfirmDlgImpl.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { ConfirmDlg } from \"./ConfirmDlg\";\nimport { render } from \"./Render\";\n\nexport default class ConfirmDlgImpl extends DialogBaseImpl implements ConfirmDlg {\n\n    private title: string;\n    private message: string;\n    private buttonText: string;\n    private yesCallback: Function;\n    private noCallback: Function;\n\n    constructor(args: Object) {\n        super(\"ConfirmDlg\");\n        this.title = (<any>args).title;\n        this.message = (<any>args).message;\n        this.buttonText = (<any>args).buttonText;\n        this.yesCallback = (<any>args).yesCallback;\n        this.noCallback = (<any>args).noCallback;\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var content: string = this.makeHeader(\"\", \"ConfirmDlgTitle\") + this.makeMessageArea(\"\", \"ConfirmDlgMessage\");\n        content = render.centerContent(content, 300);\n\n        var buttons = this.makeCloseButton(\"Yes\", \"ConfirmDlgYesButton\", this.yesCallback)\n            + this.makeCloseButton(\"No\", \"ConfirmDlgNoButton\", this.noCallback);\n        content += render.centeredButtonBar(buttons);\n\n        return content;\n    }\n\n    init = (): void => {\n        this.setHtml(this.title, \"ConfirmDlgTitle\");\n        this.setHtml(this.message, \"ConfirmDlgMessage\");\n        this.setHtml(this.buttonText, \"ConfirmDlgYesButton\");\n    }\n}\n","console.log(\"CreateNodeDlgImpl.ts\");\n\nimport {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {CreateNodeDlg} from \"./CreateNodeDlg\";\nimport { render } from \"./Render\";\nimport {meta64} from \"./Meta64\";\nimport {edit} from \"./Edit\";\nimport * as I from \"./Interfaces\";\n\nexport default class CreateNodeDlgImpl extends DialogBaseImpl implements CreateNodeDlg {\n\n    lastSelDomId: string;\n    lastSelTypeName: string;\n\n    constructor() {\n        super(\"CreateNodeDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        let header = this.makeHeader(\"Create New Node\");\n\n        let createFirstChildButton = this.makeCloseButton(\"First\", \"createFirstChildButton\", this.createFirstChild, this, true, 1000);\n        let createLastChildButton = this.makeCloseButton(\"Last\", \"createLastChildButton\", this.createLastChild, this);\n        let createInlineButton = this.makeCloseButton(\"Inline\", \"createInlineButton\", this.createInline, this);\n        let backButton = this.makeCloseButton(\"Cancel\", \"cancelButton\");\n        let buttonBar = render.centeredButtonBar(createFirstChildButton + createLastChildButton + createInlineButton + backButton);\n\n        let content = \"\";\n        let typeIdx = 0;\n        /* todo-1: need a better way to enumerate and add the types we want to be able to search */\n        content += this.makeListItem(\"Standard Type\", \"nt:unstructured\", typeIdx++, true);\n        content += this.makeListItem(\"RSS Feed\", \"meta64:rssfeed\", typeIdx++, false);\n        content += this.makeListItem(\"System Folder\", \"meta64:systemfolder\", typeIdx++, false);\n\n        var listBox = render.tag(\"div\", {\n            \"class\": \"listBox\"\n        }, content);\n\n        var mainContent: string = listBox;\n\n        var centeredHeader: string = render.tag(\"div\", {\n            \"class\": \"centeredTitle\"\n        }, header);\n\n        return centeredHeader + mainContent + buttonBar;\n    }\n\n    makeListItem(val: string, typeName: string, typeIdx: number, initiallySelected: boolean): string {\n        let payload: Object = {\n            \"typeName\": typeName,\n            \"typeIdx\": typeIdx\n        };\n\n        let divId: string = this.id(\"typeRow\" + typeIdx);\n\n        if (initiallySelected) {\n            this.lastSelTypeName = typeName;\n            this.lastSelDomId = divId;\n        }\n\n        return render.tag(\"div\", {\n            \"class\": \"listItem\" + (initiallySelected ? \" selectedListItem\" : \"\"),\n            \"id\": divId,\n            \"onclick\": meta64.encodeOnClick(this.onRowClick, this, payload)\n        }, val);\n    }\n\n    createFirstChild = (): void => {\n        if (!this.lastSelTypeName) {\n            alert(\"choose a type.\");\n            return;\n        }\n        edit.createSubNode(null, this.lastSelTypeName, true);\n    }\n\n    createLastChild = (): void => {\n        if (!this.lastSelTypeName) {\n            alert(\"choose a type.\");\n            return;\n        }\n        edit.createSubNode(null, this.lastSelTypeName, false);\n    }\n\n    createInline = (): void => {\n        if (!this.lastSelTypeName) {\n            alert(\"choose a type.\");\n            return;\n        }\n        edit.insertNode(null, this.lastSelTypeName);\n    }\n\n    onRowClick = (payload: any): void => {\n        let divId = this.id(\"typeRow\" + payload.typeIdx);\n        this.lastSelTypeName = payload.typeName;\n\n        if (this.lastSelDomId) {\n            this.el(this.lastSelDomId).removeClass(\"selectedListItem\");\n        }\n        this.lastSelDomId = divId;\n        this.el(divId).addClass(\"selectedListItem\");\n    }\n\n    init = (): void => {\n        let node: I.NodeInfo = meta64.getHighlightedNode();\n        if (node) {\n            let canInsertInline: boolean = meta64.homeNodeId != node.id;\n            if (canInsertInline) {\n                this.el(\"createInlineButton\").show();\n            }\n            else {\n                this.el(\"createInlineButton\").hide();\n            }\n        }\n    }\n}\n","console.log(\"EditPropertyDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface EditPropertyDlg extends DialogBase {\n}\n","console.log(\"EditNodeDlgImpl.ts\");\n\nimport * as I from \"./Interfaces\"\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { EditNodeDlg } from \"./EditNodeDlg\";\nimport { EditPropertyDlg } from \"./EditPropertyDlg\";\nimport {ConfirmDlg} from \"./ConfirmDlg\";\nimport { render } from \"./Render\";\nimport { Factory } from \"./Factory\";\nimport { cnst, jcrCnst } from \"./Constants\";\nimport { edit } from \"./Edit\";\nimport { view } from \"./View\";\nimport { props } from \"./Props\";\nimport { util } from \"./Util\";\nimport { meta64 } from \"./Meta64\";\n\ndeclare var ace;\n\nexport default class EditNodeDlgImpl extends DialogBaseImpl implements EditNodeDlg {\n\n    contentFieldDomId: string;\n    fieldIdToPropMap: any = {};\n    propEntries: Array<I.PropEntry> = new Array<I.PropEntry>();\n    editPropertyDlgInst: any;\n    typeName:string;\n    createAtTop:boolean;\n\n    constructor(args:Object) {\n        super(\"EditNodeDlg\");\n\n        this.typeName = (<any>args).typeName;\n        this.createAtTop = (<any>args).createAtTop;\n\n        /*\n         * Property fields are generated dynamically and this maps the DOM IDs of each field to the property object it\n         * edits.\n         */\n        this.fieldIdToPropMap = {};\n        this.propEntries = new Array<I.PropEntry>();\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Edit Node\");\n\n        var saveNodeButton = this.makeCloseButton(\"Save\", \"saveNodeButton\", this.saveNode);\n        var addPropertyButton = this.makeButton(\"Add Property\", \"addPropertyButton\", this.addProperty);\n        var addTagsPropertyButton = this.makeButton(\"Add Tags\", \"addTagsPropertyButton\",\n            this.addTagsProperty);\n        var splitContentButton = this.makeButton(\"Split\", \"splitContentButton\", this.splitContent);\n        var deletePropButton = this.makeButton(\"Delete\", \"deletePropButton\", this.deletePropertyButtonClick);\n        var cancelEditButton = this.makeCloseButton(\"Close\", \"cancelEditButton\", this.cancelEdit);\n\n        var buttonBar = render.centeredButtonBar(saveNodeButton + addPropertyButton + addTagsPropertyButton + deletePropButton\n            + splitContentButton + cancelEditButton, \"buttons\");\n\n        /* todo: need something better for this when supporting mobile */\n        var width = 800; //window.innerWidth * 0.6;\n        var height = 600; //window.innerHeight * 0.4;\n\n        var internalMainContent = \"\";\n\n        if (cnst.SHOW_PATH_IN_DLGS) {\n            internalMainContent += render.tag(\"div\", {\n                id: this.id(\"editNodePathDisplay\"),\n                \"class\": \"path-display-in-editor\"\n            });\n        }\n\n        internalMainContent += render.tag(\"div\", {\n            id: this.id(\"editNodeInstructions\")\n        }) + render.tag(\"div\", {\n            id: this.id(\"propertyEditFieldContainer\"),\n            // todo-1: create CSS class for this.\n            style: \"padding-left: 0px; max-width:\" + width + \"px;height:\" + height + \"px;width:100%; overflow:scroll; border:4px solid lightGray;\",\n            class: \"vertical-layout-row\"\n            //\"padding-left: 0px; width:\" + width + \"px;height:\" + height + \"px;overflow:scroll; border:4px solid lightGray;\"\n        }, \"Loading...\");\n\n        return header + internalMainContent + buttonBar;\n    }\n\n    /*\n     * Generates all the HTML edit fields and puts them into the DOM model of the property editor dialog box.\n     *\n     */\n    populateEditNodePg = () => {\n        /* display the node path at the top of the edit page */\n        view.initEditPathDisplayById(this.id(\"editNodePathDisplay\"));\n\n        var fields = \"\";\n        var counter = 0;\n\n        /* clear this map to get rid of old properties */\n        this.fieldIdToPropMap = {};\n        this.propEntries = new Array<I.PropEntry>();\n\n        /* editNode will be null if this is a new node being created */\n        if (edit.editNode) {\n            console.log(\"Editing existing node.\");\n\n            /* iterator function will have the wrong 'this' so we save the right one */\n            var thiz = this;\n            var editOrderedProps = props.getPropertiesInEditingOrder(edit.editNode, edit.editNode.properties);\n            var aceFields = [];\n\n            // Iterate PropertyInfo.java objects\n            /*\n             * Warning each iterator loop has its own 'this'\n             */\n            $.each(editOrderedProps, function(index, prop) {\n\n                /*\n                 * if property not allowed to display return to bypass this property/iteration\n                 */\n                if (!render.allowPropertyToDisplay(prop.name)) {\n                    console.log(\"Hiding property: \" + prop.name);\n                    return;\n                }\n\n                var fieldId = thiz.id(\"editNodeTextContent\" + index);\n                console.log(\"Creating edit field \" + fieldId + \" for property \" + prop.name);\n\n                var isMulti = prop.values && prop.values.length > 0;\n                var isReadOnlyProp = render.isReadOnlyProperty(prop.name);\n                var isBinaryProp = render.isBinaryProperty(prop.name);\n\n                let propEntry: I.PropEntry = new I.PropEntry(fieldId, prop, isMulti, isReadOnlyProp, isBinaryProp, null);\n\n                thiz.fieldIdToPropMap[fieldId] = propEntry;\n                thiz.propEntries.push(propEntry);\n                var field = \"\";\n\n                if (isMulti) {\n                    field += thiz.makeMultiPropEditor(propEntry);\n                } else {\n                    field += thiz.makeSinglePropEditor(propEntry, aceFields);\n                }\n\n                fields += render.tag(\"div\", {\n                    \"class\": ((!isReadOnlyProp && !isBinaryProp) || edit.showReadOnlyProperties ? \"propertyEditListItem\"\n                        : \"propertyEditListItemHidden\")\n                    // \"style\" : \"display: \"+ (!rdOnly || meta64.showReadOnlyProperties ? \"inline\" : \"none\")\n                }, field);\n            });\n        }\n        /* Editing a new node */\n        else {\n            // todo-0: this entire block needs review now (redesign)\n            console.log(\"Editing new node.\");\n\n            if (cnst.USE_ACE_EDITOR) {\n                var aceFieldId = this.id(\"newNodeNameId\");\n\n                fields += render.tag(\"div\", {\n                    \"id\": aceFieldId,\n                    \"class\": \"ace-edit-panel\",\n                    \"html\": \"true\"\n                }, '', true);\n\n                aceFields.push({\n                    id: aceFieldId,\n                    val: \"\"\n                });\n            } else {\n                var field = render.tag(\"paper-textarea\", {\n                    \"id\": this.id(\"newNodeNameId\"),\n                    \"label\": \"New Node Name\"\n                }, '', true);\n\n                fields += render.tag(\"div\", { \"display\": \"table-row\" }, field);\n            }\n        }\n\n//not w-pack\n        //I'm not quite ready to add this button yet.\n        // var toggleReadonlyVisButton = render.tag(\"paper-button\", {\n        //     \"raised\": \"raised\",\n        //     \"onClick\": \"meta64.getObjectByGuid(\" + this.guid + \").toggleShowReadOnly();\" //\n        // }, //\n        //     (edit.showReadOnlyProperties ? \"Hide Read-Only Properties\" : \"Show Read-Only Properties\"));\n        //\n        // fields += toggleReadonlyVisButton;\n        //let row = render.tag(\"div\", { \"display\": \"table-row\" }, left + center + right);\n\n        let propTable: string = render.tag(\"div\",\n            {\n                \"display\": \"table\",\n            }, fields);\n\n\n        util.setHtml(this.id(\"propertyEditFieldContainer\"), propTable);\n\n        if (cnst.USE_ACE_EDITOR) {\n            for (var i = 0; i < aceFields.length; i++) {\n                var editor = ace.edit(aceFields[i].id);\n                editor.setValue(util.unencodeHtml(aceFields[i].val));\n                meta64.aceEditorsById[aceFields[i].id] = editor;\n            }\n        }\n\n        var instr = edit.editingUnsavedNode ? //\n            \"You may leave this field blank and a unique ID will be assigned. You only need to provide a name if you want this node to have a more meaningful URL.\"\n            : //\n            \"\";\n\n        this.el(\"editNodeInstructions\").html(instr);\n\n        /*\n         * Allow adding of new properties as long as this is a saved node we are editing, because we don't want to start\n         * managing new properties on the client side. We need a genuine node already saved on the server before we allow\n         * any property editing to happen.\n         */\n        util.setVisibility(\"#\" + this.id(\"addPropertyButton\"), !edit.editingUnsavedNode);\n\n        var tagsPropExists = props.getNodePropertyVal(\"tags\", edit.editNode) != null;\n        // console.log(\"hasTagsProp: \" + tagsProp);\n        util.setVisibility(\"#\" + this.id(\"addTagsPropertyButton\"), !tagsPropExists);\n    }\n\n    toggleShowReadOnly = (): void => {\n        //not w-pack\n        // alert(\"not yet implemented.\");\n        // see saveExistingNode for how to iterate all properties, although I wonder why I didn't just use a map/set of\n        // properties elements\n        // instead so I don't need to parse any DOM or domIds inorder to iterate over the list of them????\n    }\n\n    addProperty = (): void => {\n        Factory.createDefault(\"EditPropertyDlgImpl\", (dlg: EditPropertyDlg) => {\n            this.editPropertyDlgInst = dlg;\n            this.editPropertyDlgInst.open();\n        }, { \"EditNodeDlgInstance\": this });\n    }\n\n    addTagsProperty = (): void => {\n        if (props.getNodePropertyVal(edit.editNode, \"tags\")) {\n            return;\n        }\n\n        var postData = {\n            nodeId: edit.editNode.id,\n            propertyName: \"tags\",\n            propertyValue: \"\"\n        };\n        util.json<I.SavePropertyRequest, I.SavePropertyResponse>(\"saveProperty\", postData, this.addTagsPropertyResponse, this);\n    }\n\n    addTagsPropertyResponse = (res: I.SavePropertyResponse): void => {\n        if (util.checkSuccess(\"Add Tags Property\", res)) {\n            this.savePropertyResponse(res);\n        }\n    }\n\n    savePropertyResponse = (res: any): void => {\n        util.checkSuccess(\"Save properties\", res);\n\n        edit.editNode.properties.push(res.propertySaved);\n        meta64.treeDirty = true;\n\n        // if (this.domId != \"EditNodeDlg\") {\n        //     console.log(\"error: incorrect object for EditNodeDlg\");\n        // }\n        this.populateEditNodePg();\n    }\n\n    addSubProperty = (fieldId: string): void => {\n        var prop = this.fieldIdToPropMap[fieldId].property;\n\n        var isMulti = util.isObject(prop.values);\n\n        /* convert to multi-type if we need to */\n        if (!isMulti) {\n            prop.values = [];\n            prop.values.push(prop.value);\n            prop.value = null;\n        }\n\n        /*\n         * now add new empty property and populate it onto the screen\n         *\n         * TODO-3: for performance we could do something simpler than 'populateEditNodePg' here, but for now we just\n         * rerendering the entire edit page.\n         */\n        prop.values.push(\"\");\n\n        this.populateEditNodePg();\n    }\n\n    /*\n     * Deletes the property of the specified name on the node being edited, but first gets confirmation from user\n     */\n    deleteProperty = (propName: string) => {\n      var thiz = this;\n      Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n          dlg.open();\n      }, {\n              \"title\": \"Confirm Delete\", \"message\": \"Delete the Property: \" + propName,\n              \"buttonText\": \"Yes, delete.\", \"yesCallback\":\n              function() {\n                  thiz.deletePropertyImmediate(propName);\n              }\n          });\n    }\n\n    deletePropertyImmediate = (propName: string) => {\n\n        var thiz = this;\n        util.json<I.DeletePropertyRequest, I.DeletePropertyResponse>(\"deleteProperty\", {\n            \"nodeId\": edit.editNode.id,\n            \"propName\": propName\n        }, function(res: I.DeletePropertyResponse) {\n            thiz.deletePropertyResponse(res, propName);\n        });\n    }\n\n    deletePropertyResponse = (res: any, propertyToDelete: any) => {\n\n        if (util.checkSuccess(\"Delete property\", res)) {\n\n            /*\n             * remove deleted property from client side data, so we can re-render screen without making another call to\n             * server\n             */\n            props.deletePropertyFromLocalData(propertyToDelete);\n\n            /* now just re-render screen from local variables */\n            meta64.treeDirty = true;\n\n            this.populateEditNodePg();\n        }\n    }\n\n    clearProperty = (fieldId: string): void => {\n        if (!cnst.USE_ACE_EDITOR) {\n            util.setInputVal(this.id(fieldId), \"\");\n        } else {\n            var editor = meta64.aceEditorsById[this.id(fieldId)];\n            if (editor) {\n                editor.setValue(\"\");\n            }\n        }\n\n        /* scan for all multi-value property fields and clear them */\n        var counter = 0;\n        while (counter < 1000) {\n            if (!cnst.USE_ACE_EDITOR) {\n                if (!util.setInputVal(this.id(fieldId + \"_subProp\" + counter), \"\")) {\n                    break;\n                }\n            } else {\n                var editor = meta64.aceEditorsById[this.id(fieldId + \"_subProp\" + counter)];\n                if (editor) {\n                    editor.setValue(\"\");\n                } else {\n                    break;\n                }\n            }\n            counter++;\n        }\n    }\n\n    /*\n     * for now just let server side choke on invalid things. It has enough security and validation to at least protect\n     * itself from any kind of damage.\n     */\n    saveNode = (): void => {\n        /*\n         * If editing an unsaved node it's time to run the insertNode, or createSubNode, which actually saves onto the\n         * server, and will initiate further editing like for properties, etc.\n         */\n        if (edit.editingUnsavedNode) {\n            console.log(\"saveNewNode.\");\n\n            // todo-0: need to make this compatible with Ace Editor.\n            this.saveNewNode();\n        }\n        /*\n         * Else we are editing a saved node, which is already saved on server.\n         */\n        else {\n            console.log(\"saveExistingNode.\");\n            this.saveExistingNode();\n        }\n    }\n\n    saveNewNode = (newNodeName?: string): void => {\n        if (!newNodeName) {\n            newNodeName = util.getInputVal(this.id(\"newNodeNameId\"));\n        }\n\n        /*\n         * If we didn't create the node we are inserting under, and neither did \"admin\", then we need to send notification\n         * email upon saving this new node.\n         */\n        if (meta64.userName != edit.parentOfNewNode.createdBy && //\n            edit.parentOfNewNode.createdBy != \"admin\") {\n            edit.sendNotificationPendingSave = true;\n        }\n\n        meta64.treeDirty = true;\n        if (edit.nodeInsertTarget) {\n            util.json<I.InsertNodeRequest, I.InsertNodeResponse>(\"insertNode\", {\n                \"parentId\": edit.parentOfNewNode.id,\n                \"targetName\": edit.nodeInsertTarget.name,\n                \"newNodeName\": newNodeName,\n                \"typeName\": this.typeName ? this.typeName : \"nt:unstructured\"\n            }, edit.insertNodeResponse, edit);\n        } else {\n            util.json<I.CreateSubNodeRequest, I.CreateSubNodeResponse>(\"createSubNode\", {\n                \"nodeId\": edit.parentOfNewNode.id,\n                \"newNodeName\": newNodeName,\n                \"typeName\": this.typeName ? this.typeName : \"nt:unstructured\",\n                \"createAtTop\": this.createAtTop\n            }, edit.createSubNodeResponse, edit);\n        }\n    }\n\n    saveExistingNode = (): void => {\n        console.log(\"saveExistingNode\");\n\n        /* holds list of properties to send to server. Each one having name+value properties */\n        var propertiesList = [];\n        var thiz = this;\n\n        $.each(this.propEntries, function(index: number, prop: any) {\n\n            console.log(\"--------------- Getting prop idx: \" + index);\n\n            /* Ignore this property if it's one that cannot be edited as text */\n            if (prop.readOnly || prop.binary)\n                return;\n\n            if (!prop.multi) {\n                console.log(\"Saving non-multi property field: \" + JSON.stringify(prop));\n\n                var propVal;\n\n                if (cnst.USE_ACE_EDITOR) {\n                    var editor = meta64.aceEditorsById[prop.id];\n                    if (!editor)\n                        throw \"Unable to find Ace Editor for ID: \" + prop.id;\n                    propVal = editor.getValue();\n                } else {\n                    propVal = util.getTextAreaValById(prop.id);\n                }\n\n                if (propVal !== prop.value) {\n                    console.log(\"Prop changed: propName=\" + prop.property.name + \" propVal=\" + propVal);\n                    propertiesList.push({\n                        \"name\": prop.property.name,\n                        \"value\": propVal\n                    });\n                } else {\n                    console.log(\"Prop didn't change: \" + prop.id);\n                }\n            }\n            /* Else this is a MULTI property */\n            else {\n                console.log(\"Saving multi property field: \" + JSON.stringify(prop));\n\n                var propVals = [];\n\n                $.each(prop.subProps, function(index, subProp) {\n\n                    console.log(\"subProp[\" + index + \"]: \" + JSON.stringify(subProp));\n\n                    var propVal;\n                    if (cnst.USE_ACE_EDITOR) {\n                        var editor = meta64.aceEditorsById[subProp.id];\n                        if (!editor)\n                            throw \"Unable to find Ace Editor for subProp ID: \" + subProp.id;\n                        propVal = editor.getValue();\n                        // alert(\"Setting[\" + propVal + \"]\");\n                    } else {\n                        propVal = util.getTextAreaValById(subProp.id);\n                    }\n\n                    console.log(\"    subProp[\" + index + \"] of \" + prop.name + \" val=\" + propVal);\n                    propVals.push(propVal);\n                });\n\n                propertiesList.push({\n                    \"name\": prop.name,\n                    \"values\": propVals\n                });\n            }\n\n        });// end iterator\n\n        /* if anything changed, save to server */\n        if (propertiesList.length > 0) {\n            var postData = {\n                nodeId: edit.editNode.id,\n                properties: propertiesList,\n                sendNotification: edit.sendNotificationPendingSave\n            };\n            console.log(\"calling saveNode(). PostData=\" + util.toJson(postData));\n            util.json<I.SaveNodeRequest, I.SaveNodeResponse>(\"saveNode\", postData, edit.saveNodeResponse, null, {\n                savedId: edit.editNode.id\n            });\n            edit.sendNotificationPendingSave = false;\n        } else {\n            console.log(\"nothing changed. Nothing to save.\");\n        }\n    }\n\n    makeMultiPropEditor = (propEntry: I.PropEntry): string => {\n        console.log(\"Making Multi Editor: Property multi-type: name=\" + propEntry.property.name + \" count=\"\n            + propEntry.property.values.length);\n        var fields = \"\";\n\n        propEntry.subProps = [];\n\n        var propList = propEntry.property.values;\n        if (!propList || propList.length == 0) {\n            propList = [];\n            propList.push(\"\");\n        }\n\n        for (var i = 0; i < propList.length; i++) {\n            console.log(\"prop multi-val[\" + i + \"]=\" + propList[i]);\n            var id = this.id(propEntry.id + \"_subProp\" + i);\n\n            var propVal = propEntry.binary ? \"[binary]\" : propList[i];\n            var propValStr = propVal || '';\n            propValStr = util.escapeForAttrib(propVal);\n            var label = (i == 0 ? propEntry.property.name : \"*\") + \".\" + i;\n\n            console.log(\"Creating textarea with id=\" + id);\n\n            let subProp: I.SubProp = new I.SubProp(id, propVal);\n            propEntry.subProps.push(subProp);\n\n            if (propEntry.binary || propEntry.readOnly) {\n                fields += render.tag(\"paper-textarea\", {\n                    \"id\": id,\n                    \"readonly\": \"readonly\",\n                    \"disabled\": \"disabled\",\n                    \"label\": label,\n                    \"value\": propValStr\n                }, '', true);\n            } else {\n                fields += render.tag(\"paper-textarea\", {\n                    \"id\": id,\n                    \"label\": label,\n                    \"value\": propValStr\n                }, '', true);\n            }\n        }\n\n        let col = render.tag(\"div\", {\n            \"style\": \"display: table-cell;\"\n        }, fields);\n\n        return col;\n    }\n\n    makeSinglePropEditor = (propEntry: I.PropEntry, aceFields: any): string => {\n        console.log(\"Property single-type: \" + propEntry.property.name);\n\n        var field = \"\";\n\n        var propVal = propEntry.binary ? \"[binary]\" : propEntry.property.value;\n        var label = render.sanitizePropertyName(propEntry.property.name);\n        var propValStr = propVal ? propVal : '';\n        propValStr = util.escapeForAttrib(propValStr);\n        console.log(\"making single prop editor: prop[\" + propEntry.property.name + \"] val[\" + propEntry.property.value\n            + \"] fieldId=\" + propEntry.id);\n\n        let propSelCheckbox: string = \"\";\n\n        if (propEntry.readOnly || propEntry.binary) {\n            field += render.tag(\"paper-textarea\", {\n                \"id\": propEntry.id,\n                \"readonly\": \"readonly\",\n                \"disabled\": \"disabled\",\n                \"label\": label,\n                \"value\": propValStr\n            }, \"\", true);\n        } else {\n            propSelCheckbox = this.makeCheckBox(\"\", \"selProp_\" + propEntry.id, false);\n\n            if (propEntry.property.name == jcrCnst.CONTENT) {\n                this.contentFieldDomId = propEntry.id;\n            }\n            if (!cnst.USE_ACE_EDITOR) {\n                field += render.tag(\"paper-textarea\", {\n                    \"id\": propEntry.id,\n                    \"label\": label,\n                    \"value\": propValStr\n                }, '', true);\n            } else {\n                field += render.tag(\"div\", {\n                    \"id\": propEntry.id,\n                    \"class\": \"ace-edit-panel\",\n                    \"html\": \"true\"\n                }, '', true);\n\n                aceFields.push({\n                    id: propEntry.id,\n                    val: propValStr\n                });\n            }\n        }\n\n        let selCol = render.tag(\"div\", {\n            \"style\": \"width: 40px; display: table-cell; padding: 10px;\"\n        }, propSelCheckbox);\n\n        let editCol = render.tag(\"div\", {\n            \"style\": \"width: 100%; display: table-cell; padding: 10px;\"\n        }, field);\n\n        return selCol + editCol;\n    }\n\n    deletePropertyButtonClick = (): void => {\n\n        /* Iterate over all properties */\n        for (let id in this.fieldIdToPropMap) {\n            if (this.fieldIdToPropMap.hasOwnProperty(id)) {\n\n                /* get PropEntry for this item */\n                let propEntry: I.PropEntry = this.fieldIdToPropMap[id];\n                if (propEntry) {\n                    //console.log(\"prop=\" + propEntry.property.name);\n                    let selPropDomId = \"selProp_\" + propEntry.id;\n\n                    /*\n                    Get checkbox control and its value\n                    todo-1: getting value of checkbox should be in some shared utility method\n                    */\n                    let selCheckbox = util.polyElm(this.id(selPropDomId));\n                    if (selCheckbox) {\n                        let checked: boolean = selCheckbox.node.checked;\n                        if (checked) {\n                            //console.log(\"prop IS CHECKED=\" + propEntry.property.name);\n                            this.deleteProperty(propEntry.property.name);\n\n                            /* for now lets' just support deleting one property at a time, and so we can return once we found a\n                            checked one to delete. Would be easy to extend to allow multiple-selects in the future */\n                            return;\n                        }\n                    }\n                }\n                else {\n                    throw \"propEntry not found for id: \" + id;\n                }\n            }\n        }\n        console.log(\"Delete property: \")\n    }\n\n    splitContent = (): void => {\n        let nodeBelow: I.NodeInfo = edit.getNodeBelow(edit.editNode);\n        util.json<I.SplitNodeRequest, I.SplitNodeResponse>(\"splitNode\", {\n            \"nodeId\": edit.editNode.id,\n            \"nodeBelowId\": (nodeBelow == null ? null : nodeBelow.id),\n            \"delimiter\": null\n        }, this.splitContentResponse);\n    }\n\n    splitContentResponse = (res: I.SplitNodeResponse): void => {\n        if (util.checkSuccess(\"Split content\", res)) {\n            this.cancel();\n            view.refreshTree(null, false);\n            meta64.selectTab(\"mainTabName\");\n            view.scrollToSelectedNode();\n        }\n    }\n\n    cancelEdit = (): void => {\n        this.cancel();\n        if (meta64.treeDirty) {\n            meta64.goToMainPage(true);\n        } else {\n            meta64.selectTab(\"mainTabName\");\n            view.scrollToSelectedNode();\n        }\n    }\n\n    init = (): void => {\n        console.log(\"EditNodeDlg.init\");\n        this.populateEditNodePg();\n        if (this.contentFieldDomId) {\n            util.delayedFocus(\"#\" + this.contentFieldDomId);\n        }\n    }\n}\n","console.log(\"EditPropertyDlgImpl.ts\");\n\nimport {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {EditPropertyDlg} from \"./EditPropertyDlg\";\nimport {cnst} from \"./Constants\";\nimport {render} from \"./Render\";\nimport {view} from \"./View\";\nimport {util} from \"./Util\";\nimport {edit} from \"./Edit\";\nimport {meta64} from \"./Meta64\";\nimport * as I from \"./Interfaces\";\n\n/*\n * Property Editor Dialog (Edits Node Properties)\n */\nexport default class EditPropertyDlgImpl extends DialogBaseImpl implements EditPropertyDlg {\n\n    constructor(private editNodeDlg: any) {\n        super(\"EditPropertyDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Edit Node Property\");\n\n        var savePropertyButton = this.makeCloseButton(\"Save\", \"savePropertyButton\", this.saveProperty, this);\n        var cancelEditButton = this.makeCloseButton(\"Cancel\", \"editPropertyPgCloseButton\");\n\n        var buttonBar = render.centeredButtonBar(savePropertyButton + cancelEditButton);\n\n        var internalMainContent = \"\";\n\n        if (cnst.SHOW_PATH_IN_DLGS) {\n            internalMainContent += \"<div id='\" + this.id(\"editPropertyPathDisplay\")\n                + \"' class='path-display-in-editor'></div>\";\n        }\n\n        internalMainContent += \"<div id='\" + this.id(\"addPropertyFieldContainer\") + \"'></div>\";\n\n        return header + internalMainContent + buttonBar;\n    }\n\n    populatePropertyEdit = (): void => {\n        var field = '';\n\n        /* Property Name Field */\n        {\n            var fieldPropNameId = \"addPropertyNameTextContent\";\n\n            field += render.tag(\"paper-textarea\", {\n                \"name\": fieldPropNameId,\n                \"id\": this.id(fieldPropNameId),\n                \"placeholder\": \"Enter property name\",\n                \"label\": \"Name\"\n            }, \"\", true);\n        }\n\n        /* Property Value Field */\n        {\n            var fieldPropValueId = \"addPropertyValueTextContent\";\n\n            field += render.tag(\"paper-textarea\", {\n                \"name\": fieldPropValueId,\n                \"id\": this.id(fieldPropValueId),\n                \"placeholder\": \"Enter property text\",\n                \"label\": \"Value\"\n            }, \"\", true);\n        }\n\n        /* display the node path at the top of the edit page */\n        view.initEditPathDisplayById(this.id(\"editPropertyPathDisplay\"));\n\n        util.setHtml(this.id(\"addPropertyFieldContainer\"), field);\n    }\n\n    saveProperty = (): void => {\n        var propertyNameData = util.getInputVal(this.id(\"addPropertyNameTextContent\"));\n        var propertyValueData = util.getInputVal(this.id(\"addPropertyValueTextContent\"));\n\n        var postData = {\n            nodeId: edit.editNode.id,\n            propertyName: propertyNameData,\n            propertyValue: propertyValueData\n        };\n        util.json<I.SavePropertyRequest, I.SavePropertyResponse>(\"saveProperty\", postData, this.savePropertyResponse, this);\n    }\n\n    savePropertyResponse = (res: I.SavePropertyResponse): void => {\n        util.checkSuccess(\"Save properties\", res);\n\n        edit.editNode.properties.push(res.propertySaved);\n        meta64.treeDirty = true;\n\n        // if (this.editNodeDlg.domId != \"EditNodeDlg\") {\n        //     console.log(\"error: incorrect object for EditNodeDlg\");\n        // }\n        this.editNodeDlg.populateEditNodePg();\n    }\n\n    init = (): void => {\n        this.populatePropertyEdit();\n    }\n}\n","console.log(\"EditSystemFileDlg.ts\");\n\nimport {DialogBase} from \"./DialogBase\";\n\nexport interface EditSystemFileDlg extends DialogBase {\n}\n","console.log(\"EditSystemFileDlgImpl.ts\");\n\nimport {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {EditSystemFileDlg} from \"./EditSystemFileDlg\";\n\n/* I commented this code out when i transitioned over to ES6 modules, but since this is not a core feature\ni haven't re-enabled it yet */\nexport default class EditSystemFileDlgImpl extends DialogBaseImpl implements EditSystemFileDlg {\n  //\n  //   constructor(private fileName: string) {\n  //       super(\"EditSystemFileDlg\");\n  //   }\n  //\n  //   /*\n  //    * Returns a string that is the HTML content of the dialog\n  //    */\n  //   build = (): string => {\n  //       let content: string = \"<h2>File Editor: \" + this.fileName + \"</h2>\";\n  //\n  //       let buttons = this.makeCloseButton(\"Save\", \"SaveFileButton\", this.saveEdit)\n  //           + this.makeCloseButton(\"Cancel\", \"CancelFileEditButton\", this.cancelEdit);\n  //       content += render.centeredButtonBar(buttons);\n  //\n  //       return content;\n  //   }\n  //\n  //   saveEdit = (): void => {\n  //       console.log(\"save.\");\n  //   }\n  //\n  //   cancelEdit = (): void => {\n  //       console.log(\"cancel.\");\n  //   }\n  //\n  //   init = (): void => {\n  //   }\n}\n","console.log(\"ExportDlgImpl.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { ExportDlg } from \"./ExportDlg\";\nimport { render } from \"./Render\";\nimport { util } from \"./Util\";\nimport { meta64 } from \"./Meta64\";\nimport * as I from \"./Interfaces\";\nimport { view } from \"./View\";\nimport { Factory } from \"./Factory\";\nimport { MessageDlg } from \"./MessageDlg\";\n\n\nexport default class ExportDlgImpl extends DialogBaseImpl implements ExportDlg {\n    constructor() {\n        super(\"ExportDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Export to XML\");\n\n        var formControls = this.makeEditField(\"Export to File Name\", \"exportTargetNodeName\");\n\n        var exportButton = this.makeButton(\"Export\", \"exportNodesButton\", this.exportNodes);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelExportButton\");\n        var buttonBar = render.centeredButtonBar(exportButton + backButton);\n\n        return header + formControls + buttonBar;\n    }\n\n    exportNodes = (): void => {\n        var highlightNode = meta64.getHighlightedNode();\n        var targetFileName = this.getInputVal(\"exportTargetNodeName\");\n\n        if (util.emptyString(targetFileName)) {\n            Factory.createDefault(\"MessageDlgImpl\", (dlg: MessageDlg) => {\n                dlg.open();\n            }, { \"message\": \"Please enter a name for the export file.\" });\n            return;\n        }\n\n        if (highlightNode) {\n            util.json<I.ExportRequest, I.ExportResponse>(\"exportToXml\", {\n                \"nodeId\": highlightNode.id,\n                \"targetFileName\": targetFileName\n            }, this.exportResponse, this);\n        }\n    }\n\n    exportResponse = (res: I.ExportResponse): void => {\n        if (util.checkSuccess(\"Export\", res)) {\n            Factory.createDefault(\"MessageDlgImpl\", (dlg: MessageDlg) => {\n                dlg.open();\n            }, { \"message\": \"Export successful.\" });\n            meta64.selectTab(\"mainTabName\");\n            view.scrollToSelectedNode();\n        }\n    }\n}\n","console.log(\"ImportDlgImpl.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { ImportDlg } from \"./ImportDlg\";\nimport { render } from \"./Render\";\nimport { util } from \"./Util\";\nimport { meta64 } from \"./Meta64\";\nimport * as I from \"./Interfaces\";\nimport { view } from \"./View\";\nimport { Factory } from \"./Factory\";\nimport { MessageDlg } from \"./MessageDlg\";\n\nexport default class ImportDlgImpl extends DialogBaseImpl implements ImportDlg {\n    constructor() {\n        super(\"ImportDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Import from XML\");\n\n        var formControls = this.makeEditField(\"File name to import\", \"sourceFileName\");\n\n        var importButton = this.makeButton(\"Import\", \"importNodesButton\", this.importNodes);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelImportButton\");\n        var buttonBar = render.centeredButtonBar(importButton + backButton);\n\n        return header + formControls + buttonBar;\n    }\n\n    importNodes = (): void => {\n        var highlightNode = meta64.getHighlightedNode();\n        var sourceFileName = this.getInputVal(\"sourceFileName\");\n\n        if (util.emptyString(sourceFileName)) {\n            Factory.createDefault(\"MessageDlgImpl\", (dlg: MessageDlg) => {\n                dlg.open();\n            }, { \"message\": \"Please enter a name for the import file.\" });\n\n            return;\n        }\n\n        if (highlightNode) {\n            util.json<I.ImportRequest, I.ImportResponse>(\"import\", {\n                \"nodeId\": highlightNode.id,\n                \"sourceFileName\": sourceFileName\n            }, this.importResponse, this);\n        }\n    }\n\n    importResponse = (res: I.ImportResponse): void => {\n        if (util.checkSuccess(\"Import\", res)) {\n            Factory.createDefault(\"MessageDlgImpl\", (dlg: MessageDlg) => {\n                dlg.open();\n            }, { \"message\": \"Import Successful\" });\n            view.refreshTree(null, false);\n            meta64.selectTab(\"mainTabName\");\n            view.scrollToSelectedNode();\n        }\n    }\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface ResetPasswordDlg extends DialogBase {\n}\n","console.log(\"LoginDlg.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { LoginDlg } from \"./LoginDlg\";\nimport { ConfirmDlg } from \"./ConfirmDlg\";\nimport { ResetPasswordDlg } from \"./ResetPasswordDlg\";\nimport { render } from \"./Render\";\nimport { user } from \"./User\";\nimport { cnst } from \"./Constants\";\nimport { Factory } from \"./Factory\";\n\n\n\nexport default class LoginDlgImpl extends DialogBaseImpl implements LoginDlg {\n    constructor(paramsTest: Object) {\n        super(\"LoginDlgImpl\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Login\");\n\n        var formControls = this.makeEditField(\"User\", \"userName\") + //\n            this.makePasswordField(\"Password\", \"password\");\n\n        var loginButton = this.makeButton(\"Login\", \"loginButton\", this.login);\n        var resetPasswordButton = this.makeButton(\"Forgot Password\", \"resetPasswordButton\", this.resetPassword);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelLoginButton\");\n        var buttonBar = render.centeredButtonBar(loginButton + resetPasswordButton + backButton);\n        var divider = \"<div><h3>Or Login With...</h3></div>\";\n\n        var form = formControls + buttonBar;\n\n        var mainContent = form;\n        var content = header + mainContent;\n\n        this.bindEnterKey(\"userName\", user.login);\n        this.bindEnterKey(\"password\", user.login);\n        return content;\n    }\n\n    init = (): void => {\n        this.populateFromCookies();\n    }\n\n    populateFromCookies = (): void => {\n        var usr = $.cookie(cnst.COOKIE_LOGIN_USR);\n        var pwd = $.cookie(cnst.COOKIE_LOGIN_PWD);\n\n        if (usr) {\n            this.setInputVal(\"userName\", usr);\n        }\n        if (pwd) {\n            this.setInputVal(\"password\", pwd);\n        }\n    }\n\n    login = (): void => {\n\n        var usr = this.getInputVal(\"userName\");\n        var pwd = this.getInputVal(\"password\");\n\n        user.login(this, usr, pwd);\n    }\n\n    resetPassword = (): any => {\n        var thiz = this;\n        var usr = this.getInputVal(\"userName\");\n\n        Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n            dlg.open();\n        }, {\n                \"title\": \"Confirm Reset Password\",\n                \"message\": \"Reset your password ?<p>You'll still be able to login with your old password until the new one is set.\",\n                \"buttonText\": \"Yes, reset.\", \"yesCallback\":\n                function() {\n                    thiz.cancel();\n                    Factory.createDefault(\"ResetPasswordDlgImpl\", (dlg: ResetPasswordDlg) => {\n                        dlg.open();\n                    }, { \"user\": usr });\n                }\n            });\n    }\n}\n","console.log(\"ManageAccountDlgImpl.ts\");\n\nimport {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {ManageAccountDlg} from \"./ManageAccountDlg\";\nimport {render} from \"./Render\";\nimport {meta64} from \"./Meta64\";\nimport {prefs} from \"./Prefs\";\n\nexport default class ManageAccountDlgImpl extends DialogBaseImpl implements ManageAccountDlg {\n\n    constructor() {\n        super(\"ManageAccountDlg\");\n    }\n\n    closeAccount = (): void => {\n        prefs.closeAccount();\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Manage Account\");\n\n        var backButton = this.makeCloseButton(\"Cancel\", \"cancelPreferencesDlgButton\");\n        var closeAccountButton = meta64.isAdminUser ? \"Admin Cannot Close Acount\" : this.makeButton(\"Close Account\", \"closeAccountButton\", this.closeAccount);\n\n        var buttonBar = render.centeredButtonBar(closeAccountButton);\n\n        var bottomButtonBar = render.centeredButtonBar(backButton);\n        var bottomButtonBarDiv = render.tag(\"div\", {\n            \"class\": \"close-account-bar\"\n        }, bottomButtonBar);\n\n        return header + buttonBar + bottomButtonBarDiv;\n    }\n}\n","console.log(\"MessageDlgImpl.ts\");\n\nimport { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { MessageDlg } from \"./MessageDlg\";\nimport { render } from \"./Render\";\n\n/*\n * Callback can be null if you don't need to run any function when the dialog is closed\n */\nexport default class MessageDlgImpl extends DialogBaseImpl implements MessageDlg {\n\n    private message: any;\n    private title: any;\n    private callback: any;\n\n    constructor(args:Object) {\n        super(\"MessageDlg\");\n\n        if (!(<any>args).title) {\n            this.title = \"Message\";\n        }\n        this.title = (<any>args).title;\n        this.message = (<any>args).message;\n        this.callback = (<any>args).callback;\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var content = this.makeHeader(this.title) + \"<p>\" + this.message + \"</p>\";\n        content += render.centeredButtonBar(this.makeCloseButton(\"Ok\", \"messageDlgOkButton\", this.callback));\n        return content;\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {PrefsDlg} from \"./PrefsDlg\";\nimport {render} from \"./Render\";\nimport {meta64} from \"./Meta64\";\nimport {util} from \"./Util\";\nimport * as I from \"./Interfaces\";\n\ndeclare var Polymer;\n\nexport default class PrefsDlgImpl  extends DialogBaseImpl implements PrefsDlg {\n    constructor() {\n        super(\"PrefsDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Peferences\");\n\n        var radioButtons = this.makeRadioButton(\"Simple\", \"editModeSimple\") + //\n            this.makeRadioButton(\"Advanced\", \"editModeAdvanced\");\n\n        var radioButtonGroup = render.tag(\"paper-radio-group\", {\n            \"id\": this.id(\"simpleModeRadioGroup\"),\n            \"selected\": this.id(\"editModeSimple\")\n        }, radioButtons);\n\n        let showMetaDataCheckBox = this.makeCheckBox(\"Show Row Metadata\", \"showMetaData\", meta64.showMetaData);\n        var checkboxBar = render.makeHorzControlGroup(showMetaDataCheckBox);\n\n        var formControls = radioButtonGroup;\n\n        var legend = \"<legend>Edit Mode:</legend>\";\n        var radioBar = render.makeHorzControlGroup(legend + formControls);\n\n        var saveButton = this.makeCloseButton(\"Save\", \"savePreferencesButton\", this.savePreferences, this);\n        var backButton = this.makeCloseButton(\"Cancel\", \"cancelPreferencesDlgButton\");\n\n        var buttonBar = render.centeredButtonBar(saveButton + backButton);\n        return header + radioBar + checkboxBar + buttonBar;\n    }\n\n    savePreferences = (): void => {\n        var polyElm = util.polyElm(this.id(\"simpleModeRadioGroup\"));\n        meta64.editModeOption = polyElm.node.selected == this.id(\"editModeSimple\") ? meta64.MODE_SIMPLE\n            : meta64.MODE_ADVANCED;\n\n        let showMetaDataCheckbox = util.polyElm(this.id(\"showMetaData\"));\n        meta64.showMetaData = showMetaDataCheckbox.node.checked;\n\n        util.json<I.SaveUserPreferencesRequest, I.SaveUserPreferencesResponse>(\"saveUserPreferences\", {\n            //todo-1: both of these options should come from meta64.userPrefernces, and not be stored directly on meta64 scope.\n            \"userPreferences\": {\n                \"advancedMode\": meta64.editModeOption === meta64.MODE_ADVANCED,\n                \"editMode\": meta64.userPreferences.editMode,\n                /* todo-1: how can I flag a property as optional in TypeScript generator ? Would be probably some kind of json/jackson @required annotation */\n                \"lastNode\": null,\n                \"importAllowed\": false,\n                \"exportAllowed\": false,\n                \"showMetaData\": meta64.showMetaData\n            }\n        }, this.savePreferencesResponse, this);\n    }\n\n    savePreferencesResponse = (res: I.SaveUserPreferencesResponse): void => {\n        if (util.checkSuccess(\"Saving Preferences\", res)) {\n            meta64.selectTab(\"mainTabName\");\n            meta64.refresh();\n            // todo-2: try and maintain scroll position ? this is going to be async, so watch out.\n            // view.scrollToSelectedNode();\n        }\n    }\n\n    init = (): void => {\n        var polyElm = util.polyElm(this.id(\"simpleModeRadioGroup\"));\n        polyElm.node.select(meta64.editModeOption == meta64.MODE_SIMPLE ? this.id(\"editModeSimple\") : this\n            .id(\"editModeAdvanced\"));\n\n        //todo-1: put these two lines in a utility method\n        polyElm = util.polyElm(this.id(\"showMetaData\"));\n        polyElm.node.checked = meta64.showMetaData;\n\n        Polymer.dom.flush();\n    }\n}\n","console.log(\"ProgressDlgImpl.ts\");\n\nimport {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {ProgressDlg} from \"./ProgressDlg\";\nimport {render} from  \"./Render\";\n\nexport default class ProgressDlgImpl extends DialogBaseImpl implements ProgressDlg {\n\n    constructor() {\n        super(\"ProgressDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Processing Request\", \"\", true);\n\n        var progressBar = render.tag(\"paper-progress\", {\n            \"indeterminate\": \"indeterminate\",\n            \"value\": \"800\",\n            \"min\": \"100\",\n            \"max\": \"1000\"\n        });\n\n        var barContainer = render.tag(\"div\", {\n            \"style\": \"width:280px; margin: 0 auto; margin-top:24px; margin-bottom:24px;\",\n            \"class\": \"horizontal center-justified layout\"\n        }, progressBar);\n\n        return header + barContainer;\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {RenameNodeDlg} from \"./RenameNodeDlg\";\nimport {render} from \"./Render\";\nimport {util} from \"./Util\";\nimport {meta64} from \"./Meta64\";\nimport {edit} from \"./Edit\";\nimport {view} from \"./View\";\nimport * as I from \"./Interfaces\";\n\nexport default class RenameNodeDlgImpl  extends DialogBaseImpl implements RenameNodeDlg {\n    constructor(args:Object) {\n        super(\"RenameNodeDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Rename Node\");\n\n        var curNodeNameDisplay = \"<h3 id='\" + this.id(\"curNodeNameDisplay\") + \"'></h3>\";\n        var curNodePathDisplay = \"<h4 class='path-display' id='\" + this.id(\"curNodePathDisplay\") + \"'></h4>\";\n\n        var formControls = this.makeEditField(\"Enter new name for the node\", \"newNodeNameEditField\");\n\n        var renameNodeButton = this.makeCloseButton(\"Rename\", \"renameNodeButton\", this.renameNode, this);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelRenameNodeButton\");\n        var buttonBar = render.centeredButtonBar(renameNodeButton + backButton);\n\n        return header + curNodeNameDisplay + curNodePathDisplay + formControls + buttonBar;\n    }\n\n    renameNode = (): void => {\n        var newName = this.getInputVal(\"newNodeNameEditField\");\n\n        if (util.emptyString(newName)) {\n            util.showMessage(\"Please enter a new node name.\");\n            return;\n        }\n\n        var highlightNode = meta64.getHighlightedNode();\n        if (!highlightNode) {\n            util.showMessage(\"Select a node to rename.\");\n            return;\n        }\n\n        /* if no node below this node, returns null */\n        var nodeBelow = edit.getNodeBelow(highlightNode);\n\n        var renamingRootNode = (highlightNode.id === meta64.currentNodeId);\n\n        var thiz = this;\n        util.json<I.RenameNodeRequest, I.RenameNodeResponse>(\"renameNode\", {\n            \"nodeId\": highlightNode.id,\n            \"newName\": newName\n        }, function(res: I.RenameNodeResponse) {\n            thiz.renameNodeResponse(res, renamingRootNode);\n        });\n    }\n\n    renameNodeResponse = (res: I.RenameNodeResponse, renamingPageRoot: boolean): void => {\n        if (util.checkSuccess(\"Rename node\", res)) {\n            if (renamingPageRoot) {\n                view.refreshTree(res.newId, true);\n            } else {\n                view.refreshTree(null, false, res.newId);\n            }\n            // meta64.selectTab(\"mainTabName\");\n        }\n    }\n\n    init = (): void => {\n        var highlightNode = meta64.getHighlightedNode();\n        if (!highlightNode) {\n            return;\n        }\n        $(\"#\" + this.id(\"curNodeNameDisplay\")).html(\"Name: \" + highlightNode.name);\n        $(\"#\" + this.id(\"curNodePathDisplay\")).html(\"Path: \" + highlightNode.path);\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {ResetPasswordDlg} from \"./ResetPasswordDlg\";\nimport {render} from \"./Render\";\nimport {util} from \"./Util\";\nimport * as I from \"./Interfaces\";\n\nexport default class ResetPasswordDlgImpl extends DialogBaseImpl implements ResetPasswordDlg {\n\n    private user:string;\n\n    constructor(args:Object) {\n        super(\"ResetPasswordDlg\");\n        this.user = (<any>args).user;\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Reset Password\");\n\n        var message = this.makeMessageArea(\"Enter your user name and email address and a change-password link will be sent to you\");\n\n        var formControls = this.makeEditField(\"User\", \"userName\") + //\n            this.makeEditField(\"Email Address\", \"emailAddress\");\n\n        var resetPasswordButton = this.makeCloseButton(\"Reset my Password\", \"resetPasswordButton\",\n            this.resetPassword, this);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelResetPasswordButton\");\n\n        var buttonBar = render.centeredButtonBar(resetPasswordButton + backButton);\n\n        return header + message + formControls + buttonBar;\n    }\n\n    resetPassword = (): void => {\n\n        var userName = this.getInputVal(\"userName\").trim();\n        var emailAddress = this.getInputVal(\"emailAddress\").trim();\n\n        if (userName && emailAddress) {\n            util.json<I.ResetPasswordRequest, I.ResetPasswordResponse>(\"resetPassword\", {\n                \"user\": userName,\n                \"email\": emailAddress\n            }, this.resetPasswordResponse, this);\n        } else {\n            util.showMessage(\"Oops. Try that again.\");\n        }\n    }\n\n    resetPasswordResponse = (res: I.ResetPasswordResponse): void => {\n        if (util.checkSuccess(\"Reset password\", res)) {\n            util.showMessage(\"Password reset email was sent. Check your inbox.\");\n        }\n    }\n\n    init = (): void => {\n        if (this.user) {\n            this.setInputVal(\"userName\", this.user);\n        }\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {SearchContentDlg} from \"./SearchContentDlg\";\nimport {render} from \"./Render\";\nimport {util} from \"./Util\";\nimport * as I from \"./Interfaces\";\nimport {srch} from \"./Search\";\nimport {jcrCnst} from \"./Constants\";\nimport {meta64} from \"./Meta64\";\n\nexport default class SearchContentDlgImpl  extends DialogBaseImpl implements SearchContentDlg {\n\n    constructor() {\n        super(\"SearchContentDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Search Content\");\n\n        var instructions = this.makeMessageArea(\"Enter some text to find. Only content text will be searched. All sub-nodes under the selected node are included in the search.\");\n        var formControls = this.makeEditField(\"Search\", \"searchText\");\n\n        var searchButton = this.makeCloseButton(\"Search\", \"searchNodesButton\", this.searchNodes, this);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelSearchButton\");\n        var buttonBar = render.centeredButtonBar(searchButton + backButton);\n\n        var content = header + instructions + formControls + buttonBar;\n        this.bindEnterKey(\"searchText\", srch.searchNodes)\n        return content;\n    }\n\n    searchNodes = (): void => {\n        return this.searchProperty(jcrCnst.CONTENT);\n    }\n\n    searchProperty = (searchProp: string) => {\n        if (!util.ajaxReady(\"searchNodes\")) {\n            return;\n        }\n\n        // until i get better validation\n        var node = meta64.getHighlightedNode();\n        if (!node) {\n            util.showMessage(\"No node is selected to search under.\");\n            return;\n        }\n\n        // until better validation\n        var searchText = this.getInputVal(\"searchText\");\n        if (util.emptyString(searchText)) {\n            util.showMessage(\"Enter search text.\");\n            return;\n        }\n\n        util.json<I.NodeSearchRequest, I.NodeSearchResponse>(\"nodeSearch\", {\n            \"nodeId\": node.id,\n            \"searchText\": searchText,\n            \"sortDir\": \"\",\n            \"sortField\": \"\",\n            \"searchProp\": searchProp\n        }, srch.searchNodesResponse, srch);\n    }\n\n    init = (): void => {\n        //util.delayedFocus(this.id(\"searchText\"));\n        this.focus(\"searchText\");\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {SearchFilesDlg} from \"./SearchFilesDlg\";\n\nexport default class SearchFilesDlgImpl extends DialogBaseImpl implements SearchFilesDlg {\n  //\n  //   constructor(private lucene: boolean) {\n  //       super(\"SearchFilesDlg\");\n  //   }\n  //\n  //   /*\n  //    * Returns a string that is the HTML content of the dialog\n  //    */\n  //   build = (): string => {\n  //       var header = this.makeHeader(\"Search Files\");\n  //\n  //       var instructions = this.makeMessageArea(\"Enter some text to find.\");\n  //       var formControls = this.makeEditField(\"Search\", \"searchText\");\n  //\n  //       var searchButton = this.makeCloseButton(\"Search\", \"searchButton\", this.searchTags, this);\n  //       var backButton = this.makeCloseButton(\"Close\", \"cancelSearchButton\");\n  //       var buttonBar = render.centeredButtonBar(searchButton + backButton);\n  //\n  //       var content = header + instructions + formControls + buttonBar;\n  //       this.bindEnterKey(\"searchText\", srch.searchNodes)\n  //       return content;\n  //   }\n  //\n  //   searchTags = (): void => {\n  //       return this.searchProperty(jcrCnst.TAGS);\n  //   }\n  //\n  //   searchProperty = (searchProp: any) => {\n  //       if (!util.ajaxReady(\"searchFiles\")) {\n  //           return;\n  //       }\n  //\n  //       // until i get better validation\n  //       var node = meta64.getHighlightedNode();\n  //       if (!node) {\n  //           (new MessageDlg(\"No node is selected to search under.\")).open();\n  //           return;\n  //       }\n  //\n  //       // until better validation\n  //       var searchText = this.getInputVal(\"searchText\");\n  //       if (util.emptyString(searchText)) {\n  //           (new MessageDlg(\"Enter search text.\")).open();\n  //           return;\n  //       }\n  //\n  //       let nodeId: string = null;\n  //       let selNode: NodeInfo = meta64.getHighlightedNode();\n  //       if (selNode) {\n  //           nodeId = selNode.id;\n  //       }\n  //\n  //       util.json<FileSearchRequest, FileSearchResponse>(\"fileSearch\", {\n  //           \"nodeId\": nodeId,\n  //           \"reindex\": false,\n  //           \"searchText\": searchText\n  //       }, srch.searchFilesResponse, srch);\n  //   }\n  //\n  //   init = (): void => {\n  //       util.delayedFocus(this.id(\"searchText\"));\n  //   }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {SearchTagsDlg} from \"./SearchTagsDlg\";\nimport {srch} from \"./Search\";\nimport {render} from \"./Render\";\nimport {jcrCnst} from \"./Constants\";\nimport {util} from \"./Util\";\nimport {meta64} from \"./Meta64\";\nimport * as I from \"./Interfaces\";\n\nexport default class SearchTagsDlgImpl  extends DialogBaseImpl implements SearchTagsDlg {\n\n    constructor() {\n        super(\"SearchTagsDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Search Tags\");\n\n        var instructions = this.makeMessageArea(\"Enter some text to find. Only tags text will be searched. All sub-nodes under the selected node are included in the search.\");\n        var formControls = this.makeEditField(\"Search\", \"searchText\");\n\n        var searchButton = this.makeCloseButton(\"Search\", \"searchNodesButton\", this.searchTags, this);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelSearchButton\");\n        var buttonBar = render.centeredButtonBar(searchButton + backButton);\n\n        var content = header + instructions + formControls + buttonBar;\n        this.bindEnterKey(\"searchText\", srch.searchNodes)\n        return content;\n    }\n\n    searchTags = (): void => {\n        return this.searchProperty(jcrCnst.TAGS);\n    }\n\n    searchProperty = (searchProp: any) => {\n        if (!util.ajaxReady(\"searchNodes\")) {\n            return;\n        }\n\n        // until i get better validation\n        var node = meta64.getHighlightedNode();\n        if (!node) {\n            util.showMessage(\"No node is selected to search under.\");\n            return;\n        }\n\n        // until better validation\n        var searchText = this.getInputVal(\"searchText\");\n        if (util.emptyString(searchText)) {\n            util.showMessage(\"Enter search text.\");\n            return;\n        }\n\n        util.json<I.NodeSearchRequest, I.NodeSearchResponse>(\"nodeSearch\", {\n            \"nodeId\": node.id,\n            \"searchText\": searchText,\n            \"sortDir\": \"\",\n            \"sortField\": \"\",\n            \"searchProp\": searchProp\n        }, srch.searchNodesResponse, srch);\n    }\n\n    init = (): void => {\n        util.delayedFocus(this.id(\"searchText\"));\n    }\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface ShareToPersonDlg extends DialogBase {\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {ShareToPersonDlg} from \"./ShareToPersonDlg\";\nimport {share} from \"./Share\";\nimport {util} from \"./Util\";\nimport {render} from \"./Render\";\nimport {meta64} from \"./Meta64\";\nimport * as I from \"./Interfaces\";\nimport {Factory} from \"./Factory\";\nimport {SharingDlg} from \"./SharingDlg\";\n\nexport default class ShareToPersonDlgImpl  extends DialogBaseImpl implements ShareToPersonDlg {\n\n    constructor() {\n        super(\"ShareToPersonDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Share Node to Person\");\n\n        var formControls = this.makeEditField(\"User to Share With\", \"shareToUserName\");\n        var shareButton = this.makeCloseButton(\"Share\", \"shareNodeToPersonButton\", this.shareNodeToPerson,\n            this);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelShareNodeToPersonButton\");\n        var buttonBar = render.centeredButtonBar(shareButton + backButton);\n\n        return header + \"<p>Enter the username of the person you want to share this node with:</p>\" + formControls\n            + buttonBar;\n    }\n\n    shareNodeToPerson = (): void => {\n        var targetUser = this.getInputVal(\"shareToUserName\");\n        if (!targetUser) {\n            util.showMessage(\"Please enter a username\");\n            return;\n        }\n\n        /*\n         * Trigger going to server at next main page refresh\n         */\n        meta64.treeDirty = true;\n        var thiz = this;\n        util.json<I.AddPrivilegeRequest, I.AddPrivilegeResponse>(\"addPrivilege\", {\n            \"nodeId\": share.sharingNode.id,\n            \"principal\": targetUser,\n            \"privileges\": [\"read\", \"write\", \"addChildren\", \"nodeTypeManagement\"],\n            \"publicAppend\": false\n        }, thiz.reloadFromShareWithPerson, thiz);\n    }\n\n    reloadFromShareWithPerson = (res: I.AddPrivilegeResponse): void => {\n        if (util.checkSuccess(\"Share Node with Person\", res)) {\n            Factory.createDefault(\"SharingDlgImpl\", (dlg:SharingDlg) => {\n              dlg.open();\n            });\n        }\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {SharingDlg} from \"./SharingDlg\";\nimport {share} from \"./Share\";\nimport {util} from \"./Util\";\nimport {render} from \"./Render\";\nimport {meta64} from \"./Meta64\";\nimport * as I from \"./Interfaces\";\nimport {Factory} from \"./Factory\";\nimport {ShareToPersonDlg} from \"./ShareToPersonDlg\";\n\nexport default class SharingDlgImpl extends DialogBaseImpl implements SharingDlg {\n\n    constructor() {\n        super(\"SharingDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Node Sharing\");\n\n        var shareWithPersonButton = this.makeButton(\"Share with Person\", \"shareNodeToPersonPgButton\",\n            this.shareNodeToPersonPg);\n        var makePublicButton = this.makeButton(\"Share to Public\", \"shareNodeToPublicButton\", this.shareNodeToPublic);\n        var backButton = this.makeCloseButton(\"Close\", \"closeSharingButton\");\n\n        var buttonBar = render.centeredButtonBar(shareWithPersonButton + makePublicButton + backButton);\n\n        var width = window.innerWidth * 0.6;\n        var height = window.innerHeight * 0.4;\n\n        var internalMainContent = \"<div id='\" + this.id(\"shareNodeNameDisplay\") + \"'></div>\" + //\n            \"<div class='vertical-layout-row' style=\\\"width:\" + width + \"px;height:\" + height + \"px;overflow:scroll;border:4px solid lightGray;\\\" id='\"\n            + this.id(\"sharingListFieldContainer\") + \"'></div>\";\n\n        return header + internalMainContent + buttonBar;\n    }\n\n    init = (): void => {\n        this.reload();\n    }\n\n    /*\n     * Gets privileges from server and displays in GUI also. Assumes gui is already at correct page.\n     */\n    reload = (): void => {\n        console.log(\"Loading node sharing info.\");\n\n        util.json<I.GetNodePrivilegesRequest, I.GetNodePrivilegesResponse>(\"getNodePrivileges\", {\n            \"nodeId\": share.sharingNode.id,\n            \"includeAcl\": true,\n            \"includeOwners\": true\n        }, this.getNodePrivilegesResponse, this);\n    }\n\n    /*\n     * Handles getNodePrivileges response.\n     *\n     * res=json of GetNodePrivilegesResponse.java\n     *\n     * res.aclEntries = list of AccessControlEntryInfo.java json objects\n     */\n    getNodePrivilegesResponse = (res: I.GetNodePrivilegesResponse): void => {\n        this.populateSharingPg(res);\n    }\n\n    /*\n     * Processes the response gotten back from the server containing ACL info so we can populate the sharing page in the gui\n     */\n    populateSharingPg = (res: I.GetNodePrivilegesResponse): void => {\n        var html = \"\";\n        var This = this;\n\n        $.each(res.aclEntries, function(index, aclEntry) {\n            html += \"<h4>User: \" + aclEntry.principalName + \"</h4>\";\n            html += render.tag(\"div\", {\n                \"class\": \"privilege-list\"\n            }, This.renderAclPrivileges(aclEntry.principalName, aclEntry));\n        });\n\n        var publicAppendAttrs = {\n            \"onClick\": \"meta64.getObjectByGuid(\" + this.guid + \").publicCommentingChanged();\",\n            \"name\": \"allowPublicCommenting\",\n            \"id\": this.id(\"allowPublicCommenting\")\n        };\n\n        if (res.publicAppend) {\n            publicAppendAttrs[\"checked\"] = \"checked\";\n        }\n\n        /* todo: use actual polymer paper-checkbox here */\n        html += render.tag(\"paper-checkbox\", publicAppendAttrs, \"\", false);\n\n        html += render.tag(\"label\", {\n            \"for\": this.id(\"allowPublicCommenting\")\n        }, \"Allow public commenting under this node.\", true);\n\n        util.setHtml(this.id(\"sharingListFieldContainer\"), html);\n    }\n\n    publicCommentingChanged = (): void => {\n        /*\n         * Using onClick on the element AND this timeout is the only hack I could find to get get what amounts to a state\n         * change listener on a paper-checkbox. The documented on-change listener simply doesn't work and appears to be\n         * simply a bug in google code AFAIK.\n         */\n        var thiz = this;\n        setTimeout(function() {\n            var polyElm = util.polyElm(thiz.id(\"allowPublicCommenting\"));\n\n            meta64.treeDirty = true;\n\n            util.json<I.AddPrivilegeRequest, I.AddPrivilegeResponse>(\"addPrivilege\", {\n                \"nodeId\": share.sharingNode.id,\n                \"privileges\": null,\n                \"principal\": null,\n                \"publicAppend\": (polyElm.node.checked ? true : false)\n            });\n\n        }, 250);\n    }\n\n    removePrivilege = (principal: string, privilege: string): void => {\n        /*\n         * Trigger going to server at next main page refresh\n         */\n        meta64.treeDirty = true;\n\n        util.json<I.RemovePrivilegeRequest, I.RemovePrivilegeResponse>(\"removePrivilege\", {\n            \"nodeId\": share.sharingNode.id,\n            \"principal\": principal,\n            \"privilege\": privilege\n        }, this.removePrivilegeResponse, this);\n    }\n\n    removePrivilegeResponse = (res: I.RemovePrivilegeResponse): void => {\n\n        util.json<I.GetNodePrivilegesRequest, I.GetNodePrivilegesResponse>(\"getNodePrivileges\", {\n            \"nodeId\": share.sharingNode.path,\n            \"includeAcl\": true,\n            \"includeOwners\": true\n        }, this.getNodePrivilegesResponse, this);\n    }\n\n    renderAclPrivileges = (principal: any, aclEntry: any): string => {\n        var ret = \"\";\n        var thiz = this;\n        $.each(aclEntry.privileges, function(index, privilege) {\n\n            var removeButton = thiz.makeButton(\"Remove\", \"removePrivButton\", //\n                \"meta64.getObjectByGuid(\" + thiz.guid + \").removePrivilege('\" + principal + \"', '\" + privilege.privilegeName\n                + \"');\");\n\n            var row = render.makeHorizontalFieldSet(removeButton);\n\n            row += \"<b>\" + principal + \"</b> has privilege <b>\" + privilege.privilegeName + \"</b> on this node.\";\n\n            ret += render.tag(\"div\", {\n                \"class\": \"privilege-entry\"\n            }, row);\n        });\n        return ret;\n    }\n\n    shareNodeToPersonPg = (): void => {\n      Factory.createDefault(\"ShareToPersonDlgImpl\", (dlg:ShareToPersonDlg) => {\n        dlg.open();\n      })\n    }\n\n    shareNodeToPublic = (): void => {\n        console.log(\"Sharing node to public.\");\n        /*\n         * Trigger going to server at next main page refresh\n         */\n        meta64.treeDirty = true;\n\n        /*\n         * Add privilege and then reload share nodes dialog from scratch doing another callback to server\n         *\n         * TODO: this additional call can be avoided as an optimization\n         */\n        util.json<I.AddPrivilegeRequest, I.AddPrivilegeResponse>(\"addPrivilege\", {\n            \"nodeId\": share.sharingNode.id,\n            \"principal\": \"everyone\",\n            \"privileges\": [\"read\"],\n            \"publicAppend\": false\n        }, this.reload, this);\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {SignupDlg} from \"./SignupDlg\";\nimport {render} from \"./Render\";\nimport {util} from \"./Util\";\nimport * as I from \"./Interfaces\";\n\ndeclare var BRANDING_TITLE;\ndeclare var postTargetUrl;\n\nexport default class SignupDlgImpl  extends DialogBaseImpl implements SignupDlg {\n\n    constructor() {\n        super(\"SignupDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(BRANDING_TITLE + \" Signup\");\n\n        var formControls = //\n            this.makeEditField(\"User\", \"signupUserName\") + //\n            this.makePasswordField(\"Password\", \"signupPassword\") + //\n            this.makeEditField(\"Email\", \"signupEmail\") + //\n            this.makeEditField(\"Captcha\", \"signupCaptcha\");\n\n        var captchaImage = render.tag(\"div\", //\n            {\n                \"class\": \"captcha-image\" //\n            }, //\n            render.tag(\"img\", //\n                {\n                    \"id\": this.id(\"captchaImage\"),\n                    \"class\": \"captcha\",\n                    \"src\": \"\"//\n                }, //\n                \"\", false));\n\n        var signupButton = this.makeButton(\"Signup\", \"signupButton\", this.signup);\n        var newCaptchaButton = this.makeButton(\"Try Different Image\", \"tryAnotherCaptchaButton\",\n            this.tryAnotherCaptcha);\n        var backButton = this.makeCloseButton(\"Close\", \"cancelSignupButton\");\n\n        var buttonBar = render.centeredButtonBar(signupButton + newCaptchaButton + backButton);\n\n        return header + formControls + captchaImage + buttonBar;\n\n        /*\n         * $(\"#\" + _.domId + \"-main\").css({ \"backgroundImage\" : \"url(/ibm-702-bright.jpg);\" \"background-repeat\" :\n         * \"no-repeat;\", \"background-size\" : \"100% auto\" });\n         */\n    }\n\n    signup = (): void => {\n        var userName = this.getInputVal(\"signupUserName\");\n        var password = this.getInputVal(\"signupPassword\");\n        var email = this.getInputVal(\"signupEmail\");\n        var captcha = this.getInputVal(\"signupCaptcha\");\n\n        /* no real validation yet, other than non-empty */\n        if (!userName || userName.length == 0 || //\n            !password || password.length == 0 || //\n            !email || email.length == 0 || //\n            !captcha || captcha.length == 0) {\n            util.showMessage(\"You cannot leave any fields blank.\");\n            return;\n        }\n\n        util.json<I.SignupRequest, I.SignupResponse>(\"signup\", {\n            \"userName\": userName,\n            \"password\": password,\n            \"email\": email,\n            \"captcha\": captcha\n        }, this.signupResponse, this);\n    }\n\n    signupResponse = (res: I.SignupResponse): void => {\n        if (util.checkSuccess(\"Signup new user\", res)) {\n\n            /* close the signup dialog */\n            this.cancel();\n\n            util.showMessage(\n                \"User Information Accepted.<p/>Check your email for signup confirmation.\"\n            );\n        }\n    }\n\n    tryAnotherCaptcha = (): void => {\n        var n = util.currentTimeMillis();\n\n        /*\n         * embed a time parameter just to thwart browser caching, and ensure server and browser will never return the same\n         * image twice.\n         */\n        var src = postTargetUrl + \"captcha?t=\" + n;\n        $(\"#\" + this.id(\"captchaImage\")).attr(\"src\", src);\n    }\n\n    pageInitSignupPg = (): void => {\n        this.tryAnotherCaptcha();\n    }\n\n    init = (): void => {\n        this.pageInitSignupPg();\n        util.delayedFocus(\"#\" + this.id(\"signupUserName\"));\n    }\n}\n","import {DialogBase} from \"./DialogBase\";\n\nexport interface UploadFromFileDlg extends DialogBase {\n}\n","import { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { UploadFromFileDlg } from \"./UploadFromFileDlg\";\nimport { ConfirmDlg } from \"./ConfirmDlg\";\nimport { Factory } from \"./Factory\";\nimport { render } from \"./Render\";\nimport { cnst } from \"./Constants\";\nimport { attachment } from \"./Attachment\";\nimport { meta64 } from \"./Meta64\";\nimport { util } from \"./Util\";\n\ndeclare var postTargetUrl;\n\nexport default class UploadFromFileDlgImpl extends DialogBaseImpl implements UploadFromFileDlg {\n\n    constructor() {\n        super(\"UploadFromFileDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        let header = this.makeHeader(\"Upload File Attachment\");\n\n        let uploadPathDisplay = \"\";\n\n        if (cnst.SHOW_PATH_IN_DLGS) {\n            uploadPathDisplay += render.tag(\"div\", {//\n                \"id\": this.id(\"uploadPathDisplay\"),\n                \"class\": \"path-display-in-editor\"\n            }, \"\");\n        }\n\n        let uploadFieldContainer = \"\";\n        let formFields = \"\";\n\n        /*\n         * For now I just hard-code in 7 edit fields, but we could theoretically make this dynamic so user can click 'add'\n         * button and add new ones one at a time. Just not taking the time to do that yet.\n         *\n         * todo-0: This is ugly to pre-create these input fields. Need to make them able to add dynamically.\n         * (Will do this modification once I get the drag-n-drop stuff working first)\n         */\n        for (let i = 0; i < 7; i++) {\n            let input = render.tag(\"input\", {\n                \"id\": this.id(\"upload\" + i + \"FormInputId\"),\n                \"type\": \"file\",\n                \"name\": \"files\"\n            }, \"\", true);\n\n            /* wrap in DIV to force vertical align */\n            formFields += render.tag(\"div\", {\n                \"style\": \"margin-bottom: 10px;\"\n            }, input);\n        }\n\n        formFields += render.tag(\"input\", {\n            \"id\": this.id(\"uploadFormNodeId\"),\n            \"type\": \"hidden\",\n            \"name\": \"nodeId\"\n        }, \"\", true);\n\n        /* boolean field to specify if we explode zip files onto the JCR tree */\n        formFields += render.tag(\"input\", {\n            \"id\": this.id(\"explodeZips\"),\n            \"type\": \"hidden\",\n            \"name\": \"explodeZips\"\n        }, \"\", true);\n\n        let form = render.tag(\"form\", {\n            \"id\": this.id(\"uploadForm\"),\n            \"method\": \"POST\",\n            \"enctype\": \"multipart/form-data\",\n            \"data-ajax\": \"false\" // NEW for multiple file upload support???\n        }, formFields);\n\n        uploadFieldContainer = render.tag(\"div\", {//\n            \"id\": this.id(\"uploadFieldContainer\")\n        }, \"<p>Upload from your computer</p>\" + form);\n\n        let uploadButton = this.makeCloseButton(\"Upload\", \"uploadButton\", this.uploadFileNow, this);\n        let backButton = this.makeCloseButton(\"Close\", \"closeUploadButton\");\n        let buttonBar = render.centeredButtonBar(uploadButton + backButton);\n\n        return header + uploadPathDisplay + uploadFieldContainer + buttonBar;\n    }\n\n    hasAnyZipFiles = (): boolean => {\n        let ret: boolean = false;\n        for (let i = 0; i < 7; i++) {\n            let inputVal = $(\"#\" + this.id(\"upload\" + i + \"FormInputId\")).val();\n            if (inputVal.toLowerCase().endsWith(\".zip\")) {\n                return true;\n            }\n        }\n        return ret;\n    }\n\n    uploadFileNow = (): void => {\n\n        let uploadFunc = (explodeZips) => {\n            /* Upload form has hidden input element for nodeId parameter */\n            $(\"#\" + this.id(\"uploadFormNodeId\")).attr(\"value\", attachment.uploadNode.id);\n            $(\"#\" + this.id(\"explodeZips\")).attr(\"value\", explodeZips ? \"true\" : \"false\");\n\n            /*\n             * This is the only place we do something differently from the normal 'util.json()' calls to the server, because\n             * this is highly specialized here for form uploading, and is different from normal ajax calls.\n             */\n            let data = new FormData(<HTMLFormElement>($(\"#\" + this.id(\"uploadForm\"))[0]));\n\n            let prms = $.ajax({\n                url: postTargetUrl + \"upload\",\n                data: data,\n                cache: false,\n                contentType: false,\n                processData: false,\n                type: 'POST'\n            });\n\n            prms.done(function() {\n                meta64.refresh();\n            });\n\n            prms.fail(function() {\n                util.showMessage(\"Upload failed.\");\n            });\n        };\n\n        if (this.hasAnyZipFiles()) {\n            Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n                dlg.open();\n            }, {\n                    \"title\": \"Explode Zips?\",\n                    \"message\": \"Do you want Zip files exploded onto the tree when uploaded?\",\n                    \"buttonText\": \"Yes, explode zips\",\n                    \"yesCallback\":\n                    function() {\n                        uploadFunc(true);\n                    },\n                    \"noCallback\": function() {\n                        uploadFunc(true);\n                    }\n                });\n        }\n        else {\n            uploadFunc(false);\n        }\n    }\n\n    init = (): void => {\n        /* display the node path at the top of the edit page */\n        $(\"#\" + this.id(\"uploadPathDisplay\")).html(\"Path: \" + render.formatPath(attachment.uploadNode));\n    }\n}\n","import { DialogBaseImpl } from \"./DialogBaseImpl\";\nimport { UploadFromFileDropzoneDlg } from \"./UploadFromFileDropzoneDlg\";\nimport {Factory} from \"./Factory\";\nimport {ConfirmDlg} from \"./ConfirmDlg\";\nimport { cnst } from \"./Constants\";\nimport { render } from \"./Render\";\nimport { attachment } from \"./Attachment\";\nimport { meta64 } from \"./Meta64\";\n\ndeclare var postTargetUrl;\n\nexport default class UploadFromFileDropzoneDlgImpl extends DialogBaseImpl implements UploadFromFileDropzoneDlg {\n\n    constructor() {\n        super(\"UploadFromFileDropzoneDlg\");\n    }\n\n    fileList: Object[] = null;\n    zipQuestionAnswered: boolean = false;\n    explodeZips: boolean = false;\n\n    build = (): string => {\n        let header = this.makeHeader(\"Upload File Attachment\");\n\n        let uploadPathDisplay = \"\";\n\n        if (cnst.SHOW_PATH_IN_DLGS) {\n            uploadPathDisplay += render.tag(\"div\", {//\n                \"id\": this.id(\"uploadPathDisplay\"),\n                \"class\": \"path-display-in-editor\"\n            }, \"\");\n        }\n\n        let formFields = \"\";\n\n        console.log(\"Upload Action URL: \" + postTargetUrl + \"upload\");\n\n        let hiddenInputContainer = render.tag(\"div\", {\n            \"id\": this.id(\"hiddenInputContainer\"),\n            \"style\": \"display: none;\"\n        }, \"\");\n\n        let form = render.tag(\"form\", {\n            \"action\": postTargetUrl + \"upload\",\n            \"autoProcessQueue\": false,\n            /* Note: we also have some styling in meta64.css for 'dropzone' */\n            \"class\": \"dropzone\",\n            \"id\": this.id(\"dropzone-form-id\")\n        }, \"\");\n\n        let uploadButton = this.makeCloseButton(\"Upload\", \"uploadButton\", null, null, false);\n        let backButton = this.makeCloseButton(\"Close\", \"closeUploadButton\");\n        let buttonBar = render.centeredButtonBar(uploadButton + backButton);\n\n        return header + uploadPathDisplay + form + hiddenInputContainer + buttonBar;\n    }\n\n    configureDropZone = (): void => {\n\n        let thiz = this;\n        let config: Object = {\n            url: postTargetUrl + \"upload\",\n            // Prevents Dropzone from uploading dropped files immediately\n            autoProcessQueue: false,\n            paramName: \"files\",\n            maxFilesize: 2,\n            parallelUploads: 10,\n\n            /* Not sure what's this is for, but the 'files' parameter on the server is always NULL, unless\n            the uploadMultiple is false */\n            uploadMultiple: false,\n            addRemoveLinks: true,\n            dictDefaultMessage: \"Drag & Drop files here, or Click\",\n            hiddenInputContainer: \"#\" + thiz.id(\"hiddenInputContainer\"),\n\n            /*\n            This doesn't work at all. Dropzone apparently claims to support this but doesn't.\n            See the \"sending\" function below, where I ended up passing these parameters.\n            headers : {\n                \"nodeId\" : attachment.uploadNode.id,\n                \"explodeZips\" : explodeZips ? \"true\" : \"false\"\n            },\n            */\n\n            init: function() {\n                let dropzone = this; // closure\n                var submitButton = document.querySelector(\"#\" + thiz.id(\"uploadButton\"));\n                if (!submitButton) {\n                    console.log(\"Unable to get upload button.\");\n                }\n\n                submitButton.addEventListener(\"click\", function(e) {\n                    //e.preventDefault();\n                    dropzone.processQueue();\n                });\n\n                this.on(\"addedfile\", function() {\n                    thiz.updateFileList(this);\n                    thiz.runButtonEnablement(this);\n                });\n\n                this.on(\"removedfile\", function() {\n                    thiz.updateFileList(this);\n                    thiz.runButtonEnablement(this);\n                });\n\n                this.on(\"sending\", function(file, xhr, formData) {\n                    formData.append(\"nodeId\", attachment.uploadNode.id);\n                    formData.append(\"explodeZips\", this.explodeZips ? \"true\" : \"false\");\n                    this.zipQuestionAnswered = false;\n                });\n\n                this.on(\"queuecomplete\", function(file) {\n                    meta64.refresh();\n                });\n            }\n        };\n\n        (<any>$(\"#\" + this.id(\"dropzone-form-id\"))).dropzone(config);\n    }\n\n    updateFileList = (dropzoneEvt: any): void => {\n        let thiz = this;\n        this.fileList = dropzoneEvt.getAddedFiles();\n        this.fileList = this.fileList.concat(dropzoneEvt.getQueuedFiles());\n\n        /* Detect if any ZIP files are currently selected, and ask user the question about whether they\n        should be extracted automatically during the upload, and uploaded as individual nodes\n        for each file */\n        if (!this.zipQuestionAnswered && this.hasAnyZipFiles()) {\n            this.zipQuestionAnswered = true;\n            Factory.createDefault(\"ConfirmDlgImpl\", (dlg: ConfirmDlg) => {\n                dlg.open();\n            }, {\n                    \"title\": \"Explode Zips?\",\n                    \"message\": \"Do you want Zip files exploded onto the tree when uploaded?\",\n                    \"buttonText\": \"Yes, explode zips\",\n                    \"yesCallback\":\n                    function() {\n                        thiz.explodeZips = true;\n                    },\n                    \"noCallback\": function() {\n                        thiz.explodeZips = false;\n                    }\n                });\n        }\n    }\n\n    hasAnyZipFiles = (): boolean => {\n        let ret: boolean = false;\n        for (let file of this.fileList) {\n            if (file[\"name\"].toLowerCase().endsWith(\".zip\")) {\n                return true;\n            }\n        }\n        return ret;\n    }\n\n    runButtonEnablement = (dropzoneEvt: any): void => {\n        if (dropzoneEvt.getAddedFiles().length > 0 ||\n            dropzoneEvt.getQueuedFiles().length > 0) {\n            $(\"#\" + this.id(\"uploadButton\")).show();\n        }\n        else {\n            $(\"#\" + this.id(\"uploadButton\")).hide();\n        }\n    }\n\n    init = (): void => {\n        /* display the node path at the top of the edit page */\n        $(\"#\" + this.id(\"uploadPathDisplay\")).html(\"Path: \" + render.formatPath(attachment.uploadNode));\n\n        this.configureDropZone();\n    }\n}\n","import {DialogBaseImpl} from \"./DialogBaseImpl\";\nimport {UploadFromUrlDlg} from \"./UploadFromUrlDlg\";\nimport {cnst} from \"./Constants\";\nimport {render} from \"./Render\";\nimport {util} from \"./Util\";\nimport {attachment} from \"./Attachment\";\nimport {meta64} from \"./Meta64\";\nimport * as I from \"./Interfaces\";\n\nexport default class UploadFromUrlDlgImpl extends DialogBaseImpl implements UploadFromUrlDlg {\n\n    constructor() {\n        super(\"UploadFromUrlDlg\");\n    }\n\n    /*\n     * Returns a string that is the HTML content of the dialog\n     */\n    build = (): string => {\n        var header = this.makeHeader(\"Upload File Attachment\");\n\n        var uploadPathDisplay = \"\";\n\n        if (cnst.SHOW_PATH_IN_DLGS) {\n            uploadPathDisplay += render.tag(\"div\", {//\n                \"id\": this.id(\"uploadPathDisplay\"),\n                \"class\": \"path-display-in-editor\"\n            }, \"\");\n        }\n\n        var uploadFieldContainer = \"\";\n        var uploadFromUrlDiv = \"\";\n\n        var uploadFromUrlField = this.makeEditField(\"Upload From URL\", \"uploadFromUrl\");\n        uploadFromUrlDiv = render.tag(\"div\", {//\n        }, uploadFromUrlField);\n\n        var uploadButton = this.makeCloseButton(\"Upload\", \"uploadButton\", this.uploadFileNow, this);\n        var backButton = this.makeCloseButton(\"Close\", \"closeUploadButton\");\n\n        var buttonBar = render.centeredButtonBar(uploadButton + backButton);\n\n        return header + uploadPathDisplay + uploadFieldContainer + uploadFromUrlDiv + buttonBar;\n    }\n\n    uploadFileNow = (): void => {\n        var sourceUrl = this.getInputVal(\"uploadFromUrl\");\n\n        /* if uploading from URL */\n        if (sourceUrl) {\n            util.json<I.UploadFromUrlRequest, I.UploadFromUrlResponse>(\"uploadFromUrl\", {\n                \"nodeId\": attachment.uploadNode.id,\n                \"sourceUrl\": sourceUrl\n            }, this.uploadFromUrlResponse, this);\n        }\n    }\n\n    uploadFromUrlResponse = (res: I.UploadFromUrlResponse): void => {\n        if (util.checkSuccess(\"Upload from URL\", res)) {\n            meta64.refresh();\n        }\n    }\n\n    init = (): void => {\n        util.setInputVal(this.id(\"uploadFromUrl\"), \"\");\n\n        /* display the node path at the top of the edit page */\n        $(\"#\" + this.id(\"uploadPathDisplay\")).html(\"Path: \" + render.formatPath(attachment.uploadNode));\n    }\n}\n"]}